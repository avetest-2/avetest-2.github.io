const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DubBzgpx.js","./pxHhHUe5.js","./entry.C8iJJINC.css","./C0-F8uRa.js","./BkbEpA73.js","./Bd4n395U.js","./uG3PizZo.js","./scrollbar.wwf0UyhQ.css","./netSelect.B1Q4n0JG.css","./X1MX9tB7.js","./draggable.inVfEAcm.css","./DrRY09yo.js","./BgFcDzLH.js","./radio-group.BLfk2hwF.css","./B3CwgMQF.js","./3zf6s2PU.js","./DU6RBO19.js","./dropdown.BebM7Wof.css","./D5SrGyNL.js","./switch.BHcx86ck.css","./oM4-4KJQ.js","./CJr2h2LL.js","./BwPtREp8.js","./input-number.HwP0nlBD.css","./BC28JpVo.js","./xG3n2otq.js","./tag.D5zYjl71.css","./Ss6PgMLe.js","./select.bnIT0Jy1.css","./slippageSet.10-w620G.css","./CAY6cvuw.js","./remind.B6TrAqUJ.css","./b94L9vb_.js","./CU9NKK_R.js","./DaNJHyoY.js","./AeiRVpKC.js","./Ca4NtERO.js","./mY5Y9jID.js","./DlhmlHT6.js","./table.Cdl6t-Uy.css","./Cx8PcgYp.js","./pagination.Cu-ALQWS.css","./BeXmGP7f.js","./Dkz-6Ico.js","./perp.BdekvRhu.css","./DfqZGjWd.js","./QBsq1rEg.js","./Brqh9oRf.js","./CthYtH4c.js","./DQmdIPac.js","./B-rSTJlV.js","./slider.LN1DrOuY.css","./EKWuchHU.js","./B2dydDoX.js","./proPopover.BtSs7_qu.css","./0bIh-WbU.js","./index.QyGACf_n.css","./DA_jZJeZ.js","./default.q5E459Bp.css","./radio-button.BKANFUc1.css","./Dg9iiSr_.js","./CWaGfKx6.js","./trackerPop.DfOcWQWx.css"])))=>i.map(i=>d[i]);
import{ah as e,_ as t,av as a,dk as l,cG as i,aB as n,bn as o,D as s,F as r,a7 as u,H as c,o as d,w as p,a as v,M as h,c as m,a5 as g,a6 as x,J as f,E as w,K as _,t as b,b as y,S as k,aT as W,bJ as C,aa as $,T as H,d as R,L as V,aw as F,aQ as S,aP as j,aY as T,aX as A,ax as D,fm as E,dh as O,b$ as z,aR as I,a3 as q,bm as N,aW as U,cV as L,ay as M,G as P,aE as B,P as G,a4 as J,cT as K,I as Q,a0 as X}from"./pxHhHUe5.js";import{_ as Y}from"./X1MX9tB7.js";import{a as Z,E as ee}from"./DlhmlHT6.js";import"./xG3n2otq.js";import"./uG3PizZo.js";import{u as te,a as ae}from"./BkbEpA73.js";import{u as le}from"./Dg9iiSr_.js";function ie(t){const{$api:a}=e();return a("/v2api/twitter/v1/kol/homepage",{method:"get",query:t})}function ne(t){const{$api:a}=e();return a("/v2api/twitter/v1/kol/follow",{method:"post",body:{author_id:t}})}function oe(t){const{$api:a}=e();return a("/v2api/twitter/v1/kol/unfollow",{method:"post",body:{author_id:t}})}function se(){const{$api:t}=e();return t("/v2api/twitter/v1/kol/follow/ids",{method:"get"})}function re(t){const{$api:a}=e();return a("/v2api/twitter/v1/kol/profile",{method:"get",query:{author_id:t}})}function ue(t,a){const{$api:l}=e();return l("/v2api/twitter/v1/kol/profile/tweets",{method:"get",query:{author_id:t,page_token:a}})}function ce(t){const{$api:a}=e();return a("/v1api/v2/discover/news",{method:"get",query:{lang:t.lang,userAddress:t.userAddress,pageNO:t.pageNO||1,pageSize:t.pageSize||30}})}const de={class:"px-20px pb-10px"},pe={class:"flex gap-16px mb-20px"},ve=["onClick"],he={class:"flex items-center gap-12px mb-20px"},me={class:"flex items-center gap-4px"},ge={key:0,class:"flex flex-col items-center pt-60px"},xe={class:"color-[--third-text] text-12px mb-20px mt-4px lh-12px"},fe={class:"text-[--third-text] text-12px"},we={class:"flex items-center gap-12px"},_e=["onClick"],be={class:"flex items-center gap-8px"},ye={class:"color-[--main-text] text-14px lh-20px truncate max-w-140px"},ke={key:0,class:"w-14px h-14px bg-#000 rounded-full"},We=["src"],Ce={class:"text-12px color-[--secondary-text] lh-14px"},$e={class:"underline underline-dotted"},He={class:"text-[--main-text]"},Re={class:"flex justify-end items-center gap-4px text-12px"},Ve={class:"flex items-center"},Fe={class:"text-[--main-text]"},Se=t({__name:"drawer",props:{visible:{type:Boolean},visibleModifiers:{}},emits:["update:visible"],setup(t){const{t:q}=a(),N=l(t,"visible"),U=te(),L=i(),M=r([]),P=r({}),B=r(!1),G=r(!1),J=r(!1),K=n(),Q=r([]),X=r({keyword:"",cursor:"",tags:""}),Y=r(!1),ae=r(!1),le=r([]),ie=r(1),se=o("twFollowIds",[]),re=1,ue=2,ce=w(()=>[{label:q("hotSub"),value:re},{label:q("mySub"),value:ue}]),Se=w(()=>ie.value===ue);function je(e){Q.value=e?M.value.map(e=>e.tag):[],J.value=!1}function Te(e){const t=e.length;G.value=t===M.value.length,J.value=t>0&&t<M.value.length}const Ae=()=>{X.value.page_token="",Y.value=!1,ae.value=!1,le.value=[]},De=()=>{B.value=!1,X.value.tags=Q.value.toString(),Ae(),Oe()},Ee=C(()=>{Ae(),Oe()},300),Oe=async()=>{Y.value=!0;try{let t=null;if(t=ie.value===re?await function(t){const{$api:a}=e();return a("/v2api/twitter/v1/kol/hot",{method:"get",query:t})}(X.value):await function(t){const{$api:a}=e();return a("/v2api/twitter/v1/kol/follow/list",{method:"get",query:t})}(X.value),t){X.value.page_token=t.page_token||"";const e=t.authors||[];ae.value=!t.page_token,X.value.page_token||ae.value?le.value=[...le.value,...e]:le.value=e,!ae.value&&le.value.length<40&&Oe()}}catch(t){}finally{Y.value=!1}};Oe(),s(()=>N.value,e=>{e&&(X.value.keyword="",ie.value=re,Ae(),Oe())});const ze=(e,t)=>{U.list.forEach(a=>{a.author.author_id===e&&(a.author.follow_status=t)})},Ie=async()=>{try{const t=await function(){const{$api:t}=e();return t("/v2api/twitter/v1/kol/config",{method:"get",query:{}})}();M.value=(null==t?void 0:t.tag_configs)||[],P.value=((null==t?void 0:t.tag_configs)||[]).reduce((e,t)=>(e[t.tag]=t.name,e),{})}catch(t){}};s(()=>L.locale,Ie),Ie();const qe=(e=[])=>e.map(e=>P.value[e]).join(","),Ne=()=>{z.confirm(q("deleteAllTips"),q("deleteAll"),{confirmButtonText:q("confirm"),cancelButtonText:q("cancel"),type:"warning"}).then(async()=>{await function(){const{$api:t}=e();return t("/v2api/twitter/v1/kol/unfollow/all",{method:"post",body:{}})}(),I.success(q("success")),le.value=[],se.value=[]})},Ue=()=>{ie.value=re,Ae(),Oe()};return(e,t)=>{const a=$,l=W,i=H,n=D,o=F,s=ee,r=T,w=A,C=S,z=Z,U=O,L=u("tooltip"),P=E;return d(),c(U,{modelValue:N.value,"onUpdate:modelValue":t[5]||(t[5]=e=>N.value=e),class:"[--el-dialog-bg-color:--dialog-bg]",title:f(q)("twitterTracker"),size:540},{default:p(()=>[v("div",de,[v("div",pe,[(d(!0),m(g,null,x(f(ce),e=>(d(),m("span",{key:e.value,class:_(["text-16px cursor-pointer",f(ie)===e.value?"color-[--main-text]":"color-[--secondary-text]"]),onClick:t=>{return a=e.value,ie.value=a,Ae(),X.value.tags="",Q.value=[],void Oe();var a}},b(e.label),11,ve))),128))]),v("div",he,[y(l,{modelValue:f(X).keyword,"onUpdate:modelValue":t[0]||(t[0]=e=>f(X).keyword=e),class:"[&&]:[--el-input-height:36px] [&&]:[--el-input-bg-color:--border]",placeholder:f(q)("searchAccount"),clearable:"",onInput:f(Ee)},{prefix:p(()=>[y(a,{class:"text-16px",name:"custom:search"})]),_:1},8,["modelValue","placeholder","onInput"]),2===f(ie)?(d(),c(i,{key:0,disabled:0===f(le).length,onClick:Ne},{default:p(()=>[v("div",me,[y(a,{name:"custom:delete-all"}),R(" "+b(f(q)("deleteAll")),1)])]),_:1},8,["disabled"])):k("",!0)]),h((d(),c(z,{data:f(le),"header-cell-class-name":"text-12px",style:{width:"100%"},"infinite-scroll-disabled":f(ae)||f(Y),"infinite-scroll-distance":20,"infinite-scroll-delay":200,fit:""},{empty:p(()=>[f(Se)&&f(X).keyword?(d(),m("div",ge,[y(a,{name:"custom:twitter-empty",class:"text-61px mb-12px color-[--icon-color]"}),v("span",xe,b(f(q)("twitterEmpty")),1),y(i,{type:"primary",class:"text-12px w-266px h-40px",onClick:Ue},{default:p(()=>[R(b(f(q)("attention")),1)]),_:1})])):(d(),c(n,{key:1,class:"pt-40px"},{default:p(()=>[v("span",fe,b(f(q)("emptyNoData")),1)]),_:1}))]),default:p(()=>[y(s,{label:"#"},{default:p(({row:e,$index:t})=>[v("div",we,[v("span",{style:V({width:le.value.length>99?"24px":le.value.length>9?"16px":"8px"}),class:"text-[--third-text]"},b(t+1),5),v("div",{class:"flex items-center gap-12px cursor-pointer shrink-0",onClick:t=>(e=>{window.open(e.twitter_url,"_blank")})(e)},[y(o,{wallet_logo:{logo:e.profile_pic,name:e.name},"icon-size":"32px"},null,8,["wallet_logo"]),v("div",null,[v("div",be,[h((d(),m("span",ye,[R(b(e.name),1)])),[[L,e.name]]),e.chain?(d(),m("div",ke,[v("img",{class:"w-full h-full rounded-full block",src:`${f(K).token_logo_url}chain/${e.chain}.png`,alt:"",onerror:"this.src='/icon-default.png'",srcset:""},null,8,We)])):k("",!0)]),v("div",Ce,"@"+b(e.username),1)])],8,_e)])]),_:1}),y(s,{prop:"ave_follower_count",align:"right",width:"90"},{header:p(()=>[h((d(),m("span",$e,[R(b(f(q)("subCount")),1)])),[[L,f(q)("subCountTips")]])]),default:p(({row:e})=>[v("span",He,b(e.ave_follower_count),1)]),_:1}),y(s,{width:"110",align:"right",label:f(q)("tags")},{header:p(()=>[v("div",Re,[v("span",null,b(e.$t("tags")),1),y(C,{visible:f(B),"onUpdate:visible":t[4]||(t[4]=e=>j(B)?B.value=e:null),placement:"bottom",width:164,trigger:"click","popper-class":"el-drawer-popover"},{reference:p(()=>[y(a,{name:"custom:filter",class:_((f(Q).length>0?"color-[--secondary-text]":"color-[--third-text]")+" cursor-pointer text-10px shrink-0")},null,8,["class"])]),default:p(()=>[y(r,{modelValue:f(G),"onUpdate:modelValue":t[1]||(t[1]=e=>j(G)?G.value=e:null),class:"width_100 [--el-checkbox-height:16px] mb-12px",indeterminate:f(J),onChange:je},{default:p(()=>[R(b(e.$t("all")),1)]),_:1},8,["modelValue","indeterminate"]),y(w,{modelValue:f(Q),"onUpdate:modelValue":t[2]||(t[2]=e=>j(Q)?Q.value=e:null),onChange:Te},{default:p(()=>[(d(!0),m(g,null,x(f(M),(e,t)=>(d(),c(r,{key:t,class:"w-full [--el-checkbox-height:16px] mb-12px",label:e.name,value:e.tag},{default:p(()=>[R(b(e.name),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"]),v("div",Ve,[y(i,{class:"min-w-0 flex-1",style:{"--border":"var(--gray-button-hover)"},onClick:t[3]||(t[3]=e=>B.value=!1)},{default:p(()=>[R(b(f(q)("cancel")),1)]),_:1}),y(i,{class:"min-w-0 flex-1",type:"primary",onClick:De},{default:p(()=>[R(b(f(q)("confirm")),1)]),_:1})])]),_:1},8,["visible"])])]),default:p(({row:e})=>[v("span",Fe,b(qe(e.tags||[])),1)]),_:1},8,["label"]),y(s,{width:"40",align:"right",label:""},{default:p(({row:e,$index:t})=>[1===e.follow_status||2===f(ie)?(d(),c(a,{key:0,class:"cursor-pointer",name:"custom:twitter-del",onClick:a=>(async(e,t)=>{try{await oe(e),I.success(q("cancelFollowed")),Se.value?le.value=le.value.filter(t=>t.author_id!==e):le.value[t].follow_status=0,ze(e,0),se.value=se.value.filter(t=>t.author_id!==e),le.value[t].ave_follower_count--}catch(a){I.error(q("failed"))}})(e.author_id,t)},null,8,["onClick"])):(d(),c(a,{key:1,class:"cursor-pointer",name:"custom:twitter-add",onClick:a=>(async(e,t)=>{try{if(se.value.length>=50)return void I.error(q("twitterMax"));await ne(e),I.success(q("followed")),le.value[t].follow_status=1,ze(e,1),se.value=se.value.concat({author_id:e}),le.value[t].ave_follower_count++}catch(a){I.error(q("failed"))}})(e.author_id,t)},null,8,["onClick"]))]),_:1})]),_:1},8,["data","infinite-scroll-disabled"])),[[P,Oe]])])]),_:1},8,["modelValue","title"])}}},[["__scopeId","data-v-cbc73c79"]]),je={__name:"index",setup(e){const t=K(()=>L(()=>import("./DubBzgpx.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60]),import.meta.url)),l=r(!1),i=te(),n=ae(),{t:o}=a(),{placement:u}=q(i),x=le(),_=r(0),{width:b}=N(),k=r(null);X("twitter_author_id",k);s(()=>u.value,()=>{_.value++,V()}),U(()=>{i.visible?C():setTimeout(()=>{C()},3e3)}),s(()=>i.visible,()=>{i.visible&&C()});const W=M(null),C=async()=>{const e=await L(()=>import("./CWaGfKx6.js"),__vite__mapDeps([61,1,2,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,3,60,62]),import.meta.url);W.value=e.default},$=w(()=>({minWidth:360,minHeight:160,maxWidth:438,initialHeight:i.winHeight-95,centerScrollHeight:i.boundingRect.height-140,otherScrollHeight:i.winHeight-230})),H=w(()=>({center:{className:"top-0 left-0 fixed",initialWidth:i.boundingRect.width,initialHeight:i.boundingRect.height,x:i.boundingRect.x,y:i.boundingRect.y,minWidth:$.value.minWidth,minHeight:$.value.minHeight,parent:!0,handles:["tl","tm","tr","mr","br","bm","bl","ml"],dragHandle:".drag-handle"},left:{className:"[&&]:relative shrink-0 left fixed! top-61px",style:`left:${n.leftWidth.twitter}px`,axis:"x",x:0,minWidth:$.value.minWidth,maxWidth:$.value.maxWidth,initialWidth:i.fixedWidth,initialHeight:$.value.initialHeight,parent:!0,handles:["mr"],dragHandle:".drag-handle"},right:{className:"[&&]:relative shrink-0 right fixed! top-61px left-0",axis:"x",x:n.rightWidth.twitter,y:0,minWidth:$.value.minWidth,maxWidth:$.value.maxWidth,initialWidth:i.fixedWidth,initialHeight:$.value.initialHeight,parent:!0,handles:["ml"],dragHandle:".drag-handle"}}[u.value])),R=M(!0),V=()=>{R.value=!1,P(()=>{R.value=!0})},F=w(()=>{let e={};return e="center"===u.value?{class:"border-1px border-solid border-[--d-1A1A1A-l-F2F2F2] shadow-[0_5px_10px_0_var(--d-FFFFFF14-l-00000014)]"}:{},e});function S(e,t){(Math.abs(e)<1||e+i.boundingRect.width>=b.value)&&n.fixedCount>=3?I.warning(o("popTips")):"left"===u.value?i.onLeftDragStop(e,t):"right"===u.value?i.onRightDragStop(e,t):i.onDragStop(e,t)}function T(e,t){"center"===u.value?i.onResizing(e,t):i.onFixedResizing(e)}function A(e){if("center"!==u.value)return null;i.onDrag(e)}function D(e){x.send({jsonrpc:"2.0",method:e,params:["public_twitter","hot"],id:1})}return D("subscribe"),B(()=>{D("unsubscribe")}),(e,a)=>{const n=Y,o=Se;return d(),m(g,null,[h(y(n,Q({class:{"left-drag":f(i).isLeftFixed,"right-drag":f(i).isRightFixed},shouldRenderChild:f(R)},f(H),{onOnDragStop:S,onOnResizing:T,onOnDrag:A}),{default:p(()=>[(d(),c(J(f(k)?f(t):f(W)),Q(f(F),{onSetDrawerVisible:a[0]||(a[0]=e=>l.value=!0)}),null,16))]),_:1},16,["class","shouldRenderChild"]),[[G,f(i).visible]]),v("div",null,[y(o,{visible:f(l),"onUpdate:visible":a[1]||(a[1]=e=>j(l)?l.value=e:null)},null,8,["visible"])])],64)}}},Te=Object.freeze(Object.defineProperty({__proto__:null,default:je},Symbol.toStringTag,{value:"Module"}));export{ue as a,ce as b,ie as c,se as d,ne as f,re as g,Te as i,oe as u};

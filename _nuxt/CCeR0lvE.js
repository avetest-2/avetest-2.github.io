const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DXBX62dY.js","./pxHhHUe5.js","./entry.C8iJJINC.css","./DlhmlHT6.js","./uG3PizZo.js","./scrollbar.wwf0UyhQ.css","./xG3n2otq.js","./tag.D5zYjl71.css","./DU6RBO19.js","./table.Cdl6t-Uy.css","./Pl0sl4qx.js","./DJ6HvwpC.js","./DGsbmmOS.js","./Blx2UtCs.js","./DKKpGD6T.js","./Dkz-6Ico.js","./BC28JpVo.js","./Ss6PgMLe.js","./select.bnIT0Jy1.css","./perp.BdekvRhu.css","./CD5Fbww6.js","./EKWuchHU.js","./B3CwgMQF.js","./3zf6s2PU.js","./dropdown.BebM7Wof.css","./BwPtREp8.js","./input-number.HwP0nlBD.css","./B-rSTJlV.js","./slider.LN1DrOuY.css","./-qzEQscJ.js","./alert.D1SEbdVP.css","./withdrawAlert.CV4LfpYj.css"])))=>i.map(i=>d[i]);
import{n as e,cF as l,ai as t,c as r,o as a,a as o,M as n,S as i,t as s,al as c,d as u,K as d,J as p,E as v,bS as m,H as x,w as b,a5 as f,a6 as g,b as h,aG as y,aI as w,a8 as _,bC as k,bZ as P,b_ as N,ay as C,_ as I,aT as S,aP as $,F as L,aa as T,bm as E,D as F,aW as D,G as A,am as M,L as O,a3 as V,go as R,gp as z,gq as j,a7 as B,aQ as U,dl as H,aM as K,au as W,T as Y,P as q,e as X,d8 as Z,av as J,gr as G,cD as Q,N as ee,fS as le,aR as te,gs as re,bF as ae,ak as oe,bp as ne,bq as ie,aY as se,ap as ce,dR as ue,dE as de,fy as pe,by as ve,a2 as me,aA as xe,cG as be,aB as fe,f_ as ge,gt as he,g5 as ye,aS as we,fw as _e,aq as ke,gu as Pe,bE as Ne,fr as Ce,cg as Ie,gd as Se,ad as $e,fK as Le,bG as Te,aE as Ee,bN as Fe,dK as De,dq as Ae,bn as Me,cT as Oe,a4 as Ve,cV as Re,at as ze,cc as je,fM as Be,cd as Ue,aj as He,a0 as Ke}from"./pxHhHUe5.js";import{E as We}from"./uG3PizZo.js";import{g as Ye,u as qe,a as Xe,c as Ze,C as Je,b as Ge,d as Qe,e as el,f as ll,h as tl,i as rl,t as al,j as ol,k as nl,D as il,l as sl}from"./Dkz-6Ico.js";import{E as cl}from"./B-rSTJlV.js";import{E as ul}from"./BwPtREp8.js";import{a as dl,E as pl}from"./CQ3Cm5RL.js";import{E as vl,a as ml,b as xl}from"./B3CwgMQF.js";import{E as bl}from"./-qzEQscJ.js";import{u as fl,d as gl}from"./coL0Kds6.js";import{u as hl}from"./DQmdIPac.js";import{U as yl}from"./akGpTOBp.js";import{_ as wl,a as _l}from"./CD5Fbww6.js";import"./BC28JpVo.js";import"./xG3n2otq.js";import"./Ss6PgMLe.js";import"./DU6RBO19.js";import"./3zf6s2PU.js";import"./DlhmlHT6.js";import"./EKWuchHU.js";const kl={class:"histrory"},Pl={class:"top h-39px"},Nl={class:"flex flex-col items-center justify-center ml-5px"},Cl={class:"flex flex-col items-center justify-center ml-5px"},Il={class:"flex flex-col items-center justify-center ml-5px"},Sl={class:"flex flex-col items-center justify-center ml-5px"},$l={class:"flex flex-col items-center justify-center ml-5px"},Ll={class:"content"},Tl=["onClick"],El={class:"token-info"},Fl={class:"icon-token-container relative"},Dl=["src"],Al=["src"],Ml={class:"ml-8px"},Ol={class:"flex-start"},Vl={class:"token-symbol"},Rl={class:"bg-[--dialog-tab-active-bg] text-10px px-2px py-2px ml-4px rounded-2px color-[--main-text]"},zl={key:1,class:"empty"},jl=["src"],Bl=I(e({__name:"searchTable",props:{tokens:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},isCanFilter:{type:Boolean,default:!1}},emits:["close","filter","sortChange","done"],setup(e,{emit:I}){const S=l(),$=e,L=I,T=t(),E=C(1),F=C("value"),D=v(()=>{var e;let l=null==(e=$.tokens)?void 0:e.slice(0);return l=l.map(e=>({...e,openInterests:k((null==e?void 0:e.openInterest)||0).times(e.indexPrice||0).toFixed()})),0===E.value||""===F.value?$.tokens:null==l?void 0:l.sort((e,l)=>((l[F.value]||0)-(e[F.value]||0))*E.value)}),A=v(()=>$.loading);function M(e,l,t){const r=E.value===e&&F.value===l;return"t"===t?r?"border-t-[--main-text]":"border-t-[--third-text]":r?"border-b-[--main-text]":"border-b-[--third-text]"}function O(e,l){if(F.value!==e)return F.value=e,E.value=1,void L("sortChange",{prop:F.value,order:E.value});E.value++,E.value>1&&(E.value=-1),L("sortChange",{prop:F.value,order:E.value})}return(l,t)=>{var v,C;const I=y,$=We,E=m;return a(),r("div",kl,[o("div",Pl,[o("span",null,s(l.$t("markets1")),1),o("div",{class:"flex-end cursor-pointer select-none",onClick:t[2]||(t[2]=c(e=>O("lastPrice"),["stop"]))},[u(s(l.$t("price"))+" ",1),o("div",Nl,[o("i",{class:d(`w-0 h-0 border-solid border-4px border-transparent cursor-pointer\n            ${M(-1,"lastPrice","b")}\n            `),onClick:t[0]||(t[0]=c(e=>O("lastPrice"),["stop"]))},null,2),o("i",{class:d(`w-0 h-0 border-solid border-4px border-transparent mt-3px cursor-pointer\n            ${M(1,"lastPrice","t")}\n            `),onClick:t[1]||(t[1]=c(e=>O("lastPrice"),["stop"]))},null,2)])]),o("div",{class:"flex-end cursor-pointer select-none",onClick:t[5]||(t[5]=c(e=>O("priceChangePercent"),["stop"]))},[u(s(l.$t("24HChange"))+" ",1),o("div",Cl,[o("i",{class:d(`w-0 h-0 border-solid border-4px border-transparent cursor-pointer\n            ${M(-1,"priceChangePercent","b")}\n            `),onClick:t[3]||(t[3]=c(e=>O("priceChangePercent"),["stop"]))},null,2),o("i",{class:d(`w-0 h-0 border-solid border-4px border-transparent mt-3px cursor-pointer\n            ${M(1,"priceChangePercent","t")}\n            `),onClick:t[4]||(t[4]=c(e=>O("priceChangePercent"),["stop"]))},null,2)])]),o("div",{class:"flex-end cursor-pointer select-none",onClick:t[8]||(t[8]=c(e=>O("value"),["stop"]))},[u(s(l.$t("vol"))+" ",1),o("div",Il,[o("i",{class:d(`w-0 h-0 border-solid border-4px border-transparent cursor-pointer\n            ${M(-1,"value","b")}\n            `),onClick:t[6]||(t[6]=c(e=>O("value"),["stop"]))},null,2),o("i",{class:d(`w-0 h-0 border-solid border-4px border-transparent mt-3px cursor-pointer\n            ${M(1,"value","t")}\n            `),onClick:t[7]||(t[7]=c(e=>O("value"),["stop"]))},null,2)])]),o("div",{class:"flex-end cursor-pointer select-none",onClick:t[11]||(t[11]=c(e=>O("openInterests"),["stop"]))},[u(s(l.$t("openInterest"))+" ",1),o("div",Sl,[o("i",{class:d(`w-0 h-0 border-solid border-4px border-transparent cursor-pointer\n            ${M(-1,"openInterests","b")}\n            `),onClick:t[9]||(t[9]=c(e=>O("openInterests"),["stop"]))},null,2),o("i",{class:d(`w-0 h-0 border-solid border-4px border-transparent mt-3px cursor-pointer\n            ${M(1,"openInterests","t")}\n            `),onClick:t[10]||(t[10]=c(e=>O("openInterests"),["stop"]))},null,2)])]),o("div",{class:"flex-end cursor-pointer select-none",onClick:t[14]||(t[14]=c(e=>O("fundingRate"),["stop"]))},[u(s(l.$t("fundingRate"))+" ",1),o("div",$l,[o("i",{class:d(`w-0 h-0 border-solid border-4px border-transparent cursor-pointer\n            ${M(-1,"fundingRate","b")}\n            `),onClick:t[12]||(t[12]=c(e=>O("fundingRate"),["stop"]))},null,2),o("i",{class:d(`w-0 h-0 border-solid border-4px border-transparent mt-3px cursor-pointer\n            ${M(1,"fundingRate","t")}\n            `),onClick:t[13]||(t[13]=c(e=>O("fundingRate"),["stop"]))},null,2)])])]),(null==(v=p(D))?void 0:v.length)>0||p(A)?n((a(),x($,{key:0,class:"hidden-scrollbar",height:"500px","max-height":"calc(100vh - 200px)"},{default:b(()=>[o("ul",Ll,[(a(!0),r(f,null,g(p(D),(e,l)=>(a(),r("li",{key:l},[o("a",{href:"",class:"flex no-underline h-50p",onClick:c(l=>function(e){T.push({name:"perp-id",params:{name:e.contractName}}),L("close")}(e),["stop","prevent"])},[o("div",El,[o("div",Fl,[h(I,{class:"token-icon",src:null==e?void 0:e.baseCoinIcon},{error:b(()=>[o("img",{class:"token-icon",src:p(w)()},null,8,Dl)]),placeholder:b(()=>[o("img",{class:"token-icon",src:p(w)()},null,8,Al)]),_:1},8,["src"])]),o("div",Ml,[o("div",Ol,[o("span",Vl,s(e.contractName),1),o("span",Rl,s(e.displayMaxLeverage)+"X",1)])])]),o("div",{class:d(Number(null==e?void 0:e.lastPrice)>0?"color-[--main-text]":"")},s(p(_)(e.lastPrice||0,8)),3),o("div",{class:d(Number(e.priceChangePercent)>0?"color-[--up-color]":"color-[--down-color]")},s(Number((null==e?void 0:e.priceChangePercent)||0)>0?"+":"")+s(p(_)(100*Number(null==e?void 0:e.priceChangePercent)||0,2))+"% ",3),o("div",{class:d(Number(e.value)>0?"color-[--main-text]":"")}," $"+s(p(_)((null==e?void 0:e.value)||0,{decimals:2,locale:"en"})),3),o("div",{class:d(Number(e.openInterest)>0?"color-[--main-text]":"")}," $"+s(p(_)(p(k)((null==e?void 0:e.openInterest)||0).times(e.indexPrice||0).toFixed(),{decimals:2,locale:"en"})),3),o("div",{class:d(Number(e.fundingRate)>0||Number(e.fundingInterestRate)>0?"color-[--main-text]":"")},s((100*Number((null==e?void 0:e.fundingRate)||e.fundingInterestRate)||0)>0?"+":"")+s(p(_)(100*Number((null==e?void 0:e.fundingRate)||e.fundingInterestRate)||0))+"% ",3)],8,Tl)]))),128))])]),_:1})),[[E,p(A)]]):i("",!0),p(A)||(null==(C=e.tokens)?void 0:C.length)?i("",!0):(a(),r("div",zl,[o("div",null,[o("img",{src:"light"===p(S).theme?p(P):p(N)},null,8,jl),t[15]||(t[15]=o("br",null,null,-1)),o("span",null,s(l.$t("noSearchResults")),1)])]))])}}}),[["__scopeId","data-v-a6480db8"]]),Ul={class:""},Hl={class:"px-16px py-16px"},Kl=I(e({__name:"search",props:{list:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:l}){const t=e,n=l,s=L(""),c=L(""),u=C(0),d=v(()=>{var e;const l=(null==(e=t.list)?void 0:e.slice(0))||[];let r=null==l?void 0:l.filter(e=>e.enableDisplay);return s.value&&(r=r.filter(e=>e.contractName.toLowerCase().includes(s.value.toLowerCase())||e.baseCoinIcon.toLowerCase().includes(s.value.toLowerCase())||e.quoteCoinIcon.toLowerCase().includes(s.value.toLowerCase()))),0===u.value||""===c.value?r:null==r?void 0:r.sort((e,l)=>((l[c.value]||0)-(e[c.value]||0))*u.value)});function m({prop:e,order:l}){c.value=e,u.value=l}return(l,t)=>{const c=T,u=S;return a(),r("div",Ul,[o("div",Hl,[h(u,{ref:"inputSearch",modelValue:p(s),"onUpdate:modelValue":t[1]||(t[1]=e=>$(s)?s.value=e:null),modelModifiers:{trim:!0},class:"search-input px-20px",placeholder:l.$t("search"),clearable:"",autofocus:"",size:"large"},{prefix:b(()=>[h(c,{class:"text-12px text-[--third-text]",name:"custom:search"})]),suffix:b(()=>[p(s)?(a(),x(c,{key:0,name:"pajamas:clear",class:"color-[--third-text] text-12px hover:opacity-70% cursor-pointer mr-10px",onClick:t[0]||(t[0]=e=>s.value="")})):i("",!0)]),_:1},8,["modelValue","placeholder"])]),h(Bl,{tokens:p(d)||[],loading:e.loading,onSortChange:m,onClose:t[2]||(t[2]=e=>n("close"))},null,8,["tokens","loading"])])}}}),[["__scopeId","data-v-ac49c6d8"]]),Wl={class:"relative scroll-wrapper"},Yl=I({__name:"swipe",setup(e){const{width:l}=E(),t=L(null),n=L(!1),s=L(!1),c=()=>{const e=t.value;e&&(n.value=e.scrollLeft>0,s.value=e.scrollWidth-e.clientWidth-e.scrollLeft>1)},u=v(()=>l.value-334-230-300-100-100),d=()=>{t.value.scrollBy({left:-200,behavior:"smooth"})},m=()=>{t.value.scrollBy({left:200,behavior:"smooth"})};return F(l,()=>{c()}),D(async()=>{await A(),c(),setTimeout(()=>c(),50)}),(e,l)=>{const v=T;return a(),r("div",{class:"flex-1",style:O({width:p(u)+"px"})},[o("div",Wl,[p(n)?(a(),r("div",{key:0,onClick:d,class:"absolute left-0 top-0 bottom-0 px-13px z-10 bg-[--secondary-bg] flex justify-center items-center cursor-pointer"},[h(v,{name:"material-symbols:arrow-back-ios-new-rounded",class:"color-[--third-text]"})])):i("",!0),o("div",{ref_key:"scrollRef",ref:t,onScroll:c,class:"scroll-container flex gap-4px h-full"},[M(e.$slots,"default",{},void 0,!0)],544),p(s)?(a(),r("div",{key:1,onClick:m,class:"absolute right-0 top-0 bottom-0 px-13px z-10 bg-[--secondary-bg] flex justify-center items-center cursor-pointer"},[h(v,{name:"material-symbols:arrow-forward-ios",class:"color-[--third-text]"})])):i("",!0)])],4)}}},[["__scopeId","data-v-88192a0a"]]),ql={class:"bg-[--d-101114-l-F6F9FF] h-64px flex-start items-center justify-start py-7px px-12px"},Xl={class:"flex items-center px-4px py-4px cursor-pointer rounded-4px hover:bg-[--d-1B1D21-l-E8F1FF] cursor-pointer"},Zl=["src"],Jl=["src"],Gl={class:"ml-8px"},Ql={class:"color-[--main-text] text-18px font-500 block"},et={class:"color-[--third-text] text-12px mt-2px"},lt={class:"ml-16px"},tt={class:"ml-16px whitespace-nowrap item"},rt={class:"text-12px block text-left color-[--third-text] border-b-dashed border-b-1px border-[--third-text]"},at={class:"text-12px block text-left color-[--main-text] leading-16px mt-6px"},ot={class:"ml-16px whitespace-nowrap item"},nt={class:"text-12px block text-left color-[--third-text] border-b-dashed border-b-1px border-[--third-text]"},it={class:"text-12px block text-left color-[--main-text] mt-6px"},st={class:"ml-16px whitespace-nowrap item"},ct={class:"text-12px block text-left color-[--third-text]"},ut={class:"ml-16px whitespace-nowrap item"},dt={class:"text-12px block text-left color-[--third-text]"},pt={class:"text-12px block text-left color-[--secondary-text] mt-6px"},vt={class:"ml-16px whitespace-nowrap item"},mt={class:"text-12px block text-left color-[--third-text]"},xt={class:"text-12px block text-left color-[--secondary-text] mt-6px"},bt={class:"ml-16px whitespace-nowrap item"},ft={class:"text-12px block text-left color-[--third-text]"},gt={class:"text-12px block text-left color-[--secondary-text] mt-6px"},ht={class:"ml-16px whitespace-nowrap item"},yt={class:"text-12px block text-left color-[--third-text]"},wt={class:"text-12px block text-left color-[--secondary-text] mt-6px"},_t={class:"ml-16px whitespace-nowrap item"},kt={class:"text-12px block text-left color-[--third-text]"},Pt={class:"text-12px block text-left color-[--main-text] mt-6px"},Nt={class:"ml-16px whitespace-nowrap item"},Ct={class:"text-12px block text-left color-[--third-text]"},It={class:"text-12px block text-left color-[--main-text] mt-6px"},St={class:"color-#FFA622"},$t=e({__name:"index",setup(e){const{metadata:l,loadingPerpMetadata:t,contractList:c,perp:v,tickers:m}=V(R()),f=z(),g=C(!1);return F(()=>f.wsResult[j.TICKER_ALL_1S],e=>{var t,r,a,o,n,i;"Snapshot"===e.dataType&&j.TICKER_ALL_1S==e.channel?(l.value&&(null==(r=null==(t=l.value)?void 0:t.contractList)?void 0:r.length)>0?c.value=(null==(o=null==(a=l.value)?void 0:a.contractList)?void 0:o.map(l=>{var t;const r=null==(t=e.data)?void 0:t.find(e=>(null==e?void 0:e.contractId)===(null==l?void 0:l.contractId));return r&&(l={...l,...r}),l}))||[]:c.value=e.data,m.value=e.data):"changed"===e.dataType&&j.TICKER_ALL_1S==e.channel&&(c.value=(null==(n=c.value)?void 0:n.map(l=>{var t;const r=null==(t=e.data)?void 0:t.find(e=>(null==e?void 0:e.contractId)===(null==l?void 0:l.contractId));return r&&(l={...l,...r}),l}))||[],m.value=null==(i=m.value)?void 0:i.map(l=>{var t;const r=null==(t=e.data)?void 0:t.find(e=>(null==e?void 0:e.contractId)===(null==l?void 0:l.contractId));return r&&(l={...l,...r}),l}))}),F(g,e=>{e?document.getElementById("tv_chart_container")&&(document.getElementById("tv_chart_container").style.pointerEvents="none"):document.getElementById("tv_chart_container")&&(document.getElementById("tv_chart_container").style.pointerEvents="auto")}),D(()=>{f.send({type:"unsubscribe",channel:"ticker.all.1s"}),setTimeout(()=>{f.send({type:"subscribe",channel:"ticker.all.1s"})},500)}),(e,l)=>{var m,f;const P=y,N=T,C=U,I=K,S=B("tooltip");return a(),r("div",ql,[h(C,{visible:p(g),"onUpdate:visible":l[1]||(l[1]=e=>$(g)?g.value=e:null),"popper-class":"[--el-popover-bg-color:--border]",width:750,placement:"bottom-start",trigger:"click","popper-style":"padding: 0px"},{reference:b(()=>{var l,t;return[o("div",Xl,[h(P,{class:"token-icon w-32px max-h-32px",fit:"cover",src:null==(l=p(v))?void 0:l.baseCoinIcon},{error:b(()=>[o("img",{class:"token-icon w-32px max-h-32px",src:("getChainDefaultIcon"in e?e.getChainDefaultIcon:p(w))()},null,8,Zl)]),placeholder:b(()=>[o("img",{class:"token-icon w-32px max-h-32px",src:("getChainDefaultIcon"in e?e.getChainDefaultIcon:p(w))()},null,8,Jl)]),_:1},8,["src"]),o("div",Gl,[o("span",Ql,s(null==(t=p(v))?void 0:t.contractName),1),o("span",et,s(e.$t("perpetual")),1)]),h(N,{name:p(g)?"radix-icons:triangle-up":"radix-icons:triangle-down",class:"text-18px color-[--main-text] ml-12px"},null,8,["name"])])]}),default:b(()=>[h(Kl,{list:p(c),loading:p(t),onClose:l[0]||(l[0]=e=>g.value=!1)},null,8,["list","loading"])]),_:1},8,["visible"]),o("div",lt,[o("span",{class:d(["text-20px font-700 block min-w-100px text-left",Number(null==(m=p(v))?void 0:m.priceChange)>0?"color-[--up-color]":"color-[--down-color]"])},s(("formatNumber"in e?e.formatNumber:p(_))((null==(f=p(v))?void 0:f.lastPrice)||0,10)),3)]),l[3]||(l[3]=o("div",{class:"w-0 border-l-[--icon-color] border-l-solid h-28px"},null,-1)),h(Yl,null,{default:b(()=>{var t,c,m,f,g,h,y,w,P,N,C,$,L,T,E,F,D,A,M,O,V,R,z,j,B,U;return[o("div",tt,[n((a(),r("span",rt,[u(s(e.$t("indexPrice")),1)])),[[S,e.$t("indexPriceTooltip")]]),o("span",at,s(("formatNumber"in e?e.formatNumber:p(_))((null==(t=p(v))?void 0:t.indexPrice)||0,("getPricePrecision"in e?e.getPricePrecision:p(Ye))((null==(c=p(v))?void 0:c.contractId)||""))),1)]),o("div",ot,[n((a(),r("span",nt,[u(s(e.$t("oraclePrice")),1)])),[[S,e.$t("oraclePriceTooltip")]]),o("span",it,s(("formatNumber"in e?e.formatNumber:p(_))((null==(m=p(v))?void 0:m.oraclePrice)||0,("getPricePrecision"in e?e.getPricePrecision:p(Ye))((null==(f=p(v))?void 0:f.contractId)||""))),1)]),o("div",st,[o("span",ct,s(e.$t("24HChange")),1),o("span",{class:d(["text-12px block text-left mt-6px",Number(null==(g=p(v))?void 0:g.priceChange)>0?"color-[--up-color]":"color-[--down-color]"])},s(Number((null==(h=p(v))?void 0:h.priceChange)||0)>0?"+":"")+s(("formatNumber"in e?e.formatNumber:p(_))((null==(y=p(v))?void 0:y.priceChange)||0))+" ("+s(Number((null==(w=p(v))?void 0:w.priceChangePercent)||0)>0?"+":"")+s(("formatNumber"in e?e.formatNumber:p(_))(100*Number(null==(P=p(v))?void 0:P.priceChangePercent)||0,2))+"%)",3)]),o("div",ut,[o("span",dt,s(e.$t("24HHighPrice")),1),o("span",pt,s(("formatNumber"in e?e.formatNumber:p(_))((null==(N=p(v))?void 0:N.high)||0)),1)]),o("div",vt,[o("span",mt,s(e.$t("24HLowestPrice")),1),o("span",xt,s(("formatNumber"in e?e.formatNumber:p(_))((null==(C=p(v))?void 0:C.low)||0)),1)]),o("div",bt,[o("span",ft,s(e.$t("24HVolume"))+"("+s(null==($=p(v))?void 0:$.quoteCoin)+")",1),o("span",gt,s(("formatNumber"in e?e.formatNumber:p(_))((null==(L=p(v))?void 0:L.value)||0,{limit:11,decimals:2})),1)]),o("div",ht,[o("span",yt,s(e.$t("24HAmount"))+"("+s(null==(T=p(v))?void 0:T.baseCoin)+")",1),o("span",wt,s(("formatNumber"in e?e.formatNumber:p(_))((null==(E=p(v))?void 0:E.size)||0)),1)]),o("div",_t,[o("span",kt,s(e.$t("openInterest"))+"("+s(null==(F=p(v))?void 0:F.quoteCoin)+")",1),o("span",Pt,s(("formatNumber"in e?e.formatNumber:p(_))(null==(O=null==(M=p(k)((null==(D=p(v))?void 0:D.openInterest)||0).times((null==(A=p(v))?void 0:A.indexPrice)||0))?void 0:M.toFixed)?void 0:O.call(M),{limit:11,decimals:2})),1)]),o("div",Nt,[o("span",Ct,s(e.$t("fundingRate"))+" / "+s(e.$t("countdown")),1),o("span",It,[o("span",{class:d(Number(null==(V=p(v))?void 0:V.fundingRate)>0?"color-[--up-color]":"color-[--down-color]")},s(("addSign"in e?e.addSign:p(H))(100*Number(null==(R=p(v))?void 0:R.fundingRate)||0))+s(("formatNumber"in e?e.formatNumber:p(_))(100*Number(null==(z=p(v))?void 0:z.fundingRate)||0))+"% ",3),l[2]||(l[2]=o("span",{class:"text-12px color-[--third-text]"}," / ",-1)),(null==(j=p(v))?void 0:j.nextFundingTime)?(a(),x(I,{key:`${null==(B=p(v))?void 0:B.nextFundingTime}`,timestamp:Number(null==(U=p(v))?void 0:U.nextFundingTime)/1e3,"end-time":Date.now()},{default:b(({formattedData:{days:e,hours:l,minutes:t,seconds:r}})=>[o("span",St,s(l||"00")+":"+s(t||"00")+":"+s(r||"00"),1)]),_:1},8,["timestamp","end-time"])):i("",!0)])])]}),_:1})])}}}),Lt={class:"text-center text-14px w-100% absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"},Tt={key:2},Et={key:3},Ft={class:"mt-20px"},Dt=e({__name:"connect",setup(e){const{connectAndLogin:t}=qe(),c=W(),d=R(),v=l();return(e,l)=>{const m=T,f=Y;return n((a(),r("div",Lt,[p(v).isDark?(a(),x(m,{key:0,name:"custom:wallet1",class:"text-40px mb-16px"})):(a(),x(m,{key:1,name:"custom:wallet1-light",class:"text-40px mb-16px"})),p(c).address?p(c).address&&!p(d).isLogin?(a(),r("div",Et,s(e.$t("pluginWalletConnectedTips")),1)):i("",!0):(a(),r("div",Tt,s(e.$t("connectWalletAndDepositFunds")),1)),o("div",Ft,[p(c).address?i("",!0):(a(),x(f,{key:0,type:"primary",onClick:p(t)},{default:b(()=>[u(s(e.$t("connectWallet")),1)]),_:1},8,["onClick"])),p(c).address&&!p(d).isLogin?(a(),x(f,{key:1,type:"primary",onClick:p(t)},{default:b(()=>[u(s(e.$t("loginPerpAccount")),1)]),_:1},8,["onClick"])):i("",!0)])],512)),[[q,!p(d).isConnectLogin]])}}}),At={class:"gauge",width:"20",height:"12",viewBox:"0 0 20 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Mt=["fill"],Ot=["fill"],Vt=["fill"],Rt=["transform"],zt=I({__name:"progress",props:{progress:{type:Number,default:0}},setup(e){const l=e,t="#12B886",n="#FFA622",i="#F6465D",s=v(()=>{var e;return(e=l.progress,Math.max(0,Math.min(100,Number(e)||0)))/100*180-107.5}),c=v(()=>`rotate(${s.value||0} 10 10)`);return(e,l)=>(a(),r("svg",At,[o("path",{d:"M6.86328 4.56738C5.91162 5.11806 5.11807 5.91158 4.56738 6.86328C4.03354 7.78596 3.72755 8.85736 3.72754 10H0C8.69342e-06 8.17828 0.486741 6.47006 1.33789 4.99902C2.21593 3.48154 3.48154 2.21593 4.99902 1.33789L6.86328 4.56738Z",fill:t},null,8,Mt),o("path",{d:"M10 0C11.8218 0 13.5299 0.486757 15.001 1.33789L13.1367 4.56738C12.3293 4.10019 11.408 3.80795 10.4248 3.74219L10 3.72754C8.85739 3.72754 7.78598 4.03353 6.86328 4.56738L4.99902 1.33789C6.47006 0.4868 8.17827 0 10 0Z",fill:n},null,8,Ot),o("path",{d:"M15.001 1.33789C16.5185 2.21593 17.784 3.48159 18.6621 4.99902C19.5132 6.47006 20 8.17827 20 10H16.2725C16.2725 8.85741 15.9665 7.78596 15.4326 6.86328C14.8819 5.91163 14.0884 5.11807 13.1367 4.56738L15.001 1.33789Z",fill:i},null,8,Vt),o("g",{transform:c.value,style:{transition:"transform 400ms ease"}},[...l[0]||(l[0]=[o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.4278 9.93676C10.3654 10.1474 10.1439 10.2676 9.93331 10.2051C9.72264 10.1426 9.60249 9.92121 9.66498 9.71058L10.9353 5.42634C10.9977 5.21567 11.2192 5.09552 11.4298 5.15801C11.6405 5.22047 11.7606 5.4419 11.6981 5.65253L10.4278 9.93676Z",fill:"#9CA1A8"},null,-1),o("path",{d:"M11.0517 8.51568C10.4884 7.95239 9.57509 7.95239 9.01181 8.51567C8.44852 9.07896 8.44853 9.99223 9.01181 10.5555C9.5751 11.1188 10.4884 11.1188 11.0517 10.5555C11.6149 9.99223 11.6149 9.07897 11.0517 8.51568Z",fill:"#9CA1A8"},null,-1)])],8,Rt)]))}},[["__scopeId","data-v-5fa45363"]]),jt={key:0},Bt={class:"text-14px font-700 mb-15px"},Ut={class:"flex items-center"},Ht={class:"mt-15px text-12px font-400 color-[--main-text]"},Kt={class:"flex items-center mb-12px"},Wt={class:"flex items-center justify-between"},Yt={class:"color-[--third-text]"},qt={class:"flex items-center justify-between mt-12px"},Xt={class:"color-[--third-text]"},Zt={class:"font-500"},Jt={class:"flex items-center justify-between mt-12px"},Gt={class:"color-[--third-text]"},Qt=e({__name:"userAssert",setup(e){const t=l(),m=R(),g=W(),{prepBalance:y,unrealizedPnl:w,maintenanceMarginRequirement:P,deposit:N,withdraw:C}=qe();const I=v(()=>new k(P.value).div(y.value).times(100).toNumber()),S="#12B886",$="#FFA622",L="#F6465D",E=v(()=>!I.value||I.value<40?{color:S}:I.value<=60?{color:$}:{color:L});return(e,l)=>{const v=Y,S=T,$=X,L=B("tooltip");return a(),r(f,null,[h(Dt),p(m).isConnectLogin?(a(),r("div",jt,[o("div",Bt,s(e.$t("myPerpAccount")),1),o("div",Ut,[(a(),x(v,{key:p(t).theme,class:"flex-1",type:"primary",size:"large",onClick:c(p(N),["stop"])},{default:b(()=>[u(s(e.$t("deposit")),1)]),_:1},8,["onClick"])),(a(),x(v,{key:p(t).theme,class:"flex-1",color:"var(--main-input-button-bg)",size:"large",onClick:c(p(C),["stop"])},{default:b(()=>[u(s(e.$t("withdraw")),1)]),_:1},8,["onClick"]))]),o("ul",Ht,[o("li",Kt,[h(zt,{progress:p(I)},null,8,["progress"]),n((a(),r("span",{class:"ml-5px underline underline-dotted cursor-pointer",style:O(p(E))},[u(s(("formatNumber"in e?e.formatNumber:p(_))(p(I),2))+"%",1)],4)),[[L,`<div style='max-width: 200px'>${e.$t("marginRatioTips")}</div>`,void 0,{raw:!0}]])]),o("li",Wt,[o("span",Yt,s(e.$t("totalAssets")),1),h($,{class:"flex items-center clickable font-500",to:`/address/${p(g).address}/${p(g).chain}?active=perp`},{default:b(()=>[o("span",null,s(("formatNumber"in e?e.formatNumber:p(_))(p(y),4))+" USD",1),h(S,{name:"material-symbols:chevron-right-rounded",class:"text-16px mr--5px"})]),_:1},8,["to"])]),o("li",qt,[o("span",Xt,s(e.$t("maintenanceMargin")),1),o("span",Zt,s(("formatNumber"in e?e.formatNumber:p(_))(p(P),4))+" USD",1)]),o("li",Jt,[o("span",Gt,s(e.$t("unrealizedPnl1")),1),o("span",{class:d(["font-500",(F=p(w),new k(F).gte(0)?"color-[--up-color]":"color-[--down-color]")])},s(("formatNumber"in e?e.formatNumber:p(_))(p(w),2))+" USD",3)])])])):i("",!0)],64);var F}}}),er={class:"flex items-center justify-between bg-[--dialog-divider] rounded-4px px-5 h-12 w-full select-none step"},lr=["value"],tr=I(e({__name:"step",props:{modelValue:{},min:{default:0},max:{default:1/0},step:{default:1},longPressSpeed:{default:120}},emits:["update:modelValue","change"],setup(e,{emit:l}){const t=e,n=l,i=L(String(t.modelValue));F(()=>t.modelValue,e=>{i.value=String(e)});const s=v(()=>t.modelValue<=t.min),p=v(()=>t.modelValue>=t.max);function m(e){n("update:modelValue",e)}function x(){s.value||m(t.modelValue-t.step)}function b(){p.value||m(t.modelValue+t.step)}let f=null;function g(e){"minus"===e?x():b(),y(),f=Z(()=>{"minus"===e?x():b()},t.longPressSpeed)}function y(){f&&(clearInterval(f),f=null)}function w(e){const l=e.target;let r=l.value.replace(/[^\d]/g,"");t.max<10&&(r=r.slice(0,1)),Number(r)>t.max&&(r=i.value);const a=Number(r);i.value=r,l.value=r,n("change",a)}function _(){let e=Number(i.value);e&&(e<t.min&&(e=t.min),e>t.max&&(e=t.max)),m(e),n("change",e)}return(e,l)=>{const t=T;return a(),r("div",er,[o("button",{class:d(["color-[--main-text] transition-transform duration-100 cursor-pointer flex items-center justify-center active:scale-90",s.value&&"opacity-30 cursor-not-allowed"]),onMousedown:l[0]||(l[0]=e=>g("minus")),onMouseup:y,onMouseleave:y,onTouchstart:l[1]||(l[1]=c(e=>g("minus"),["prevent"])),onTouchend:y},[h(t,{name:"majesticons:minus",class:"text-24px"})],34),l[4]||(l[4]=o("span",{class:"flex-1"},null,-1)),o("input",{name:"step",class:"w-60px bg-transparent outline-none text-center border-none text-18px",value:i.value,onInput:w,onBlur:_},null,40,lr),l[5]||(l[5]=u("X ",-1)),l[6]||(l[6]=o("span",{class:"flex-1"},null,-1)),o("button",{class:d(["color-[--main-text] transition-transform duration-100 cursor-pointer flex items-center justify-center active:scale-90",p.value&&"opacity-30 cursor-not-allowed"]),onMousedown:l[2]||(l[2]=e=>g("plus")),onMouseup:y,onMouseleave:y,onTouchstart:l[3]||(l[3]=c(e=>g("plus"),["prevent"])),onTouchend:y},[h(t,{name:"majesticons:plus",class:"text-24px"})],34)])}}}),[["__scopeId","data-v-5dfbd965"]]),rr={class:"flex-start items-center"},ar={class:"text-20px font-500 cursor-pointer"},or={class:"content"},nr={class:"text-14px font-700 font-bold"},ir={class:"color-[--secondary-text] ml-8px"},sr={class:"mt-20px mb-30px px-3px w-full"},cr={class:"text-14px flex-between mt-48px"},ur={class:"color-[--third-text]"},dr={class:"text-14px flex-between mt-24px"},pr={class:"color-[--third-text]"},vr={class:"text-12px color-[--yellow] flex-between mt-24px"},mr={key:0,class:"text-12px mt-24px color-[--yellow] flex-start items-start"},xr={class:"mb-10px"},br={key:1},fr={key:1,class:"text-12px mt-10px color-[--yellow]"},gr={class:"text-center mt-30px flex-between"},hr=I(e({__name:"leverageDialog",props:{modelValue:Boolean},emits:["update:modelValue"],setup(e,{emit:l}){const t=e,m=l,f=v({get:()=>t.modelValue??!1,set:e=>m("update:modelValue",e)}),{position:g,metadata:y,perp:w,contractId:P,userInfo:N}=V(R()),I=R(),{getOnboardSite:S}=R(),{t:L}=J();G();const T=C(1),E=C(!1),D=C("0"),A=C(0),M=v(()=>j.value?q(j.value):"0"),O=v(()=>{var e;return Number((null==(e=w.value)?void 0:e.displayMaxLeverage)||0)}),z=v(()=>{var e;return Number((null==(e=w.value)?void 0:e.displayMinLeverage)||0)}),j=v(()=>Xe(P.value)),U=v(()=>{var e;return Ze((null==(e=I.perp)?void 0:e.contractId)||"").toString()||"0"}),H=v(()=>{var e;const l=Je.getSymbolModel((null==(e=I.perp)?void 0:e.contractId)||"");if(new k((null==l?void 0:l.oraclePrice)||0).times(1.001).isZero())return"0";const t=(null==l?void 0:l.riskTierList)||[],r=Je.getRiskTierModel(String(T.value),t);return((null==r?void 0:r.positionValueUpperBound)||0).toString()}),K=v(()=>{const e={},l=(O.value-z.value)/5;for(let t=0;t<=5;t++){const r=+Math.floor(z.value+t*l);e[r]=String(r+"X")}return e});F(f,e=>{e&&(T.value=Number(j.value||0))});const W=v(()=>{var e;return!(null==(e=I.order)?void 0:e.some(e=>e.contractId===P.value&&"CANCELED"!==e.status))});function q(e){var l;return Ge(P.value,(null==(l=null==w?void 0:w.value)?void 0:l.oraclePrice)||"0",e).toFixed()}const X=v(()=>T.value?q(String(T.value)):"0"),Z=v(()=>T.value?Number(X.value)-Number(M.value):0);function ae(e){e?(D.value=q(String(e)),A.value=Number(D.value)-Number(M.value)):(D.value="0",A.value=0)}function oe(){var e;(null==(e=N.value)?void 0:e.id)||te.error(L("connectWalletFirst"));const l={contractId:P.value,leverage:String(T.value)};E.value=!0,re(l).then(()=>{te.success(L("success")),S(),f.value=!1}).catch(e=>{te.error(null==e?void 0:e.message)}).finally(()=>{E.value=!1})}return(e,l)=>{const t=cl,v=ee,m=Y,g=Q,y=B("slider-active");return a(),x(g,{modelValue:p(f),"onUpdate:modelValue":l[3]||(l[3]=e=>$(f)?f.value=e:null),width:"400px",class:"dialog-box dialog-max dialog-remind dialog","append-to-body":"","destroy-on-close":"",onClose:l[4]||(l[4]=e=>f.value=!1)},{header:b(()=>[o("div",rr,[o("span",ar,s(e.$t("adjustLeverage")),1)])]),default:b(()=>{var x,g,P;return[o("div",or,[o("div",null,[o("span",nr,s(null==(x=p(w))?void 0:x.contractName),1),o("span",ir,s(e.$t("currentLeverage"))+":"+s(p(j))+"X",1)]),h(tr,{modelValue:p(T),"onUpdate:modelValue":l[0]||(l[0]=e=>$(T)?T.value=e:null),class:"mt-19px",max:p(O),onChange:ae},null,8,["modelValue","max"]),o("div",sr,[n(h(t,{modelValue:p(T),"onUpdate:modelValue":l[1]||(l[1]=e=>$(T)?T.value=e:null),min:p(z),max:p(O),step:1,marks:p(K),"format-tooltip":e=>e+"X",class:"[&&]:[--el-slider-button-size:16px] [--el-color-white:--icon-color] [&&]:[--el-slider-height:2px] [&&]:[--el-slider-button-wrapper-offset:-17px] [&&]:h-auto [&&]:[w-auto] [--el-border-color-light:var(--dialog-divider)] [&&]:[--el-slider-main-bg-color:--main-text] slider-box",onInput:ae},null,8,["modelValue","min","max","marks","format-tooltip"]),[[y]])]),o("div",cr,[o("span",ur,s(e.$t("positionMargin")),1),o("span",null,s(("formatNumber"in e?e.formatNumber:p(_))(p(M),{decimals:4,limit:10}))+" USD",1)]),o("div",dr,[o("span",pr,s(e.$t("maxPositionCurrentLeverage")),1),o("span",null,s(Number(p(H))>10**12?"∞":("formatNumber"in e?e.formatNumber:p(_))(p(H),{decimals:0,limit:10})+" USD"),1)]),o("div",vr," *"+s(e.$t("adjustLeverageTip1")),1),!(null==(g=p(k)(p(Z)||0))?void 0:g.isZero())&&p(T)?(a(),r("div",mr,[h(v,{style:{"vertical-align":"middle"},class:"text-14px mr-5px"},{default:b(()=>[h(p(le))]),_:1}),o("div",xr,[p(k)(p(Z)).lte(0)||p(k)(p(Z)).abs().lte(p(U))?(a(),r("span",{key:0,class:d(["block",p(Z)>0?"color-[--down-color]":"color-[--up-color]"])},s(p(Z)>0?e.$t("adjustLeverageTip4",{num:("formatNumber"in e?e.formatNumber:p(_))(Math.abs(p(Z)),{decimals:4,limit:10})}):e.$t("adjustLeverageTip5",{num:("formatNumber"in e?e.formatNumber:p(_))(Math.abs(p(Z)),{decimals:4,limit:10})})),3)):(a(),r("span",br,s(e.$t("adjustLeverageTip3")),1))])])):i("",!0),p(W)?i("",!0):(a(),r("div",fr,s(e.$t("adjustLeverageTip2",{name:null==(P=p(w))?void 0:P.contractName})),1)),o("div",gr,[h(m,{class:"flex-1",style:{height:"48px"},onClick:l[2]||(l[2]=c(e=>f.value=!1,["stop","prevent"]))},{default:b(()=>[u(s(e.$t("cancel")),1)]),_:1}),h(m,{class:"flex-1",style:{height:"48px"},type:"primary",disabled:!p(W),loading:p(E),onClick:c(oe,["stop","prevent"])},{default:b(()=>[u(s(e.$t("confirm")),1)]),_:1},8,["disabled","loading"])])])]}),_:1},8,["modelValue"])}}}),[["__scopeId","data-v-a5931362"]]),yr={class:"flex items-center gap-16px color-[--main-text] text-12px font-500 text-center"},wr={class:"flex-1 h-24px flex items-center justify-center bg-[--main-input-button-bg] border-none rd-4px"},_r=e({__name:"leverageSet",setup(e){const l=R(),t=v(()=>{var e;const t=(null==(e=l.perp)?void 0:e.contractId)||"";return Xe(t)}),n=C(!1);return(e,l)=>(a(),r("div",yr,[o("div",wr,s(e.$t("cross")),1),o("button",{class:"flex-1 color-[--main-text] h-24px flex items-center justify-center bg-[--main-input-button-bg] border-none rd-4px relative clickable",onClick:l[0]||(l[0]=e=>n.value=!0)},[o("span",null,s(p(t))+"x",1)]),h(hr,{modelValue:p(n),"onUpdate:modelValue":l[1]||(l[1]=e=>$(n)?n.value=e:null)},null,8,["modelValue"])]))}}),kr={class:"text-12px color-[--secondary-text] mb-12px text-right"},Pr={class:"inline-flex items-center"},Nr={key:0,class:"absolute z-4 bg-[--main-input-button-bg] top-50% translate-y--50% left-1px pl-15px pointer-events-none"},Cr={class:"inline-flex items-center clickable"},Ir={class:"text-12px font-400"},Sr={class:"mt-20px px-5px w-full"},$r={key:1,class:"flex items-center justify-between text-12px font-400 mt-8px color-[--main-text] mb-8px"},Lr={class:"text-left"},Tr={class:"color-[--third-text] mb-5px"},Er={class:"font-500"},Fr={class:"text-right"},Dr={class:"color-[--third-text] mb-5px"},Ar={class:"font-500"},Mr={class:"flex items-center gap-10px mt-8px mb-8px w-full"},Or={class:"flex items-center gap-10px mt-8px mb-8px w-full"},Vr={class:"w-full flex item-center"},Rr={class:"text-12px color-[--third-text]"},zr={class:"flex items-center"},jr={class:"mr-auto"},Br={class:"color-[--up-color]"},Ur={class:"color-[--down-color]"},Hr={class:"flex items-center mt-8px"},Kr={class:"color-[--up-color]"},Wr={class:"color-[--down-color]"},Yr={key:0,class:"flex items-center mt-8px"},qr={class:"mr-auto"},Xr={class:"color-[--up-color]"},Zr={class:"color-[--down-color]"},Jr={class:"flex items-center mt-8px"},Gr={class:"mr-auto"},Qr={class:"color-[--up-color]"},ea={class:"color-[--down-color]"},la=I(e({__name:"swap",setup(e){const{t:l}=J(),t=R(),m=C("MARKET"),y=v(()=>[{value:"LIMIT",name:l("limit")},{value:"MARKET",name:l("market")}]),{createPerpOrder:w}=qe(),P=oe({price:void 0,amount:void 0,reduceOnly:!1}),N=ae("formRef"),I=v(()=>({price:[{validator:(e,t,r)=>{!t||t&&new k(t).lte(0)?r(new Error(l("plsEnterPrice"))):r()},trigger:"change"}],amount:[{validator:(e,t,r)=>{(!t||t&&new k(t).lte(0))&&0===Number(E.value)?r(new Error(de.value?l("plsEnterOrderValue"):l("plsEnterOrderAmount"))):r()},trigger:"change"}]})),S=L(!1),E=L(0),D=L(!1),A=oe({tpPercent:0,tpPercent1:0,slPercent:0,slPercent1:0,sizePercent:0});F(()=>P.reduceOnly,()=>{P.reduceOnly&&(D.value=!1)});const M=v(()=>{var e;return(null==(e=t.perp)?void 0:e.contractId)||""}),O=v(()=>Ye(M.value||"")),V=v(()=>Qe(M.value||"")),z=v(()=>Xe(M.value||"")||1),j=v(()=>{var e;return(null==(e=Je.getSymbolModel(M.value||""))?void 0:e.lastPrice)||"0"}),U=L(!1);function H(){N.value&&(P.amount=void 0,N.value.clearValidate("amount")),E.value=0,A.tpPercent=0,A.tpPercent1=0,A.slPercent=0,A.slPercent1=0,A.sizePercent=0,K.triggerPrice=void 0,W.triggerPrice=void 0}F(()=>{var e;return(null==(e=t.perp)?void 0:e.contractId)||""},e=>{var l;e&&(U.value=!0,H(),P.price=Number((null==(l=Je.getSymbolModel(e||""))?void 0:l.oraclePrice)||"0"),setTimeout(()=>{var e,l;P.price=Number((null==(e=t.perp)?void 0:e.oraclePrice)||(null==(l=t.perp)?void 0:l.lastPrice)||"0"),U.value=!1},300))}),F(z,()=>{H()}),F(m,()=>{K.triggerPrice=void 0,W.triggerPrice=void 0,A.tpPercent=0,A.tpPercent1=0,A.slPercent=0,A.slPercent1=0});const K=oe({triggerPrice:void 0,triggerPriceType:"LAST_PRICE",type:"TAKE_PROFIT_MARKET"}),W=oe({triggerPrice:void 0,triggerPriceType:"LAST_PRICE",type:"STOP_MARKET"}),q=v(()=>{var e,l,r;const a=(null==(e=t.perp)?void 0:e.contractId)||"";return{buy:el({contractId:a,size:Number(ve()||"0"),side:"BUY",price:"LIMIT"===m.value?Number(P.price||0):0,isMarketOrder:"LIMIT"!==m.value,oraclePrice:Number((null==(l=t.perp)?void 0:l.oraclePrice)||"0")}).toFixed(),sell:el({contractId:a,size:Number(ve(1)||"0"),side:"SELL",price:"LIMIT"===m.value?Number(P.price||0):0,isMarketOrder:"LIMIT"!==m.value,oraclePrice:Number((null==(r=t.perp)?void 0:r.oraclePrice)||"0")}).toFixed()}}),X=v(()=>{var e;return Ze((null==(e=t.perp)?void 0:e.contractId)||"").toString()||"0"}),Z=v(()=>{var e;const{takerFeeRate:l,makerFeeRate:r}=ll((null==(e=t.perp)?void 0:e.contractId)||"");return{takerFeeRate:k(l).times(100).toFixed(),makerFeeRate:k(r).times(100).toFixed()}}),G=v(()=>{var e,l,r,a,o;let n=("LIMIT"===m.value?P.price:(null==(e=t.perp)?void 0:e.oraclePrice)||(null==(l=t.perp)?void 0:l.lastPrice))||"0";de.value||(n="1");const i=Number(("LIMIT"===m.value?P.price:(null==(r=t.perp)?void 0:r.oraclePrice)||(null==(a=t.perp)?void 0:a.lastPrice))||0);return tl({contractId:(null==(o=t.perp)?void 0:o.contractId)||"",type:m.value,side:"BUY",price:i,reduceOnly:P.reduceOnly}).times(n).toFixed()}),Q=v(()=>{var e,l,r,a,o;let n=("LIMIT"===m.value?P.price:(null==(e=t.perp)?void 0:e.oraclePrice)||(null==(l=t.perp)?void 0:l.lastPrice))||"0";de.value||(n="1");const i=Number(("LIMIT"===m.value?P.price:(null==(r=t.perp)?void 0:r.oraclePrice)||(null==(a=t.perp)?void 0:a.lastPrice))||0);return tl({contractId:(null==(o=t.perp)?void 0:o.contractId)||"",type:m.value,side:"SELL",price:i,reduceOnly:P.reduceOnly}).times(n).toFixed()}),ee=v(()=>k.max(G.value||"0",Q.value||"0").toNumber()),le=v(()=>{var e,l,r;const a=Number(("LIMIT"===m.value?P.price:(null==(e=t.perp)?void 0:e.oraclePrice)||(null==(l=t.perp)?void 0:l.lastPrice))||0),o=ve()||"0";return rl({contractId:(null==(r=t.perp)?void 0:r.contractId)||"",side:"BUY",price:Number(a)||0,size:Number(o)})}),re=v(()=>{var e,l,r;const a=Number(("LIMIT"===m.value?P.price:(null==(e=t.perp)?void 0:e.oraclePrice)||(null==(l=t.perp)?void 0:l.lastPrice))||0),o=ve(1)||"0";return rl({contractId:(null==(r=t.perp)?void 0:r.contractId)||"",side:"SELL",price:Number(a)||0,size:Number(o)})});const de=v(()=>{var e,l;return(null==(e=t.unit)?void 0:e.coinId)===(null==(l=t.perp)?void 0:l.quoteCoinId)});function pe(e,l=de.value,r){var a,o;const n=null==(a=null==e?void 0:e.replace)?void 0:a.call(e,/-|[^\d.]/g,"");if(""===n)return"";if(/^0\.0*$/.test(n)||"0"===n)return n;const{tickSize:i,stepSize:s}=Je.getSymbolModel((null==(o=t.perp)?void 0:o.contractId)||"")||{};return l?new k(n).lt(i||"0")?i||"0":al(n,i||"0",r):new k(n).lt(s||"0")?s||"0":al(n,s||"0",r)}function ve(e=0){var l,r,a,o,n,i,s;if(de.value){const s=Number(("LIMIT"===m.value?P.price:(null==(l=t.perp)?void 0:l.oraclePrice)||(null==(r=t.perp)?void 0:r.lastPrice))||0);if(E.value>0){const l=Number(("LIMIT"===m.value?P.price:(null==(a=t.perp)?void 0:a.oraclePrice)||(null==(o=t.perp)?void 0:o.lastPrice))||0),r=tl({contractId:(null==(n=t.perp)?void 0:n.contractId)||"",type:m.value,side:1===e?"SELL":"BUY",price:l,reduceOnly:P.reduceOnly}).toString();return ol({maxQty:r,ratio:E.value,stepSize:(null==(i=t.perp)?void 0:i.stepSize)||"0"})}return ue(k(P.amount||"0").div(s).times(10**V.value).dp(0).div(10**V.value).toFixed(),4)}return E.value>0?ol({maxQty:1===e?Q.value||"0":G.value||"0",ratio:E.value,stepSize:(null==(s=t.perp)?void 0:s.stepSize)||"0"}):P.amount||"0"}function me(){var e;const l=null==(e=t.tickers)?void 0:e.find(e=>e.contractId===(null==t?void 0:t.contractId)),r=(null==l?void 0:l.bestBidPrice)||0,a=(null==l?void 0:l.bestAskPrice)||0;P.price=k(r).plus(a).dividedBy(2).dp(O.value,k.ROUND_FLOOR).toNumber(),setTimeout(()=>{N.value&&N.value.clearValidate("price")},100)}const xe=v(()=>{var e,l;if(de.value){const r=Number(("LIMIT"===m.value?P.price:(null==(e=t.perp)?void 0:e.oraclePrice)||(null==(l=t.perp)?void 0:l.lastPrice))||0);return k(ve()).times(r||"0").toFixed()}return ve()}),be=v(()=>{var e,l;if(de.value){const r=Number(("LIMIT"===m.value?P.price:(null==(e=t.perp)?void 0:e.oraclePrice)||(null==(l=t.perp)?void 0:l.lastPrice))||0);return k(ve(1)).times(r||"0").toFixed()}return ve(1)}),fe=v(()=>{if(k(ve()||0).lte(0)||k(K.triggerPrice||0).lte(0))return"";const e="LIMIT"===m.value?P.price:j.value;if(!e)return"";if(k(K.triggerPrice||0).gt(e)){const t=k(ve()||0),r=k(K.triggerPrice||0).minus(e).times(t).abs().dp(2).toFixed();return l("longExpectedProfitUSD",{n:r})}{const t=k(ve(1)||0),r=k(K.triggerPrice||0).minus(e).times(t).abs().dp(2).toFixed();return l("shortExpectedProfitUSD",{n:r})}}),ge=v(()=>{if(k(ve()||0).lte(0)||k(W.triggerPrice||0).lte(0))return"";const e="LIMIT"===m.value?P.price:j.value;if(!e)return"";if(k(W.triggerPrice||0).lt(e)){const t=k(ve()||0),r=k(W.triggerPrice||0).minus(e).times(t).abs().dp(2).toFixed();return l("longExpectedLossUSD",{n:r})}{const t=k(ve(1)||0),r=k(W.triggerPrice||0).minus(e).times(t).abs().dp(2).toFixed();return l("shortExpectedLossUSD",{n:r})}});function he(e){var r;null==(r=N.value)||r.validate(r=>{var a,o;if(r){const r={type:m.value,size:String(ve("BUY"===e?0:1)),price:String(P.price||"0"),side:e,contractId:(null==(a=t.perp)?void 0:a.contractId)||"",reduceOnly:P.reduceOnly,isPositionTpsl:!1,isSetOpenTp:!1,isSetOpenSl:!1};K.triggerPrice&&(r.isSetOpenTp=!0,r.openTp={...K,triggerPrice:new k((null==K?void 0:K.triggerPrice)||"0").toFixed(),price:"0",size:String(ve("BUY"===e?0:1)),side:"BUY"===e?"SELL":"BUY"}),W.triggerPrice&&(r.isSetOpenSl=!0,r.openSl={...W,triggerPrice:new k((null==W?void 0:W.triggerPrice)||"0").toFixed(),price:"0",size:String(ve("BUY"===e?0:1)),side:"BUY"===e?"SELL":"BUY"});const n=null==(o=null==t?void 0:t.position)?void 0:o.find(e=>{var l;return e.contractId===(null==(l=t.perp)?void 0:l.contractId)});if(r.reduceOnly&&!(r.reduceOnly&&n&&n.openSize&&("BUY"===r.side&&k(n.openSize).lt(0)||"SELL"===r.side&&k(n.openSize).gt(0))&&k(r.size||0).lt(k(n.openSize).abs())))return void te({message:l("orderSizeError"),type:"error"});w(r).then(e=>{e&&H()})}})}return(e,v)=>{var w,C;const L=pl,F=dl,M=ul,R=ie,H=T,J=xl,te=ml,ae=vl,oe=cl,ue=se,ye=bl,we=Y,_e=ne,ke=ce,Pe=B("slider-active");return a(),r(f,null,[h(F,{modelValue:p(m),"onUpdate:modelValue":v[0]||(v[0]=e=>$(m)?m.value=e:null),class:"select-tabs mt-5px mb-12px"},{default:b(()=>[(a(!0),r(f,null,g(p(y),(e,l)=>(a(),x(L,{key:l,label:e.name,name:e.value},null,8,["label","name"]))),128))]),_:1},8,["modelValue"]),o("div",kr,s(e.$t("available"))+": "+s(("formatNumber"in e?e.formatNumber:p(_))(p(X),4))+" USD",1),h(_e,{ref_key:"formRef",ref:N,model:p(P),"label-width":"auto",rules:p(I),onSubmit:v[18]||(v[18]=c(()=>{},["prevent"]))},{default:b(()=>{var y,w;return["LIMIT"===p(m)?(a(),x(R,{key:0,label:"",prop:"price",style:{"margin-bottom":"15px"}},{default:b(()=>[h(M,{modelValue:p(P).price,"onUpdate:modelValue":[v[1]||(v[1]=e=>p(P).price=e),v[2]||(v[2]=e=>function(e){if(!U.value){if(!Number(e))return;P.price=Number(pe(String(e)||"0",!0))}}(e||"0"))],placeholder:e.$t("price"),precision:p(O)<0?0:p(O),step:p(O)<0?10**-p(O):1,"step-strictly":p(O)<0,size:"large",clearable:"",class:"[&&]:w-full",controls:!1,align:"left"},{suffix:b(()=>[o("div",Pr,[v[19]||(v[19]=o("span",{class:"text-14px color-[--main-text]"},"USD",-1)),v[20]||(v[20]=o("div",{class:"h-8px w-1px b-l-[--third-text] b-l-1px b-l-solid mx-5px"},null,-1)),o("button",{type:"button",class:"text-14px color-[--up-color] border-none bg-transparent clickable p-0",onClick:c(me,["stop"])},s(e.$t("midPrice")),1)])]),_:1},8,["modelValue","placeholder","precision","step","step-strictly"])]),_:1})):i("",!0),h(R,{label:"",prop:"amount"},{default:b(()=>[p(E)>0?(a(),r("div",Nr,s(p(E))+"%",1)):i("",!0),h(M,{modelValue:p(P).amount,"onUpdate:modelValue":v[4]||(v[4]=e=>p(P).amount=e),placeholder:p(de)?e.$t("value1"):e.$t("amount"),precision:p(de)?2:p(V)<0?0:p(V),step:p(de)?1:p(V)<0?10**-p(V):1,"step-strictly":p(V)<0,class:"[&&]:w-full",controls:!1,size:"large",clearable:"",align:"left",max:p(ee),onInput:v[5]||(v[5]=e=>E.value=0),onFocus:v[6]||(v[6]=e=>E.value=0),onChange:v[7]||(v[7]=e=>function(e){var l,r;const a=Number(("LIMIT"===m.value?P.price:(null==(l=t.perp)?void 0:l.oraclePrice)||(null==(r=t.perp)?void 0:r.lastPrice))||0);if(de.value){let l=k(e).div(a).toFixed();l=pe(l,!1),P.amount=k(l).times(a).dp(2,k.ROUND_FLOOR).toNumber()}}(String(e||"0")))},{suffix:b(()=>[h(ae,{persistent:!1,placement:"bottom",trigger:"click",onVisibleChange:v[3]||(v[3]=e=>S.value=e)},{dropdown:b(()=>[h(te,null,{default:b(()=>[(a(!0),r(f,null,g(p(t).unitList||[],e=>(a(),x(J,{key:null==e?void 0:e.coinId,onClick:c(l=>function(e){var l,r,a,o;if(t.unit=e,P.amount){const e=Number(("LIMIT"===m.value?P.price:(null==(l=t.perp)?void 0:l.oraclePrice)||(null==(r=t.perp)?void 0:r.lastPrice))||0),n=(null==(a=t.unit)?void 0:a.coinId)===(null==(o=t.perp)?void 0:o.quoteCoinId);if(n){let l=P.amount||"0";l=pe(String(l),!1),P.amount=k(l).times(e).dp(2,k.ROUND_FLOOR).toNumber()}else{const l=k(P.amount).div(e).toFixed();P.amount=Number(pe(l,n))}}}(e),["stop"])},{default:b(()=>[o("span",Ir,s((null==e?void 0:e.coinName)||""),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:b(()=>{var e;return[o("div",Cr,[o("span",null,s((null==(e=p(t).unit)?void 0:e.coinName)||""),1),h(H,{class:d(["arrow-up",{active:!0===p(S)}]),name:"solar:alt-arrow-down-bold"},null,8,["class"])])]}),_:1})]),default:b(()=>[v[21]||(v[21]=u(" > ",-1))]),_:1},8,["modelValue","placeholder","precision","step","step-strictly","max"])]),_:1}),o("div",Sr,[n(h(oe,{modelValue:p(E),"onUpdate:modelValue":v[8]||(v[8]=e=>$(E)?E.value=e:null),min:0,max:100,step:1,marks:{0:"0%",25:"25%",50:"50%",75:"75%",100:"100%"},"format-tooltip":e=>`${e}%`,class:"mb-30px [&&]:[--el-slider-button-size:16px] [--el-color-white:--icon-color] [&&]:[--el-slider-height:2px] [&&]:[--el-slider-button-wrapper-offset:-17px] [&&]:h-auto [&&]:[w-auto] [--el-border-color-light:var(--dialog-divider)] [&&]:[--el-slider-main-bg-color:--main-text] [&&]:[--el-slider-runway-bg-color:--icon-color] slider-box",onInput:v[9]||(v[9]=e=>(P.amount=void 0,void(N.value&&N.value.clearValidate("amount"))))},null,8,["modelValue","format-tooltip"]),[[Pe]])]),p(E)>0?(a(),r("div",$r,[o("div",Lr,[o("div",Tr,s(e.$t("buy"))+": ",1),o("div",Er," ≈ "+s(("formatNumber"in e?e.formatNumber:p(_))(p(xe),{decimals:4,limit:8}))+" "+s((null==(y=p(t).unit)?void 0:y.coinName)||""),1)]),o("div",Fr,[o("div",Dr,s(e.$t("sell"))+": ",1),o("div",Ar," ≈ "+s(("formatNumber"in e?e.formatNumber:p(_))(p(be),{decimals:4,limit:8}))+" "+s((null==(w=p(t).unit)?void 0:w.coinName)||""),1)])])):i("",!0),p(P).reduceOnly?i("",!0):(a(),x(R,{key:2,style:{"margin-bottom":"0"}},{default:b(()=>[h(ue,{modelValue:p(D),"onUpdate:modelValue":v[10]||(v[10]=e=>$(D)?D.value=e:null),class:"checkbox-sm",label:e.$t("stopLimit")},null,8,["modelValue","label"]),p(D)?(a(),r(f,{key:0},[o("div",Mr,[h(M,{modelValue:p(K).triggerPrice,"onUpdate:modelValue":[v[11]||(v[11]=e=>p(K).triggerPrice=e),v[12]||(v[12]=e=>function(e){if(!e)return A.tpPercent=0,void(A.tpPercent1=0);const l=("LIMIT"===m.value?P.price:j.value)||0;A.tpPercent=new k(e||0).minus(l).div(l).times(z.value).times(100).dp(0,k.ROUND_FLOOR).toNumber(),A.tpPercent1=Math.min(Math.max(A.tpPercent,0),200)}(e))],controls:!1,align:"left",precision:p(O),class:"flex-1 input-number",placeholder:p(l)("TP1"),size:"large",clearable:""},null,8,["modelValue","precision","placeholder"])]),p(fe)?(a(),x(ye,{key:0,style:{"--el-alert-title-font-size":"12px","--el-alert-padding":"5px 10px",margin:"0"},title:p(fe),type:"success",closable:!1},null,8,["title"])):i("",!0),o("div",Or,[h(M,{modelValue:p(W).triggerPrice,"onUpdate:modelValue":[v[13]||(v[13]=e=>p(W).triggerPrice=e),v[14]||(v[14]=e=>function(e){if(!e)return A.slPercent=0,void(A.slPercent1=0);const l=("LIMIT"===m.value?P.price:j.value)||0;A.slPercent=new k(e||0).minus(l).div(l).times(z.value).times(100).dp(0,k.ROUND_FLOOR).toNumber(),A.slPercent1=Math.min(Math.max(-A.slPercent,0),200)}(e))],controls:!1,precision:p(O),class:"flex-1 input-number",align:"left",size:"large",placeholder:p(l)("SL1")},null,8,["modelValue","precision","placeholder"])]),p(ge)?(a(),x(ye,{key:1,style:{"--el-alert-title-font-size":"12px","--el-alert-padding":"5px 10px",margin:"0"},title:p(ge),type:"error",closable:!1},null,8,["title"])):i("",!0)],64)):i("",!0)]),_:1})),h(R,null,{default:b(()=>[h(ue,{modelValue:p(P).reduceOnly,"onUpdate:modelValue":v[15]||(v[15]=e=>p(P).reduceOnly=e),class:"checkbox-sm",label:e.$t("onlyReduce")},null,8,["modelValue","label"])]),_:1}),h(R,null,{default:b(()=>[o("div",Vr,[h(we,{class:"flex-1 color-[--white]! min-h-48px rd-6px!",color:"var(--up-color)","native-type":"button",size:"large",disabled:p(k)(ve()).lte(0),onClick:v[16]||(v[16]=c(e=>he("BUY"),["stop"]))},{default:b(()=>[u(s(e.$t("buy"))+"/"+s(e.$t("long")),1)]),_:1},8,["disabled"]),h(we,{class:"flex-1 color-[--white]! min-h-48px rd-6px!",color:"var(--down-color)","native-type":"button",size:"large",disabled:p(k)(ve(1)).lte(0),onClick:v[17]||(v[17]=c(e=>he("SELL"),["stop"]))},{default:b(()=>[u(s(e.$t("sell"))+"/"+s(e.$t("short")),1)]),_:1},8,["disabled"])])]),_:1})]}),_:1},8,["model","rules"]),h(ke,{style:{"--el-border-color":"var(--main-divider)",margin:"16px 0"}}),o("ul",Rr,[o("li",zr,[o("span",jr,s(e.$t("margin")),1),o("span",Br,s(!p(P).reduceOnly&&p(k)(ve()).gt(0)?("formatNumber"in e?e.formatNumber:p(_))(p(q).buy,4):"-")+" USD",1),v[22]||(v[22]=o("span",{class:"color-[--icon-color] mx-2px"},"/",-1)),o("span",Ur,s(!p(P).reduceOnly&&p(k)(ve(1)).gt(0)?("formatNumber"in e?e.formatNumber:p(_))(p(q).sell,4):"-")+" USD",1)]),o("li",Hr,[v[23]||(v[23]=o("span",{class:"mr-auto"},"Max: ",-1)),o("span",Kr,s(("formatNumber"in e?e.formatNumber:p(_))(p(G),{decimals:4,limit:8}))+" "+s((null==(w=p(t).unit)?void 0:w.coinName)||""),1),v[24]||(v[24]=o("span",{class:"color-[--icon-color] mx-2px"},"/",-1)),o("span",Wr,s(("formatNumber"in e?e.formatNumber:p(_))(p(Q),{decimals:4,limit:8}))+" "+s((null==(C=p(t).unit)?void 0:C.coinName)||""),1)]),p(P).reduceOnly?i("",!0):(a(),r("li",Yr,[o("span",qr,s(e.$t("estimatedLiquidationPrice1")),1),o("span",Xr,s(p(k)(ve()).gt(0)&&p(k)(p(le)).gt(0)?("formatNumber"in e?e.formatNumber:p(_))(p(le),p(O)):"-")+" USD",1),v[25]||(v[25]=o("span",{class:"color-[--icon-color] mx-2px"},"/",-1)),o("span",Zr,s(p(k)(ve(1)).gt(0)&&p(k)(p(re)).gt(0)?("formatNumber"in e?e.formatNumber:p(_))(p(re),{decimals:p(O),limit:8}):"-")+" USD",1)])),o("li",Jr,[o("span",Gr,s(e.$t("feeRate1")),1),o("span",Qr,s(e.$t("taker"))+" "+s(("formatNumber"in e?e.formatNumber:p(_))(p(Z).takerFeeRate))+"%",1),v[26]||(v[26]=o("span",{class:"color-[--icon-color] mx-2px"},"/",-1)),o("span",ea,s(e.$t("maker"))+" "+s(("formatNumber"in e?e.formatNumber:p(_))(p(Z).makerFeeRate))+"%",1)])])],64)}}}),[["__scopeId","data-v-04711bfc"]]),ta=e({__name:"index",setup(e){const l=R(),{isCanNormalWithdrawableAmount:t}=qe(),n=v(()=>t.value?"calc(100vh - 136px)":"calc(100vh - 96px)");return(e,t)=>{const s=ce,c=We;return a(),x(c,{class:"bg-[--secondary-bg]",height:p(n)},{default:b(()=>[o("div",{class:"relative p-12px",style:O(`min-height: ${p(n)};`)},[h(Qt),p(l).isConnectLogin?(a(),r(f,{key:0},[h(s,{style:{"--el-border-color":"var(--main-divider)",margin:"16px 0"}}),h(_r),h(la)],64)):i("",!0)],4)]),_:1},8,["height"])}}}),ra="tradingview.IntervalWidget.quicks";function aa(e){return{1:"MINUTE_1",5:"MINUTE_5",15:"MINUTE_15",30:"MINUTE_30",60:"HOUR_1",120:"HOUR_2",240:"HOUR_4","1D":"DAY_1","1W":"WEEK_1"}[e]||e}function oa(e){var l;return(null==(l={en:"en","zh-cn":"zh","zh-tw":"zh_TW",pt:"pt",es:"es",ru:"ru",tr:"tr",vi:"vi"})?void 0:l[e])||"en"}const na={id:"tv_chart_container_p",ref:"kline",style:{width:"100%",height:"100%"}},ia=I(e({__name:"index",props:{isRank:{type:Boolean}},setup(e){const{contractId:t,contractName:n,resolution:s,perp:u}=V(R()),d=z(),m=e,x=de(pe.KLINE_DATE_FILTER),b=m.isRank?fl():ve(),h=me(),y=xe(),w=L(!1);let k=!1;const P=C(!1),N=gl(()=>t.value,"perp_tv_charts_storage"),I=v(()=>n.value||"-");let S=!1;F(()=>t.value,e=>{var l,t,r;e&&(P.value=!1,(null==M?void 0:M.activeChart())&&(null==(t=null==(l=null==M?void 0:M.activeChart())?void 0:l.removeAllShapes)||t.call(l),null==(r=null==M?void 0:M.resetCache)||r.call(M),function(){var e,l,t,r,a;k=!1,w.value&&"perp-id"===y.name&&(M?(null==(e=null==M?void 0:M.resetCache)||e.call(M),null==(r=null==(t=null==(l=null==M?void 0:M.activeChart)?void 0:l.call(M))?void 0:t.clearMarks)||r.call(t),null==(a=null==M?void 0:M.setSymbol)||a.call(M,I.value,s.value,()=>{k=!0,N.loadKlineLine(M)})):H())}()))});const $=be(),T=new Map,A=l();let M=null;F(()=>A.theme,e=>{M&&(null==M||M.changeTheme(e).then(()=>{var e;G(),null==(e=null==M?void 0:M.applyOverrides)||e.call(M,{"scalesProperties.textColor":A.isDark?"#d5d5d5":"#333","paneProperties.backgroundType":"solid","paneProperties.background":we("--secondary-bg")})}))}),F(()=>$.locale,()=>{var e;k=!1,null==(e=null==M?void 0:M.remove)||e.call(M),H()});let B=!1,U=0;async function H(){var e,r,a;const o=(null==(r=null==(e=I.value)?void 0:e.toUpperCase)?void 0:r.call(e))||"-";s.value=function(e){var l;const t=["1","5","15","60","240","1D","1W"];let r;const a=localStorage.getItem(ra);if(a?(r=JSON.parse(a),r.includes("1S"),["1S","5S","15S","30S"].some(e=>null==r?void 0:r.includes(e))&&(r=(null==(l=null==r?void 0:r.filter)?void 0:l.call(r,e=>!(null==e?void 0:e.endsWith("S"))))||[],localStorage.setItem(ra,JSON.stringify(r)))):(r=t,localStorage.setItem(ra,JSON.stringify(r)),localStorage.setItem("tradingViewIntervalSet","true")),!r.includes(e)){const e="15";return localStorage.setItem("tv_resolution",e),e}return e}(s.value);const n=(null==(a=fe().globalConfig)?void 0:a.token_logo_url)||"https://www.iconaves.com/",i=await new Promise(e=>{var l;if(null==(l=null==window?void 0:window.TradingView)?void 0:l.widget)return e(window.TradingView.widget);window.addEventListener("tradingview:ready",()=>{e(window.TradingView.widget)},{once:!0})});M=new i({symbol:o.replace("<","＜")||" ",debug:!1,width:"100%",height:"100%",interval:s.value,theme:A.theme,container:"tv_chart_container_p",library_path:`${n}charting_library-29.4.0/charting_library/`,locale:oa($.locale),disabled_features:["header_symbol_search","header_screenshot","header_compare","volume_force_overlay","header_undo_redo","header_settings","header_saveload","timeframes_toolbar","symbol_search_hot_key","show_interval_dialog_on_key_press"],enabled_features:["request_only_visible_range_on_reset","saveload_separate_drawings_storage"],auto_save_delay:1,charts_storage_url:location.host,charts_storage_api_version:"1.1",timezone:ge(),time_frames:[],loading_screen:{backgroundColor:A.isDark?"#0B0D12":"#F6F9FF",foregroundColor:"#3F80F7"},custom_css_url:`${location.origin}/tv_custom_1.css`,custom_formatters:{priceFormatterFactory:()=>({format:e=>String(_(e,{decimals:4,limit:6,locale:"en"}))})},overrides:{volumePaneSize:"small","paneProperties.topMargin":"10","scalesProperties.textColor":A.isDark?"#d5d5d5":"#333","paneProperties.backgroundType":"solid","paneProperties.background":A.isDark?"#0B0D12":"#F6F9FF","paneProperties.vertGridProperties.style":2,"paneProperties.legendProperties.showLegend":!1,"paneProperties.legendProperties.showStudyArguments":!0,"paneProperties.legendProperties.showStudyTitles":!0,"paneProperties.legendProperties.showStudyValues":!0,"paneProperties.legendProperties.showSeriesTitle":!0,"paneProperties.legendProperties.showSeriesOHLC":!0,"mainSeriesProperties.candleStyle.drawWick":!0,"mainSeriesProperties.candleStyle.drawBorder":!0,"mainSeriesProperties.candleStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.hollowCandleStyle.drawWick":!0,"mainSeriesProperties.hollowCandleStyle.drawBorder":!0,"mainSeriesProperties.haStyle.drawWick":!0,"mainSeriesProperties.haStyle.drawBorder":!0,"mainSeriesProperties.haStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.barStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.barStyle.dontDrawOpen":!1,"mainSeriesProperties.lineStyle.linewidth":2,"mainSeriesProperties.lineStyle.priceSource":"close","mainSeriesProperties.areaStyle.linewidth":2,"mainSeriesProperties.areaStyle.priceSource":"close"},datafeed:{onReady:e=>{const l={supported_resolutions:["1","5","15","30","60","120","240","1D","1W"],supports_marks:!0,supports_timescale_marks:!0,supports_time:!0};G(),setTimeout(()=>e(l),50)},resolveSymbol:(e,l,t)=>{var r,a,o;try{const e=(null==(a=null==(r=I.value)?void 0:r.toUpperCase)?void 0:a.call(r))||"-",t=Number(null==b?void 0:b.price)||0,o={name:e,ticker:e,description:e||"",exchange:"Ave.ai",timezone:ge(),format:"price",minmov:1,minmove2:0,pricescale:t>0?10**ye(t).precision:1e10,volume_precision:2,fractional:!1,session:"24x7",has_intraday:!0,intraday_multipliers:["1","5","15","30","60","120","240"],has_daily:!0,has_weekly_and_monthly:!0,supported_resolutions:["1","5","15","30","60","120","240","1D","1W"],data_status:"streaming",visible_plots_set:"ohlcv",type:"crypto",listed_exchange:I.value||""};setTimeout(()=>l(o),0)}catch(n){t((null==(o=null==n?void 0:n.toString)?void 0:o.call(n))||"resolveSymbol err")}},getBars:(e,l,r,a,o)=>{var n;const{from:i,to:s,firstDataRequest:c}=r;try{if(c)B=!1;else if(B)return void a([],{noData:!0});const e={priceType:"LAST_PRICE",klineType:aa(l),contractId:t.value,filterBeginKlineTimeInclusive:1e3*i,filterEndKlineTimeExclusive:c?Date.now():Math.max(1e3*s,U||0)};S=!0,he(e).then(e=>{var l,t,r;const o=(null==(l=null==e?void 0:e.dataList)?void 0:l.reverse())||[],n=(null==o?void 0:o.map(e=>({...e,time:Number(e.klineTime),open:e.open,high:e.high,low:e.low,close:e.close,volume:Number(e.value||0)})))||[],i=(null==(t=null==n?void 0:n.map)?void 0:t.call(n,e=>({time:Number(e.klineTime),open:e.open,high:e.high,low:e.low,close:e.close,volume:Number(e.value||0),type:e.close>e.open?"buy":"sell"})))||[];c&&(B=(null==i?void 0:i.length)<1),(null==n?void 0:n.length)>0&&(U=(null==(r=null==n?void 0:n[0])?void 0:r.time)||0),a(i,{noData:!(null==i?void 0:i.length)}),setTimeout(()=>{k=!0},100)}).catch(e=>{var l,t;if(P.value=!0,c){const e=null==(l=u.value)?void 0:l.lastPrice,r=null==(t=u.value)?void 0:t.value,o={time:1e3*i,open:e,high:e,low:e,close:e,volume:r};setTimeout(()=>a([o],{noData:!1}),100)}else a([],{noData:!0,nextTime:void 0})}).finally(()=>{S=!1})}catch(d){o((null==(n=null==d?void 0:d.toString)?void 0:n.call(d))||"getBars err")}},subscribeBars:(e,l,r,a)=>{const o=aa(l);if(T.has(`${t.value}.${o}`))return void W(l,r);W(l,r,d.send({type:"subscribe",channel:`${j.KLINE}.${t.value}.${o}`})),T.set(`${t.value}.${o}`,{type:"subscribe",channel:`${j.KLINE}.${t.value}.${o}`})},unsubscribeBars:e=>{if(e){const l=aa((null==e?void 0:e.split("_"))[-1]);T.forEach((e,r)=>{r!==`${t.value}.${l}`&&d.send({...e,type:"unsubscribe"})}),null==T||T.clear()}},searchSymbols:(e,l,t,r)=>{}}}),function(){var e,t;const r="tradingview.chartproperties",a=localStorage.getItem(r);if(a)try{const o=JSON.parse(a),n="light"===l().theme?"#fff":"#0A0B0D";((null==(e=o.paneProperties)?void 0:e.background)!==n||"solid"!==(null==(t=o.paneProperties)?void 0:t.backgroundType))&&(o.paneProperties={...o.paneProperties,background:n,backgroundType:"solid"},localStorage.setItem(r,JSON.stringify(o)))}catch(o){}}(),M.onChartReady(()=>{var e,l,t,r,a;w.value=!0,k=!0,A.isDark?null==(e=null==M?void 0:M.applyOverrides)||e.call(M,{"scalesProperties.textColor":"#d5d5d5"}):null==(l=null==M?void 0:M.applyOverrides)||l.call(M,{"scalesProperties.textColor":"#333"}),null==(r=null==(t=null==M?void 0:M.activeChart)?void 0:t.call(M))||r.onIntervalChanged().subscribe(null,e=>{var l;s.value!==e&&(s.value=e,localStorage.setItem("tv_resolution",e),null==(l=null==M?void 0:M.resetCache)||l.call(M))}),function(e){var l;const t=null==(l=null==e?void 0:e.watermark)?void 0:l.call(e);null==t||t.color().setValue("#BCBED219"),null==t||t.setContentProvider(()=>[{text:"AVE.AI",fontSize:60,lineHeight:1,vertOffset:1}]),null==t||t.visibility().setValue(!0)}(M),null==(a=null==M?void 0:M.applyOverrides)||a.call(M,{"scalesProperties.textColor":A.isDark?"#d5d5d5":"#333","paneProperties.backgroundType":"solid","paneProperties.background":we("--secondary-bg")}),N.loadKlineLine(M),N.saveKlineState(M)});let c=0;M.subscribe("mouse_down",()=>{c=performance.now()}),M.subscribe("mouse_up",e=>{if(performance.now()-c>=200)return;const l=null==M?void 0:M.activeChart().getTimeScale().coordinateToTime(e.clientX-56);if(l&&s.value){const e=_e[s.value]||{val:s.value,unit:"m"},t=ke(1e3*l).add(e.val,e.unit).unix();h.isClickKlineFilter&&(null==x?void 0:x.value)&&(x.value=[String(l),String(t)])}}),null==M||M.subscribe("study_event",(e,l)=>{"create"!==l&&"remove"!==l||K||function(){var e;if(null==M?void 0:M.activeChart){let l=(null==(e=null==M?void 0:M.activeChart)?void 0:e.call(M).getAllStudies())||[];l=l.filter((e,t)=>l.findIndex(l=>l.name===e.name)===t),localStorage.setItem("tw_study",JSON.stringify(l.filter(e=>"Volume"!==e.name)))}}()}),window.onbeforeunload=()=>{K=!0}}let K=!1;function W(e,l,r=d.getWSInstance()){null==r||r.onmessage(r=>{const a=Pe(r);if(!a)return;const{channel:o,content:{data:n,dataType:i}={}}=a||{},s=aa(e);if(o==`${j.KLINE}.${t.value}.${s}`){if((null==n?void 0:n.length)>0&&!S&&"Snapshot"===i&&P.value){j.KLINE,t.value;n.reverse().map(e=>({time:Number(e.klineTime),open:e.open,high:e.high,low:e.low,close:e.close,volume:Number(e.value||0)})).forEach(e=>l(e))}if((null==n?void 0:n.length)>0&&!S&&"changed"===i){const e=null==n?void 0:n.map(e=>({...e,time:Number(e.klineTime),open:e.open,high:e.high,low:e.low,close:e.close,volume:Number(e.value||0),type:e.close>e.open?"buy":"sell"}))[0];l(e)}}},"kline")}let Y=!1;const q=Ne("kHeightPerp",Math.max(Ce.KLINE,500)),X=E().height,Z=ae("kline");function J(e){let l=e.clientY;if(Y=!0,!Z)return;const{height:t}=Se(Z);return q.value=t.value,document.onmousemove=e=>{if(!Y)return;if(e.clientY>X.value)return void(Y=!1);document.getElementById("tv_chart_container_p").style.pointerEvents="none";const t=e.clientY<l?q.value-(l-e.clientY):q.value+e.clientY-l;t<=X.value-164&&(q.value=t),l=e.clientY},document.onmouseup=()=>{document.getElementById("tv_chart_container_p").style.pointerEvents="auto",Y=!1,document.onmousemove=null,document.onmouseup=null},!1}function G(){var e;const l=document.querySelector("#tv_chart_container_p iframe"),t=null==(e=null==l?void 0:l.contentWindow)?void 0:e.document.documentElement;t&&t.style.setProperty("--secondary-bg",we("--secondary-bg"))}return Ie(()=>{var e;K=!0,null==(e=null==M?void 0:M.remove)||e.call(M)}),D(()=>{H(),hl(()=>{var e,l,t,r;null==(e=null==M?void 0:M.resetCache)||e.call(M),null==(r=null==(l=null==M?void 0:M.activeChart)?void 0:(t=l.call(M)).resetData)||r.call(t)})}),(l,t)=>(a(),r(f,null,[o("div",{class:"relative",style:O({height:`${p(q)}px`})},[o("div",na,null,512)],4),e.isRank?i("",!0):(a(),r("div",{key:0,class:"w-full cursor-row-resize bg-[--border] gap-1px hover:bg-[--third-text] flex items-center justify-center h-4px",onMousedown:c(J,["stop","prevent"])},[(a(),r(f,null,g(4,e=>o("span",{key:e,class:"bg-[--icon-color] w-2px h-2px rounded-full"})),64))],32))],64))}}),[["__scopeId","data-v-c987ccd1"]]),sa={class:"text-left min-w-0"},ca={class:"color-[--d-5A5E64-l-A9B0BC]"},ua={class:"text-right text-nowrap min-w-0"},da={class:"font-medium truncate"},pa={class:"text-right text-nowrap min-w-0"},va={class:"font-medium truncate"},ma=I(e({__name:"list",props:{klineHeight:{},height:{},list:{},type:{},unit:{},step:{}},setup(e){const t=l(),n=e,{t:i}=J(),c=R(),u=v(()=>{var e;let l=[...n.list,...Array.from({length:Math.max(0,200-(null==(e=n.list)?void 0:e.length))},()=>({price:"0",size:"0",sum:"0"}))];"sell"==n.type?l.sort((e,l)=>new k(e.price).comparedTo(new k(l.price))||0):l.sort((e,l)=>new k(l.price).comparedTo(new k(e.price))||0);let t="0";return l=l.map(e=>(t=k(t).plus(new k(e.size)).toString(),{...e,sum:t})),"sell"==n.type?null==l?void 0:l.reverse():l});function m(e){const l={"true-true":"rgba(18, 184, 134, 0.10)","true-false":"rgba(246, 70, 93, 0.10)","false-false":"rgba(18, 184, 134, 0.10)","false-true":"rgba(246, 70, 93, 0.10)"};return l[`${t.isDark}-${"buy"==(null==n?void 0:n.type)}`]||l["true-true"]}function x(e,l){const t=n.list.reduce((e,l)=>e+Number(l.sum),0),r=n.list.reduce((e,t,r)=>r<l?e+Number(t.sum):e,0),a="sell"==n.type?Math.min(Number(t-r)/t,1):Math.min(Number(r)/t,1);return Number(e.price)>0?a.toFixed(3):0}const b=v(()=>nl(null==n?void 0:n.step)),h=v(()=>{var e;return Qe((null==(e=c.perp)?void 0:e.contractId)||"")});function y(e){var l;const t="USD"==(null==(l=n.unit)?void 0:l.coinName);return Number(null==e?void 0:e.price)>0?_(t?k((null==e?void 0:e.size)||0).times((null==e?void 0:e.price)||0).toFixed():(null==e?void 0:e.size)||0,{limit:8,decimals:t?2:h.value||8}):"--"}function w(e){var l;const t="USD"==(null==(l=n.unit)?void 0:l.coinName);return Number(null==e?void 0:e.price)>0?_(t?k((null==e?void 0:e.sum)||0).times((null==e?void 0:e.price)||0).toFixed():(null==e?void 0:e.sum)||0,{limit:8,decimals:t?2:h.value||8}):"--"}return(l,t)=>(a(),r("div",{class:"text-12px overflow-hidden",style:O({height:`${e.height}px`})},[(a(!0),r(f,null,g(p(u),(t,n)=>(a(),r("div",{key:n,class:"grid grid-cols-[minmax(0,1.5fr)_minmax(0,1fr)_minmax(0,1fr)] items-center gap-15px h-24px hover:bg-[rgba(255,255,255,.02)] relative z-10 overflow-hidden cursor-pointer mt-1px first:mt-0 text-12px"},[o("div",{class:"absolute inset-0 pointer-events-none mb-2px",style:O({backgroundColor:m(),transform:`scaleX(${x(t,n)})`,transformOrigin:"right"})},null,4),o("div",sa,[o("div",ca,[o("span",{class:d("sell"==e.type?"color-[--down-color]":"color-[--up-color]")},s(Number(null==t?void 0:t.price)>0?("formatNumber"in l?l.formatNumber:p(_))((null==t?void 0:t.price)||0,{limit:8,decimals:p(b)}):"--"),3)])]),o("div",ua,[o("div",da,[o("span",null,s(y(t)),1)])]),o("div",pa,[o("div",va,[o("span",null,s(w(t)),1)])])]))),128))],4))}}),[["__scopeId","data-v-2ef076d0"]]),xa={class:"text-12px"},ba={class:"grid grid-cols-[minmax(0,1.5fr)_minmax(0,1fr)_minmax(0,1fr)] items-center gap-15px h-24px hover:bg-[rgba(255,255,255,.02)] relative z-10 overflow-hidden cursor-pointer mt-1px first:mt-0 text-12px"},fa={class:"text-left min-w-0"},ga={class:"color-[--d-5A5E64-l-A9B0BC]"},ha={class:"text-right text-nowrap min-w-0"},ya={class:"font-medium truncate"},wa={class:"text-right text-nowrap min-w-0"},_a={class:"font-medium truncate"},ka=I(e({__name:"history",props:{height:{},list:{}},setup(e){const l=e,{t:t}=J(),n=v(()=>{var e;return(null==(e=l.list)?void 0:e.length)>0?l.list:Array.from({length:200},()=>({price:"0",size:"0",sum:"0"}))});return(l,t)=>(a(),r("div",xa,[(a(),x(p(yl),{key:e.height,list:p(n),options:{itemHeight:24,overscan:5},style:{"margin-right":"-12px","padding-right":"12px"},class:"scrollbar-hide",height:`${e.height}px`},{default:b(({data:e,index:r})=>[o("div",ba,[t[0]||(t[0]=o("div",{class:"absolute inset-0 pointer-events-none"},null,-1)),o("div",fa,[o("div",ga,[o("span",{class:d((null==e?void 0:e.isBuyerMaker)?"color-[--up-color]":"color-[--down-color]")},s(Number(null==e?void 0:e.price)>0?("formatNumber"in l?l.formatNumber:p(_))((null==e?void 0:e.price)||0):"--"),3)])]),o("div",ha,[o("div",ya,[o("span",null,s(Number(null==e?void 0:e.price)>0?("formatNumber"in l?l.formatNumber:p(_))((null==e?void 0:e.size)||0):"--"),1)])]),o("div",wa,[o("div",_a,[o("span",null,s(Number(null==e?void 0:e.price)>0?("formatDate"in l?l.formatDate:p($e))(e.time,"HH:mm:ss"):"--"),1)])])])]),_:1},8,["list","height"]))]))}}),[["__scopeId","data-v-01957d2c"]]),Pa={class:"mx-12px pb-12px flex"},Na=["onClick"],Ca={class:"mx-12px pb-12px flex"},Ia=["onClick"],Sa={class:"py-4px [&&]:m--12px flex flex-col"},$a=["onClick"],La={class:"ml-4px mr-4px"},Ta={class:"py-4px [&&]:m--12px flex flex-col"},Ea=["onClick"],Fa={class:"ml-4px mr-4px"},Da={class:"px-12px"},Aa={class:"text-12px"},Ma={class:"grid grid-cols-[minmax(0,1.5fr)_minmax(0,1fr)_minmax(0,1fr)] items-center gap-15px mt-8px mb-4px text-12px color-[--d-5A5E64-l-A9B0BC] mb-8px"},Oa={class:"min-w-0 text-left"},Va={class:"text-right text-nowrap min-w-0"},Ra={class:"flex items-center justify-end gap-2px"},za={class:"text-right text-nowrap min-w-0"},ja={class:"flex items-center justify-end gap-2px"},Ba={class:"mt-16px mb-16px flex items-center"},Ua={class:"flex-end border-b-dashed border-b-1px border-[--third-text]"},Ha={class:"text-12px color-[--third-text] ml-4px"},Ka={class:"range-container z-10 absolute bottom-0 py-16px px-10px w-100% flex items-center justify-center bg-[--main-input-button-bg] color-[#FFA622]"},Wa={class:"text-10px color-[--up-color]"},Ya={class:"range ml-4px mr-4px"},qa={class:"text-10px color-[--down-color]"},Xa={key:1,class:"mx-12px pb-12px"},Za={class:"grid grid-cols-[minmax(0,1.5fr)_minmax(0,1fr)_minmax(0,1fr)] items-center gap-15px mt-8px mb-4px text-12px color-[--d-5A5E64-l-A9B0BC]"},Ja={class:"min-w-0 text-left"},Ga={class:"text-right text-nowrap min-w-0"},Qa={class:"flex items-center justify-end gap-2px"},eo={class:"text-right text-nowrap min-w-0"},lo={class:"flex items-center justify-end gap-2px"},to=I(e({__name:"index",props:{klineHeight:{}},setup(e){const{contractId:l,perp:t,resolution:m,metadata:y,unit:w,unitList:P,base:N,quote:I,buyList:S,sellList:$}=V(R()),E=z(),A=e,{t:M}=J(),H=Le(),K=C(200),W=C([]),Y=C([]),q=C(!1),X=C("0"),Z=C(!1),G=L([]),Q=L([]),ee=L([]),le=L([]),te=L(null),re=C("orderbook"),ae=C("all"),oe=v(()=>Ye(l.value||"")),ne=v(()=>[{label:M("orderBook"),value:"orderbook"},{label:M("recentTrades"),value:"history"}]),ie=v(()=>[{label:M("orderBook"),value:"all"},{label:M("buy"),value:"buy"},{label:M("sell"),value:"sell"}]),se=v(()=>{const e=A.klineHeight||300;return"history"===re.value?e-100:"all"===ae.value?(e-100-55-60-5)/2:e-200}),ce=v(()=>{var e,l;return(null==(l=null==(e=t.value)?void 0:e.displayDigitMerge)?void 0:l.split(","))||[]}),ue=v(()=>Math.floor(Number(se.value)/24)),de=v(()=>{const e=S.value.reduce((e,l)=>e+Number(l.sum),0),l=$.value.reduce((e,l)=>e+Number(l.sum),0);return e+l>0?Math.min(e/(e+l)*100,100):0}),pe=L(window.innerWidth),ve=()=>{pe.value=window.innerWidth};F(()=>N.value,e=>{e?(w.value=e??null,X.value=ce.value[0]??"0"):w.value=null}),F(()=>m.value,e=>{e&&"perp-id"==H.name&&(re.value="orderbook",S.value=[],$.value=[],ee.value=[],le.value=[],W.value=[],Y.value=[],"orderbook"===re.value?be():fe())}),F(()=>l.value,e=>{e&&(re.value="orderbook",S.value=[],$.value=[],W.value=[],Y.value=[],"orderbook"===re.value?be():fe())}),F(()=>E.wsResult[j.DEPTH],e=>{var t,r,a,o,n;const i=null==(t=e.data)?void 0:t[0],s=Array.isArray(null==i?void 0:i.bids)?null==(r=null==i?void 0:i.bids)?void 0:r.map(e=>({...e,sum:(null==e?void 0:e.size)||"0"})):[],c=Array.isArray(null==i?void 0:i.asks)?null==(a=null==i?void 0:i.asks)?void 0:a.map(e=>({...e,sum:(null==e?void 0:e.size)||"0"})):[];((null==(o=null==i?void 0:i.bids)?void 0:o.length)>0||(null==(n=null==i?void 0:i.asks)?void 0:n.length)>0)&&`${j.DEPTH}.${l.value}.${K.value}`==e.channel&&("Snapshot"===e.dataType?(S.value=s,$.value=c,ee.value=s,le.value=s):"changed"===e.dataType&&((null==s?void 0:s.length)>0&&(W.value=[...W.value||[],...s]),(null==c?void 0:c.length)>0&&(Y.value=[...Y.value||[],...c]),xe()))}),F(()=>E.wsResult[j.TRADES],e=>{const t=Array.isArray(e.data)?e.data:[];(null==t?void 0:t.length)>0&&`${j.TRADES}.${l.value}`==e.channel&&("Snapshot"===e.dataType?G.value=t:"changed"===e.dataType&&(Q.value=[...t,...Q.value],me()))});const me=Te(()=>{var e;0!==Q.value.length&&(null==(e=Q.value)?void 0:e.length)>0&&(G.value=[...Q.value,...G.value],G.value.length>200&&(G.value=G.value.slice(0,200)),Q.value.length=0,Fe(G))},200),xe=Te(()=>{var e,l,t,r,a,o;if(0!==W.value.length||0!==Y.value.length){if((null==(e=W.value)?void 0:e.length)>0){const e=[...S.value,...W.value];S.value=ge(e,String(X.value),!0),S.value.length>200&&(S.value=null==(l=S.value)?void 0:l.slice(0,ue.value)),(null==(t=S.value)?void 0:t.length)<5&&(S.value=ee.value),Fe(S),W.value=[]}if((null==(r=Y.value)?void 0:r.length)>0){const e=[...$.value,...Y.value];$.value=ge(e,String(X.value),!1),$.value.length>200&&($.value=null==(a=$.value)?void 0:a.slice(0,ue.value)),(null==(o=$.value)?void 0:o.length)<5&&($.value=le.value),Fe($),Y.value=[]}}},200);function be(){E.send({type:"unsubscribe",channel:`${j.DEPTH}.${l.value}.${K.value}`}),setTimeout(()=>{E.send({type:"subscribe",channel:`${j.DEPTH}.${l.value}.${K.value}`})},500)}function fe(){E.send({type:"unsubscribe",channel:`${j.TRADES}.${l.value}`}),setTimeout(()=>{E.send({type:"subscribe",channel:`${j.TRADES}.${l.value}`})},500)}function ge(e,l,t){const r=new Map;for(const o of e){const e=il.digitMergeNumber(o.price,l,t),a=new k(o.size),n=new k(o.sum??o.size);if(a.isZero())r.delete(e);else if(r.has(e)){const l=r.get(e);r.set(e,{price:e,size:a.toFixed(),sum:l.sum.plus(n)})}else r.set(e,{price:e,size:a.toFixed(),sum:n})}const a=[...r.values()].map(e=>({price:e.price,size:e.size,sum:e.sum.toFixed()}));return t?a.sort((e,l)=>new k(l.price).comparedTo(new k(e.price))):a.sort((e,l)=>new k(e.price).comparedTo(new k(l.price)))}function he(e,t){!function(e){re.value=e,W.value=[],Y.value=[]}(e),"orderbook"===re.value?(E.send({type:"unsubscribe",channel:`${j.TRADES}.${l.value}`}),E.send({type:"subscribe",channel:`${j.DEPTH}.${l.value}.${K.value}`})):(E.send({type:"unsubscribe",channel:`${j.DEPTH}.${l.value}.${K.value}`}),E.send({type:"subscribe",channel:`${j.TRADES}.${l.value}`}))}return D(()=>{w.value=N.value??null,X.value=ce.value[0]??"0",window.addEventListener("resize",ve),"orderbook"===re.value?be():fe()}),Ee(()=>{window.removeEventListener("resize",ve),l.value&&(E.send({type:"unsubscribe",channel:`${j.DEPTH}.${l.value}.${K.value}`}),E.send({type:"unsubscribe",channel:`${j.TRADES}.${l.value}`}),Z.value&&(Z.value=!1),q.value&&(q.value=!1))}),(l,v)=>{var m,y,k,C,L,E,F,D,A,M,V,R,z,j;const H=T,K=U,W=B("tooltip");return a(),r("div",{class:"bg-[--secondary-bg] relative rounded-2px text-14px pt-12px flex flex-col overflow-hidden",style:O({height:`${e.klineHeight||200}px`})},[o("div",Pa,[o("div",{ref_key:"tabsContainer",ref:te,class:"flex-1 flex items-center gap-x-8px whitespace-nowrap overflow-x-auto scrollbar-hide"},[(a(!0),r(f,null,g(p(ne),(e,l)=>(a(),r("button",{key:e.value,style:O({backgroundColor:p(re)===e.value?"rgba(63, 128, 247, 0.10)":"var(--d-16181D-l-ECF3FF)"}),class:d(["shrink-0 text-12px px-8px py-4px rounded-4px border-none cursor-pointer",p(re)===e.value?"color-[--primary-color]":"bg-[--d-16181D-l-ECF3FF] color-[--d-5A5E64-l-A9B0BC]"]),onClick:l=>he(e.value)},s(e.label),15,Na))),128))],512)]),"orderbook"===p(re)?(a(),r(f,{key:0},[o("div",Ca,[o("div",{ref_key:"tabsContainer",ref:te,class:"flex-1 flex items-center gap-x-8px whitespace-nowrap overflow-x-auto scrollbar-hide"},[(a(!0),r(f,null,g(p(ie),e=>n((a(),r("button",{key:e.value,style:O({backgroundColor:p(ae)===e.value?"var(--d-383F4B-l-CAD6EC)":"transparent"}),class:d(["shrink-0 px-2px py-2px rounded-1px border-none cursor-pointer text-16px leading-none h-16px w-16px flex items-center"]),onClick:l=>ae.value=e.value},["all"==e.value?(a(),x(H,{key:0,mode:"svg",name:"custom:perp-all",style:O(p(ae)===e.value?{"--rect2":"#F6465D","--rect3":"#12B886"}:{"--rect2":"#71486d","--rect3":"#2fa89a"})},null,8,["style"])):i("",!0),"buy"==e.value?(a(),x(H,{key:1,mode:"svg",name:"custom:perp-buy",style:O(p(ae)===e.value?{"--rect2":"#12B886"}:{"--rect2":"#345e74"})},null,8,["style"])):i("",!0),"sell"==e.value?(a(),x(H,{key:2,mode:"svg",name:"custom:perp-sell",style:O(p(ae)===e.value?{"--rect2":"#F6465D"}:{"--rect2":"#71486d"})},null,8,["style"])):i("",!0)],12,Ia)),[[W,e.label]])),128))],512),v[2]||(v[2]=o("div",{class:"flex-1"},null,-1)),(null==(m=p(P))?void 0:m.length)>=0?(a(),x(K,{key:0,"popper-class":"[--el-popover-bg-color:--border]",placement:"bottom-end",trigger:"click",visible:p(q)},{reference:b(()=>{var e;return[o("div",{class:"flex-start items-center cursor-pointer text-12px bg-[--main-input-button-bg] px-4px py-4px",onClick:v[0]||(v[0]=c(e=>q.value=!p(q),["stop"]))},[u(s(null==(e=p(w))?void 0:e.coinName)+" ",1),h(H,{name:p(q)?"radix-icons:triangle-up":"radix-icons:triangle-down",class:"text-16px color-[--main-text]"},null,8,["name"])])]}),default:b(()=>[o("div",Sa,[(a(!0),r(f,null,g(p(P),(e,l)=>(a(),r("div",{key:l,class:"flex-start items-center text-12px py-4px px-8px color-[--main-text] hover:bg-[--dialog-list-hover] cursor-pointer",onClick:c(l=>function(e){w.value=e,q.value=!1}(e),["stop"])},[o("span",La,s(null==e?void 0:e.coinName),1)],8,$a))),128))])]),_:1},8,["visible"])):i("",!0),(null==(y=p(ce))?void 0:y.length)>0?(a(),x(K,{key:1,"popper-class":"[--el-popover-bg-color:--border]",placement:"bottom-end",trigger:"click",visible:p(Z)},{reference:b(()=>[o("div",{class:"flex-start items-center cursor-pointer text-12px bg-[--main-input-button-bg] px-4px py-4px ml-4px",onClick:v[1]||(v[1]=c(e=>Z.value=!p(Z),["stop"]))},[u(s(p(X))+" ",1),h(H,{name:p(Z)?"radix-icons:triangle-up":"radix-icons:triangle-down",class:"text-16px color-[--main-text]"},null,8,["name"])])]),default:b(()=>[o("div",Ta,[(a(!0),r(f,null,g(p(ce),(e,l)=>(a(),r("div",{key:l,class:"flex-start items-center text-12px py-4px px-8px color-[--main-text] hover:bg-[--dialog-list-hover] cursor-pointer",onClick:c(l=>function(e){X.value=e,Z.value=!1}(e),["stop"])},[o("span",Fa,s(e),1)],8,Ea))),128))])]),_:1},8,["visible"])):i("",!0)]),o("div",Da,[o("div",Aa,[o("div",Ma,[o("div",Oa,s(l.$t("price"))+"("+s(null==(k=p(I))?void 0:k.coinName)+")",1),o("div",Va,[o("div",Ra,[o("span",null,s(l.$t("amount"))+"("+s(null==(C=p(w))?void 0:C.coinName)+")",1)])]),o("div",za,[o("div",ja,[o("span",null,s(l.$t("total"))+"("+s(null==(L=p(w))?void 0:L.coinName)+")",1)])])]),"all"==p(ae)||"sell"==p(ae)?(a(),x(ma,{key:0,list:null==(E=p($))?void 0:E.slice(0,p(ue)),type:"sell",height:p(se),unit:p(w),step:p(X)},null,8,["list","height","unit","step"])):i("",!0),o("div",Ba,[o("span",{class:d(["text-20px font-700 block text-left",Number(null==(F=p(t))?void 0:F.priceChange)>0?"color-[--up-color]":"color-[--down-color]"])},s(("formatNumber"in l?l.formatNumber:p(_))((null==(D=p(t))?void 0:D.lastPrice)||0,{decimals:p(oe),limit:8})),3),h(H,{class:d(["text-16px",Number(null==(A=p(t))?void 0:A.priceChange)>0?"color-[--up-color]":"color-[--down-color]"]),name:"custom:"+(Number(null==(M=p(t))?void 0:M.priceChange)>0?"arrow-up":"arrow-down")},null,8,["class","name"]),v[3]||(v[3]=o("div",{class:"flex-1"},null,-1)),n((a(),r("div",Ua,[h(H,{class:"text-14px color-[--third-text]",name:"custom:perp-flag"}),o("span",Ha,s(("formatNumber"in l?l.formatNumber:p(_))((null==(V=p(t))?void 0:V.oraclePrice)||0,{decimals:p(oe),limit:8})),1)])),[[W,l.$t("oraclePriceTooltip")]])]),"all"==p(ae)||"buy"==p(ae)?(a(),x(ma,{key:1,list:null==(R=p(S))?void 0:R.slice(0,p(ue)),type:"buy",height:p(se),unit:p(w),step:p(X)},null,8,["list","height","unit","step"])):i("",!0)])]),o("div",Ka,[o("span",Wa,s(l.$t("buy1")),1),o("div",Ya,[o("span",{class:"left",style:O({width:("formatNumber"in l?l.formatNumber:p(_))(p(de)||0,1)+"%"})},s(("formatNumber"in l?l.formatNumber:p(_))(p(de),1))+"% ",5),o("span",{class:"right",style:O({width:("formatNumber"in l?l.formatNumber:p(_))(100-p(de)||0,1)+"%"})},s(("formatNumber"in l?l.formatNumber:p(_))(100-p(de),1))+"% ",5)]),o("span",qa,s(l.$t("sell1")),1)])],64)):(a(),r("div",Xa,[o("div",Za,[o("div",Ja,s(l.$t("price"))+"("+s(null==(z=p(I))?void 0:z.coinName)+")",1),o("div",Ga,[o("div",Qa,[o("span",null,s(l.$t("amount"))+"("+s(null==(j=p(N))?void 0:j.coinName)+")",1)])]),o("div",eo,[o("div",lo,[o("span",null,s(l.$t("time")),1)])])]),h(ka,{list:p(G),height:p(se)},null,8,["list","height"])]))],4)}}}),[["__scopeId","data-v-29d76bcf"]]),ro={class:"flex-start items-center"},ao={class:"text-20px font-500 cursor-pointer"},oo={class:"content"},no={class:"flex items-center"},io={class:"ml-5px text-14px color-[--third-text]"},so={class:"ml-5px color-[--secondary-text] text-12px"},co={class:"flex-between mt-10px"},uo={class:"color-[--secondary-text] text-12px"},po={class:"color-[--third-text] text-12px"},vo={class:"text-center mt-30px flex-between"},mo=I(e({__name:"closePositionDialog",props:{modelValue:Boolean,positions:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(e,{emit:l}){const t=e,n=l,i=v({get:()=>t.modelValue??!1,set:e=>n("update:modelValue",e)}),{metadata:m}=V(R()),{t:y}=J(),w=v(()=>{var e,l,t;const r=(null==(t=null==(l=null==(e=m.value)?void 0:e.contractList)?void 0:l.reduce)?void 0:t.call(l,(e,l)=>(e[l.contractId]=l.contractName,e),{}))||{};return r.ALL=y("all"),r});function P(e){var l,t,r;return(null==(r=null==(t=null==(l=m.value)?void 0:l.contractList)?void 0:t.find(l=>l.contractId===e))?void 0:r.baseCoin)||""}const N=L(!1);let C=0;async function I(){N.value=!0,Promise.all(t.positions.map(e=>async function(e){var l;(null==(l=t.positions)?void 0:l.length)>2&&(C++,C>1&&(await De(1e3*(C-1)),C=0));const r=w.value[e.contractId]+" "+Xe(e.contractId)+"X ",a={type:"MARKET",size:k(e.openSize||"0").abs().toFixed(),price:String("0"),side:k((null==e?void 0:e.openSize)||"0").gte(0)?"SELL":"BUY",contractId:(null==e?void 0:e.contractId)||"",reduceOnly:!0,isPositionTpsl:!1,isSetOpenTp:!1,isSetOpenSl:!1};return sl(a).then(async e=>(Ae({type:"success",message:r+y("closePositionSubmitted")}),e)).catch(async e=>(Ae({type:"error",message:null==e?void 0:e.message}),""))}(e))).then(e=>{(null==e?void 0:e.every(e=>e))&&(i.value=!1)}).finally(()=>{N.value=!1})}return(l,t)=>{const n=bl,v=Y,m=Q;return a(),x(m,{modelValue:p(i),"onUpdate:modelValue":t[1]||(t[1]=e=>$(i)?i.value=e:null),width:"450px",class:"dialog-box dialog-max dialog-remind dialog","append-to-body":"","destroy-on-close":"",onClose:t[2]||(t[2]=e=>i.value=!1)},{header:b(()=>[o("div",ro,[o("span",ao,s(p(y)("marketPriceClosePosition")),1)])]),default:b(()=>[o("div",oo,[o("ul",null,[(a(!0),r(f,null,g(e.positions,(e,t)=>{var n,i;return a(),r("li",{key:t,class:"mb-15px"},[o("div",no,[o("span",{class:d(["rounded-4px h-16px text-10px inline-flex items-center justify-center px-2px",(null==(n=p(k)(e.openSize))?void 0:n.gt(0))?"bg-[--up-color]":"bg-[--down-color]"])},s((null==(i=p(k)(e.openSize))?void 0:i.gt(0))?l.$t("buy1"):l.$t("sell1")),3),o("span",io,s(p(w)[e.contractId]),1),o("span",so,s(("getLeverageFromContractId"in l?l.getLeverageFromContractId:p(Xe))(e.contractId))+"X",1)]),o("div",co,[o("span",uo,s(l.$t("orderQuantity")),1),o("span",po,s(("formatNumber"in l?l.formatNumber:p(_))(e.openSize.replace("-","")))+" "+s(P(e.contractId)),1)])])}),128))]),h(n,{type:"warning",title:l.$t("closePositionTip"),closable:!1,"show-icon":"",class:"close-alert",style:{backgroundColor:"#FFA6221A",color:"#FFA622",border:"none",fontSize:"12px","--el-alert-title-font-size":"12px",lineHeight:"1"}},null,8,["title"]),o("div",vo,[h(v,{class:"flex-1",style:{height:"48px"},onClick:t[0]||(t[0]=c(e=>i.value=!1,["stop","prevent"]))},{default:b(()=>[u(s(l.$t("cancel")),1)]),_:1}),h(v,{class:"flex-1",style:{height:"48px"},type:"primary",loading:p(N),onClick:c(I,["stop","prevent"])},{default:b(()=>[u(s(l.$t("confirm")),1)]),_:1},8,["loading"])])])]),_:1},8,["modelValue"])}}}),[["__scopeId","data-v-24bce3f4"]]),xo={class:"pt-12px bg-[--secondary-bg]"},bo={class:"flex items-center justify-between mb-16px px-14px"},fo={class:"flex items-center"},go=["onClick"],ho={class:"flex items-center justify-end gap-12px"},yo=I(e({__name:"index",setup(e){const{contractId:l,isCancelOrder:t,position:n,order:m}=V(R()),y=W(),{t:w}=J(),_=R(),k=C(!1),P=v(()=>{var e,l,t,r;return[{label:w("positions")+((null==(e=D.value)?void 0:e.length)>0?`(${null==(l=D.value)?void 0:l.length})`:""),value:"holding"},{label:w("currentOrder")+((null==(t=m.value)?void 0:t.length)>0?`(${null==(r=m.value)?void 0:r.length})`:""),value:"currentOrder"},{label:w("orderDetail"),value:"orderDetail"},{label:w("historyOrder"),value:"historyOrder"},{label:w("closePnl"),value:"closePnl"},{label:w("positionHistory"),value:"positionHistory"}]}),N={holding:wl,currentOrder:Oe(()=>Re(()=>import("./DXBX62dY.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]),import.meta.url)),conditionOrder:Oe(()=>Re(()=>import("./Pl0sl4qx.js"),__vite__mapDeps([10,1,2,3,4,5,6,7,8,9]),import.meta.url)),orderDetail:Oe(()=>Re(()=>import("./DJ6HvwpC.js"),__vite__mapDeps([11,1,2,3,4,5,6,7,8,9]),import.meta.url)),historyOrder:Oe(()=>Re(()=>import("./DGsbmmOS.js"),__vite__mapDeps([12,1,2,3,4,5,6,7,8,9]),import.meta.url)),closePnl:Oe(()=>Re(()=>import("./Blx2UtCs.js"),__vite__mapDeps([13,1,2,3,4,5,6,7,8,9]),import.meta.url)),positionHistory:Oe(()=>Re(()=>import("./DKKpGD6T.js"),__vite__mapDeps([14,1,2,3,4,5,6,7,8,9,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]),import.meta.url))},I=Me("perp-selected-current-object",Object.fromEntries(Object.keys(N).map(e=>[e,!0]))),S=L("holding"),T=Ne("perp-kline-searchParams",Object.keys(N).reduce((e,t)=>(e[t]={filterContractIdList:l.value},e),{})),E=e=>{const l={...T.value[e]};"ALL"===l.filterContractIdList&&Reflect.deleteProperty(l,"filterContractIdList");for(const t in l)Object.prototype.hasOwnProperty.call(l,t)&&(l[t]||Reflect.deleteProperty(l,t));return l},D=v(()=>{var e;const l=E(S.value);return(null==(e=_.position)?void 0:e.filter(e=>(null==l?void 0:l.filterContractIdList)&&e.contractId===(null==l?void 0:l.filterContractIdList)||!(null==l?void 0:l.filterContractIdList)))||[]}),A=v(()=>{var e;return!!(null==(e=I.value)?void 0:e[S.value])});return F(()=>A.value,e=>{T.value[S.value].filterContractIdList=e?l.value:"ALL"}),F(()=>l.value,e=>{A.value?T.value[S.value].filterContractIdList="ALL":T.value[S.value].filterContractIdList=e}),F(()=>S.value,e=>{A.value?T.value[e].filterContractIdList=l.value:T.value[e].filterContractIdList="ALL"}),(e,l)=>{var v,m;const w=se,C=Y;return a(),r("div",xo,[o("div",bo,[o("div",fo,[(a(!0),r(f,null,g(p(P),e=>(a(),r("span",{key:e.value,class:d(["text-12px lh-24px color-[--third-text] cursor-pointer border-b-2px border-b-solid border-transparent block mr-24px pb-10px",{"[&&]:color-[--main-text] [&&]:border-[--main-text]":e.value===p(S)}]),onClick:l=>S.value=e.value},s(e.label),11,go))),128))]),o("div",ho,[h(w,{modelValue:p(I)[p(S)],"onUpdate:modelValue":l[0]||(l[0]=e=>p(I)[p(S)]=e),class:"checkbox-sm",label:e.$t("showCurrentContract")},null,8,["modelValue","label"]),"holding"==p(S)?(a(),x(C,{key:0,class:"close-position",disabled:0==(null==(v=p(n))?void 0:v.length),onClick:l[1]||(l[1]=c(e=>k.value=!0,["stop","prevent"]))},{default:b(()=>[u(s(e.$t("closePositionAll")),1)]),_:1},8,["disabled"])):"currentOrder"==p(S)?(a(),x(C,{key:1,class:"close-position",disabled:0==(null==(m=p(_).order)?void 0:m.length),onClick:l[2]||(l[2]=c(e=>t.value=!0,["stop","prevent"]))},{default:b(()=>[u(s(e.$t("cancelAll")),1)]),_:1},8,["disabled"])):p(y).address&&p(y).chain?(a(),x(C,{key:2,class:"close-position",onClick:l[3]||(l[3]=c(l=>e.$router.push(`/address/${p(y).address}/${p(y).chain}?t=${p(S)}`),["stop"]))},{default:b(()=>[u(s(e.$t("viewAll")),1)]),_:1})):i("",!0)])]),(a(),x(Ve(N[p(S)]),{searchParams:E(p(S))},null,8,["searchParams"])),h(mo,{modelValue:p(k),"onUpdate:modelValue":l[4]||(l[4]=e=>$(k)?k.value=e:null),positions:p(D)},null,8,["modelValue","positions"])])}}}),[["__scopeId","data-v-6799e53a"]]),wo={class:"flex bg-[--main-divider] gap-1px flex min-w-0 w-full",style:{"min-height":"calc(100vh - 92px - 64px)"}},_o={class:"flex-1 max-w-100vw"},ko={class:"flex flex-1"},Po={class:"flex-1 min-w-0"},No={class:"flex gap-1px"},Co={class:"flex-1 hide-scrollbar min-w-0 relative"},Io={class:"relative"},So=I(e({__name:"[[name]]",setup(e){const{isCanNormalWithdrawableAmount:l}=qe(),t=ve(),i=Ne("perpShow1",!0,sessionStorage),s=Ne("perpShow2",!0,sessionStorage),u=v(()=>l.value?"calc(100vh - 110px)":"calc(100vh - 95px)"),d=v(()=>t.commonHeight-160);me();const m=ze(),x=v(()=>{var e;const l=null==(e=m.userInfo)?void 0:e.addresses;return Array.isArray(l)?Array.from(new Set(l.map(e=>e.address))):[]}),y=je(),w=L([]);Ke(pe.KLINE_DATE_FILTER,w);const _=Ne("kHeightPerp",Math.max(Ce.KLINE,500)),k=Ne("orderBookWidth",300);let P=!1;function N(e){e.preventDefault();let l=e.clientX;P=!0;const t=document.getElementById("tv_chart_container");t&&(t.style.pointerEvents="none");const r=document.body.style.cursor,a=document.body.style.userSelect;document.body.style.cursor="col-resize",document.body.style.userSelect="none";let o=!1,n=l;const i=e=>{P&&(n=e.clientX,o||(o=!0,requestAnimationFrame(()=>{const e=n,t=l-e,r=k.value+t;k.value=Math.min(400,Math.max(300,r)),l=e,o=!1})))},s=()=>{P=!1,window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",s),t&&(t.style.pointerEvents="auto"),document.body.style.cursor=r,document.body.style.userSelect=a};return window.addEventListener("mousemove",i),window.addEventListener("mouseup",s,{once:!0}),!1}const I=C(!0);function S(){I.value=!document.hidden||"visible"===document.visibilityState}return Ke("documentVisible",I),F(()=>x.value,()=>{var e;(null==(e=x.value)?void 0:e.length)&&m.subBalanceChange()},{immediate:!0}),Be(()=>{document.addEventListener("visibilitychange",S)}),Ee(()=>{var e;null==(e=null==t?void 0:t.reset)||e.call(t),y.send({jsonrpc:"2.0",method:"unsubscribe",params:["asset"],id:1}),y.send({jsonrpc:"2.0",method:"unsubscribe",params:[Ue.PUBLIC_PORTRAIT],id:1})}),He(()=>{var e;null==(e=y.getWSInstance())||e.offMessage(["tx_update_token","kline","price"]),document.removeEventListener("visibilitychange",S)}),(e,l)=>{const t=T,v=We;return a(),r("div",wo,[o("div",_o,[h(_l),o("div",ko,[o("div",Po,[o("div",No,[o("div",Co,[n(o("div",{class:"absolute bg-[--main-list-hover] w-10px h-32px z-1 cursor-pointer flex items-center justify-center left-100% hover:w-30px hover:h-36px transition-all rounded-tr-4px rounded-br-4px color-[--third-text] hover:color-[--main-text]",onClick:l[0]||(l[0]=e=>i.value=!1)},[h(t,{name:"material-symbols:arrow-forward-ios",class:"text-12px"})],512),[[q,p(i)]]),n(o("div",{class:"absolute bg-[--main-list-hover] w-10px h-32px z-1 cursor-pointer flex items-center justify-center right-0 hover:w-30px hover:h-36px transition-all rounded-tl-4px rounded-bl-4px color-[--third-text] hover:color-[--main-text]",onClick:l[1]||(l[1]=e=>i.value=!0)},[h(t,{name:"material-symbols:arrow-back-ios-new-rounded",class:"text-12px"})],512),[[q,!p(i)]]),h(v,{height:p(u)},{default:b(()=>[o("div",{class:"grid gap-1px last:[:nth-child(2)]:grid-cols-[1fr_1px]",style:O({gridTemplateColumns:p(s)?`1fr 1px ${p(k)}px`:"1fr 1px auto"})},[o("div",Io,[n(o("div",{class:"absolute bg-[--main-list-hover] w-10px h-32px z-11 cursor-pointer flex items-center justify-center left-100% hover:w-30px hover:h-36px transition-all rounded-tr-4px rounded-br-4px color-[--third-text] hover:color-[--main-text]",onClick:l[2]||(l[2]=e=>s.value=!1)},[h(t,{name:"material-symbols:arrow-forward-ios",class:"text-12px"})],512),[[q,p(s)]]),n(o("div",{class:"absolute bg-[--main-list-hover] w-10px h-32px z-11 cursor-pointer flex items-center justify-center right-0 hover:w-30px hover:h-36px transition-all rounded-tl-4px rounded-bl-4px color-[--third-text] hover:color-[--main-text]",onClick:l[3]||(l[3]=e=>s.value=!0)},[h(t,{name:"material-symbols:arrow-back-ios-new-rounded",class:"text-12px"})],512),[[q,!p(s)]]),h($t),h(ia,{ref:"klineContainer"},null,512)]),o("div",{class:"cursor-col-resize bg-[--d-222-l-F2F2F2] hover:bg-[--d-666-l-CCC] flex flex-col items-center justify-center gap-1px w-1px",onMousedown:c(N,["stop","prevent"])},[(a(),r(f,null,g(4,e=>o("span",{key:e,class:"bg-[--d-444-l-999] w-2px h-2px rounded-full"})),64))],32),n(h(to,{"kline-height":p(_)+64},null,8,["kline-height"]),[[q,p(s)]])],4),h(yo,{class:"rounded-4px bg-[--d-000-l-F6F6F6]",style:O({minHeight:p(d)+"px"})},null,8,["style"])]),_:1},8,["height"])])])]),n(h(ta,{class:"w-334px flex-shrink-0"},null,512),[[q,p(i)&&p(s)]])])])])}}}),[["__scopeId","data-v-822823d2"]]);export{So as default};

import{a as _,E as e}from"./BC28JpVo.js";import{E as a}from"./C4ZtUdxm.js";import{o7 as E,n as R,av as l,F as I,aq as t,c as D,o as S,a as T,M as N,b as s,w as A,a5 as n,a6 as o,J as r,E as O,H as i,t as C,d as W,fm as d,K as u,a8 as c,S as L,aa as P,ay as p,ax as F,ac as m,a9 as H,qy as f,aR as G}from"./pxHhHUe5.js";import{E as b,a as v}from"./DlhmlHT6.js";import"./xG3n2otq.js";import"./uG3PizZo.js";import{S as x}from"./EKWuchHU.js";import"./Ss6PgMLe.js";import"./liJ_O3Tw.js";import"./BwPtREp8.js";import"./DU6RBO19.js";const M={0:"NORMAL_DEPOSIT_UNKNOWN",1:"NORMAL_DEPOSIT_PENDING_L1_CREATING",2:"NORMAL_DEPOSIT_PENDING_RISK_CHECKING",3:"NORMAL_DEPOSIT_PENDING_TRADE_PROCESSING",4:"NORMAL_DEPOSIT_SUCCESS_CENSORED",5:"NORMAL_DEPOSIT_SUCCESS_L2_APPROVED",10:"NORMAL_DEPOSIT_FAILED_L1_CANCELD",11:"NORMAL_DEPOSIT_FAILED_L1_FAILURE",12:"NORMAL_DEPOSIT_FAILED_RISK_CHECK_FAILURE",13:"NORMAL_DEPOSIT_FAILED_CENSOR_FAILURE",14:"NORMAL_DEPOSIT_FAILED_L2_REJECTED"},U={0:"CROSS_DEPOSIT_UNKNOWN",1:"CROSS_DEPOSIT_PENDING_L1_CREATING",2:"CROSS_DEPOSIT_PENDING_RISK_CHECKING",3:"CROSS_DEPOSIT_PENDING_TRADE_NOTIFIED",4:"CROSS_DEPOSIT_L2_TRANSFERED",5:"CROSS_DEPOSIT_PENDING_TRADE_CONFIRMED",6:"CROSS_DEPOSIT_SUCCESS",21:"CROSS_DEPOSIT_FAILED_RISK_CHECK_FAILURE",22:"CROSS_DEPOSIT_FAILED_TRANSFER_OUT"},K={0:"NORMAL_WITHDRAW_UNKNOWN",1:"NORMAL_WITHDRAW_PENDING_RISK_CHECKING",2:"NORMAL_WITHDRAW_PENDING_TRADE_PROCESSING",3:"NORMAL_WITHDRAW_PENDING_L2_APPROVING",4:"NORMAL_WITHDRAW_PENDING_L1_CONFIRMING",5:"NORMAL_WITHDRAW_PENDING_L1_WITHDRAWING",6:"NORMAL_WITHDRAW_SUCCESS_L1_COMPLETED",7:"NORMAL_WITHDRAW_FAILED_RISK_CHECK_FAILURE",8:"NORMAL_WITHDRAW_FAILED_CENSOR_FAILURE",9:"NORMAL_WITHDRAW_FAILED_L2_REJECTED"},Y={0:"FAST_WITHDRAW_UNKNOWN",1:"FAST_WITHDRAW_PENDING_RISK_CHECKING",2:"FAST_WITHDRAW_PENDING_L1_TRY",3:"FAST_WITHDRAW_PENDING_CHECKING",4:"FAST_WITHDRAW_PENDING_SUBMIT",5:"FAST_WITHDRAW_PENDING_CHECKING_ACCOUNT",6:"FAST_WITHDRAW_PENDING_CENSORING",7:"FAST_WITHDRAW_PENDING_L1_CONFIRM",8:"FAST_WITHDRAW_PENDING_L1_CONFIRMING",9:"FAST_WITHDRAW_PENDING_CENSORING_CONFIRMING",10:"FAST_WITHDRAW_PENDING_L2_APPROVING",11:"FAST_WITHDRAW_SUCCESS",21:"FAST_WITHDRAW_FAILED_RISK_CHECK_FAILURE",22:"FAST_WITHDRAW_FAILED_L1_TRY_REJECTED",23:"FAST_WITHDRAW_FAILED_TRANSFER_REJECTED",24:"FAST_WITHDRAW_FAILED_CHECKING_ACCOUNT_REJECTED",25:"FAST_WITHDRAW_FAILED_CENSORING",26:"FAST_WITHDRAW_FAILED_L1_CONFIRM_REJECTED",27:"FAST_WITHDRAW_FAILED_L1_REJECTED",28:"FAST_WITHDRAW_FAILED_L2_REJECTED"},h={0:"CROSS_WITHDRAW_UNKNOWN",1:"CROSS_WITHDRAW_PENDING_RISK_CHECKING",2:"CROSS_WITHDRAW_PENDING_CHECKING",3:"CROSS_WITHDRAW_SUCCESS_SUBMIT_CENSOR",4:"CROSS_WITHDRAW_PENDING_CENSOR_CHECKING_ACCOUNT",5:"CROSS_WITHDRAW_PENDING_CENSORING",6:"CROSS_WITHDRAW_PENDING_L2_APPROVING",7:"CROSS_WITHDRAW_PENDING_L1_SUBMIT",8:"CROSS_WITHDRAW_PENDING_L1_CONFIRMING",9:"CROSS_WITHDRAW_SUCCESS",21:"CROSS_WITHDRAW_FAILED_RISK_CHECK_FAILURE",22:"CROSS_WITHDRAW_FAILED_TRANSFER_REJECTED",23:"CROSS_WITHDRAW_FAILED_CENSOR_CHECKING_ACCOUNT_REJECTED",24:"CROSS_WITHDRAW_FAILED_CENSORING",25:"CROSS_WITHDRAW_FAILED_L2_REJECTED",26:"CROSS_WITHDRAW_FAILED_L1_SUBMIT_REJECTED",27:"CROSS_WITHDRAW_FAILED_L1_REJECTED"},y={0:"UNKNOWN_TRANSFER_STATUS",1:"PENDING_CHECKING",2:"PENDING_CENSORING",3:"SUCCESS_CENSOR_SUCCESS",4:"SUCCESS_L2_APPROVED",5:"FAILED_CHECK_INVALID",6:"FAILED_CENSOR_FAILURE",7:"FAILED_L2_REJECT",8:"FAILED_L2_REJECT_APPROVED"},g="ORDER_TYPE_CROSS_DEPOSIT",w="ORDER_TYPE_NORMAL_DEPOSIT",V="ORDER_TYPE_NORMAL_WITHDRAW",J="ORDER_TYPE_CROSS_WITHDRAW",j="ORDER_TYPE_FAST_WITHDRAW",k="ORDER_TYPE_TRANSFER_OUT",z="ORDER_TYPE_TRANSFER_IN";function B(_,e,a=!0){const R=E(),l={UnKnown:R("unKnown1"),Pending:R("confirming"),Success:R("success2"),Failed:R("failed")},I=function(_,e){return _===g&&U[e]||_===w&&M[e]||_===J&&h[e]||_===V&&K[e]||_===j&&Y[e]||(_===k||_===z)&&y[e]||String(e)}(_,e);return I.includes("PENDING")||"CROSS_WITHDRAW_SUCCESS_SUBMIT_CENSOR"===I||"9999"===I?a?l.Pending:" Pending":I.includes("SUCCESS")||"FAST_WITHDRAW_PENDING_CENSORING_CONFIRMING"===I||"FAST_WITHDRAW_PENDING_L2_APPROVING"===I||"CROSS_DEPOSIT_L2_TRANSFERED"===I?a?l.Success:"Success":I.includes("FAILED")?a?l.Failed:"Failed":a?l.UnKnown:"UnKnown"}const $={class:"flex items-center justify-end gap-8px mb-16px"},q={class:"flex items-center gap-4px text-12px"},X=["infinite-scroll-disabled"],Z={class:"text-12px"},Q={key:1},__={key:0,class:"flex items-center gap-4px"},e_={class:"mt-[2px] mb-[5px] py-[10px] text-[12px] text-center color-[--third-text]"},a_={key:0},E_=R({__name:"fundingRecord",setup(E){const{t:R}=l(),M=p([]),U=I({loading:!1,finished:!1,error:!1}),K=I(""),Y=O(()=>({ORDER_TYPE_NORMAL_DEPOSIT:{value:"ORDER_TYPE_NORMAL_DEPOSIT",label:R("normalDeposit")},ORDER_TYPE_CROSS_DEPOSIT:{value:"ORDER_TYPE_CROSS_DEPOSIT",label:R("crossDeposit")},ORDER_TYPE_NORMAL_WITHDRAW:{value:"ORDER_TYPE_NORMAL_WITHDRAW",label:R("normalWithdraw")},ORDER_TYPE_CROSS_WITHDRAW:{value:"ORDER_TYPE_CROSS_WITHDRAW",label:R("crossWithdraw")},ORDER_TYPE_FAST_WITHDRAW:{value:"ORDER_TYPE_FAST_WITHDRAW",label:R("fastWithdraw")},ORDER_TYPE_TRANSFER_OUT:{value:"ORDER_TYPE_TRANSFER_OUT",label:R("internalWithdraw")},ORDER_TYPE_TRANSFER_IN:{value:"ORDER_TYPE_TRANSFER_IN",label:R("internalDeposit")}})),h=I({typeList:"ALL",startTime:t().subtract(7,"d").startOf("day").unix(),endTime:t().endOf("day").unix()}),y=O(()=>[{label:R("all"),value:"ALL"}].concat(Object.values(Y.value)));R("success2");const g=_=>!!h.value.endTime&&t(_).isAfter(t(1e3*Number(h.value.endTime))),w=_=>!!h.value.startTime&&t(_).isBefore(t(1e3*Number(h.value.startTime))),V=async()=>{if(U.value.loading||U.value.finished)return;const _=Object.create(null);Object.keys(h.value).forEach(e=>{const a=h.value[e];a&&"ALL"!==a&&(_[e]=a)}),K.value&&(_.offsetData=K.value);try{U.value.loading=!0;const e=await f(_);let a=e.dataList||[];K.value&&(a=M.value.concat(a)),e.nextPageOffsetData||(U.value.finished=!0),K.value=e.nextPageOffsetData,M.value=a}catch(e){U.value.error=!0,G.error(e.message)}finally{U.value.loading=!1}};V();const J=()=>{K.value="",M.value=[],U.value.finished=!1,U.value.error=!1,U.value.loading=!1,V()};return(E,l)=>{const I=_,O=e,p=a,f=F,G=b,j=P,k=v,z=d;return S(),D(n,null,[T("div",$,[s(O,{modelValue:r(h).typeList,"onUpdate:modelValue":l[0]||(l[0]=_=>r(h).typeList=_),size:"small",class:"[&&]:[--el-select-width:110px]","popper-class":"[--el-font-size-base:12px]","suffix-icon":r(x),persistent:!1,onChange:J},{prefix:A(()=>[T("span",null,C(r(R)("type")),1)]),default:A(()=>[(S(!0),D(n,null,o(r(y),_=>(S(),i(I,{key:_.value,label:_.label,value:_.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","suffix-icon"]),T("div",q,[s(p,{modelValue:r(h).startTime,"onUpdate:modelValue":l[1]||(l[1]=_=>r(h).startTime=_),size:"small","disabled-date":g,class:"[--el-font-size-base:12px] [&&]:[--el-date-editor-width:120px]","range-separator":"To",format:"YYYY-MM-DD",placeholder:r(R)("startTime"),"value-format":"X",teleported:!1,clearable:!1,onChange:J},null,8,["modelValue","placeholder"]),W(" "+C(E.$t("to"))+" ",1),s(p,{modelValue:r(h).endTime,"onUpdate:modelValue":l[2]||(l[2]=_=>r(h).endTime=_),size:"small","disabled-date":w,class:"[--el-font-size-base:12px] [&&]:[--el-date-editor-width:120px]","range-separator":"To",format:"YYYY-MM-DD",placeholder:r(R)("endTime2"),"value-format":"X",teleported:!1,clearable:!1,onChange:J},null,8,["modelValue","placeholder"])])]),N((S(),D("div",{class:"relative min-h-400px bg-[--secondary-bg]","infinite-scroll-delay":200,"infinite-scroll-disabled":r(U).loading||r(U).finished||r(U).error,"infinite-scroll-immediate":!1,"infinite-scroll-distance":300},[s(k,{data:r(M),"header-row-class-name":"text-12px sticky top-0 z-10 font-500","cell-class-name":"color-[--main-text] text-12px"},{empty:A(()=>{var _;return[r(U).loading||0!==(null==(_=r(M))?void 0:_.length)?(S(),D("span",Q)):(S(),i(f,{key:0,class:"pt-[40px]"},{default:A(()=>[T("span",Z,C(E.$t("emptyNoData")),1)]),_:1}))]}),default:A(()=>[s(G,{label:r(R)("tradeTime"),prop:"time"},{default:A(({row:_})=>[W(C(r(t)(1e3*_.time).format("YYYY-MM-DD HH:mm:ss")),1)]),_:1},8,["label"]),s(G,{label:r(R)("type"),prop:"recordType"},{default:A(({row:_})=>{var e;return[W(C(null==(e=r(Y)[_.type])?void 0:e.label),1)]}),_:1},8,["label"]),s(G,{label:r(R)("status"),prop:"status"},{default:A(({row:_})=>[T("span",{class:u("Failed"!==r(B)(_.type,_.status,!1)?"color-[--up-color]":"color-[--down-color]")},C(r(B)(_.type,_.status)||r(R)("failed")),3)]),_:1},8,["label"]),s(G,{label:r(R)("amount"),prop:"amount"},{default:A(({row:_})=>[W(C(("formatNumber"in E?E.formatNumber:r(c))(_.amount)),1)]),_:1},8,["label"]),s(G,{label:r(R)("coin"),prop:"coin"},null,8,["label"]),s(G,{label:r(R)("fee"),prop:"fee"},{default:A(({row:_})=>[_.fee||0===_.fee?(S(),D(n,{key:0},[W("$"+C(("formatNumber"in E?E.formatNumber:r(c))(_.fee)),1)],64)):(S(),D(n,{key:1},[W("--")],64))]),_:1},8,["label"]),s(G,{label:r(R)("chain"),prop:"chain"},null,8,["label"]),s(G,{label:r(R)("counterpartyAccount"),prop:"transferSenderAccountId"},{default:A(({row:_})=>{return[W(C((e=_.transferSenderAccountId,a=_.transferReceiverAccountId,"0"===e&&"0"===a?"--":e||a)),1)];var e,a}),_:1},8,["label"]),s(G,{label:r(R)("tradeId"),prop:"txId"},{default:A(({row:_})=>[_.txId?(S(),D("div",__,[W(C(_.txId.slice(0,4)+"..."+_.txId.slice(-4)),1),s(j,{name:"custom:share1",class:"color-[--third-text] hover:color-[--main-text] cursor-pointer",onClick:e=>function(_,e){const a=m(_,!0);window.open(H(null==a?void 0:a.net_name,e,"tx"),"_blank")}(_.chainId,_.txId)},null,8,["onClick"])])):L("",!0)]),_:1},8,["label"])]),_:1},8,["data"]),T("div",e_,[r(U).loading&&r(K)?(S(),D("span",a_,C(r(R)("loading")),1)):L("",!0)])],8,X)),[[z,V]])],64)}}});export{E_ as default};

import{E as e,a}from"./BgFcDzLH.js";import{n as l,F as t,h3 as o,c as s,o as i,a5 as n,a6 as r,K as d,S as u,am as c,t as m,J as p,_ as v,av as h,a3 as f,a2 as y,D as g,oy as x,aW as k,cg as w,a as b,cR as _,E as C,a8 as S,kb as D,aA as L,bQ as F,qd as N,ay as A,ad as B,qe as E,bC as j,a7 as M,H as $,b as Y,w as W,aP as I,M as z,bS as H,al as V,aa as T,d as P,bV as q,bW as K,L as Z,bZ as O,b_ as U,a9 as G,ae as J}from"./pxHhHUe5.js";import{_ as Q}from"./C-Q6pUnz.js";import{E as R,a as X}from"./DlhmlHT6.js";/* empty css        */import"./xG3n2otq.js";import"./uG3PizZo.js";import"./BQes1VBm.js";import{v as ee}from"./DAl9lCvA.js";import"./DU6RBO19.js";const ae={key:0,class:"prefix"},le={key:0},te={key:1},oe={key:2},se={key:3},ie={key:3,class:"suffix"},ne=l({__name:"columns",props:{col:{},row:{},customKeys:{default:()=>[]}},setup(e){const a=e,l=t(a.col.multiple||[a.col]),v=o();return(e,t)=>(i(!0),s(n,null,r(p(l),(l,t)=>(i(),s("div",{key:l.prop||t,class:d((null==l?void 0:l.customClassName)?"function"==typeof(null==l?void 0:l.customClassName)?null==l?void 0:l.customClassName(a.row):null==l?void 0:l.customClassName:"")},[(null==l?void 0:l.prefix)?(i(),s("span",ae,m("function"==typeof(null==l?void 0:l.prefix)?null==l?void 0:l.prefix(a.row):null==l?void 0:l.prefix),1)):u("",!0),p(v).default&&a.customKeys.indexOf(l.prop)>-1?c(e.$slots,"default",{key:1,row:a.row}):(i(),s(n,{key:2},["--"===a.row[null==l?void 0:l.prop]?(i(),s("span",le,"--")):0===a.row[null==l?void 0:l.prop]?(i(),s("span",te,"0")):(null==l?void 0:l.customFormatter)?(i(),s("span",oe,m("function"==typeof(null==l?void 0:l.customFormatter)?null==l?void 0:l.customFormatter(a.row):null==l?void 0:l.customFormatter),1)):(i(),s("span",se,m(a.row[null==l?void 0:l.prop]),1))],64)),(null==l?void 0:l.suffix)?(i(),s("span",ie,m("function"==typeof(null==l?void 0:l.suffix)?null==l?void 0:l.suffix(a.row):null==l?void 0:l.suffix),1)):u("",!0)],2))),128))}}),re={class:"chart-container"},de=["id"],ue=v({__name:"line",props:{dataList:{type:Array,default:()=>[]},showSeries:{type:Array,default:()=>[]},loading:Boolean,showLeft:Boolean},setup(e){const{t:a}=h(),l=e,{mode:o,lang:n}=f(y()),r=t(`chart-${ee()}`),d=C(()=>[{k:1,color:"#12B886",label:a("add"),value:"addliquidity_total",areaStyle:{opacity:.8,color:new D(0,0,0,1,[{offset:0,color:"#12B886"},{offset:1,color:"#0A0B0D"}])}},{k:2,color:"#F6465D",label:a("remove"),value:"removeliquidity_total",areaStyle:{opacity:.8,color:new D(0,0,0,1,[{offset:0,color:"#F6465D"},{offset:1,color:"#0A0B0D"}])}}]),u=C(()=>l.dataList.map(e=>e.time)),c=C(()=>d.value.map(e=>({name:e.label,symbol:"none",type:"bar",barWidth:"10",z:1,symbol:"none",itemStyle:{color:e.color},lineStyle:{width:2},emphasis:{disabled:!0,focus:"series"},areaStyle:e.areaStyle,data:l.dataList.map(a=>a[e.value])}))),m=()=>{if(!document.getElementById(r.value))return;let e=x(document.getElementById(r.value));e||(e=_(document.getElementById(r.value),null,{renderer:"svg"})),e.hideLoading(),e.showLoading({maskColor:"rgba(255, 255, 255, 0)",text:""});const a={legend:{show:!0,bottom:0,itemWidth:10,itemHeight:10,icon:"circle",textStyle:{color:"var(--third-text)",fontSize:12}},tooltip:{trigger:"axis",backgroundColor:"var(--dialog-bg)",textStyle:{color:"var(--secondary-text)",fontFamily:"Poppins",fontSize:12},padding:[6,8],axisPointer:{label:{show:!1}},borderWidth:0,formatter:function(e){let a=e[0].name+"<br>";return e.forEach(e=>{a+=`<div style="display:flex;align-items:center;"><div style="min-width:60px">${e.marker} ${e.seriesName}</div><span style="color:var(--main-text);flex:1;text-align:right">${S(e.value||0,2)}</span><br></div>`}),a},appendToBody:!0},grid:{left:"20",right:"20",top:"20",bottom:"40",containLabel:!0,tooltip:{axisPointer:{type:"line"}}},xAxis:{type:"category",data:u.value,boundaryGap:["0","20"],splitLine:{show:!1},axisTick:{show:!0},axisLabel:{color:"light"===o.value?"#8ca0c3":"#566275",fontFamily:"Poppins"},nameTextStyle:{fontSize:12},axisLine:{lineStyle:{color:"#1c1c1c"}}},yAxis:{type:"value",position:"right",name:"",nameTextStyle:{fontSize:12},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"light"===o.value?"#8ca0c3":"#566275",fontFamily:"Poppins",formatter:"{value}"},splitLine:{show:!1},min:e=>parseInt(.95*e.min),max:e=>Math.ceil(e.max)},series:c.value};e.setOption(a),l.dataList&&l.dataList.length>0&&e.hideLoading()},v=(e,a)=>{const l=x(document.getElementById(r.value));l&&l.dispatchAction({type:e?"legendSelect":"legendUnSelect",name:d.value[a].label})};return g(()=>l.loading,e=>{const a=x(document.getElementById(r.value));a&&(e?(a.hideLoading(),a.showLoading({maskColor:"rgba(255, 255, 255, 0)",text:""})):a.hideLoading())}),g(()=>l.dataList,()=>{m()}),g(()=>l.showSeries[0],e=>{v(e,0)}),g(()=>l.showSeries[1],e=>{v(e,1)}),g(()=>l.showSeries[2],e=>{v(e,2)}),g(()=>l.showSeries[3],e=>{v(e,3)}),g([o,n],()=>{m()}),g(()=>l.showLeft,e=>{setTimeout(()=>{const e=x(document.getElementById(r.value));e&&e.resize()},100)}),k(()=>{m()}),w(()=>{let e=x(document.getElementById(r.value));e&&(e.dispose(),e=null)}),(e,a)=>(i(),s("div",re,[b("div",{id:p(r),style:{height:"245px",width:"100%"}},null,8,de)]))}},[["__scopeId","data-v-2a88a023"]]),ce={class:"w-lp"},me={class:"w-[100%]"},pe={class:"flex gap-10px items-center ml-12px"},ve={class:"font-400 text-12px lh-16px color-[--third-text]"},he={class:"m-table mt20px"},fe={key:0,class:"flex flex-col items-center justify-center py-30px"},ye={key:0,src:O},ge={key:1,src:U},xe={key:1},ke=["onClick"],we={class:"max-w-140px whitespace-nowrap overflow-hidden text-ellipsis"},be={key:1,class:"flex flex-col"},_e={key:2,class:"flex flex-col"},Ce={key:3,class:"flex flex-col"},Se={key:4,class:"flex flex-col"},De={class:"line-bar"},Le=v(l({__name:"index",props:{pairAddress:{type:String,default:""},token:{type:Object,default:()=>({})},height:{type:Number,default:0}},setup(l){const o=l,{isDark:c,mode:v,showLeft:x}=f(y()),w=L(),_=t([]),D=t([]),{t:O}=h(),U=t({}),ee=A([!0,!0]),ae=t(!1),le=t(!1),te=C(()=>o.height-47-(D.value.length>0||ae.value?465:182)),oe=C(()=>{var e,a,l,t;return[{label:"#",prop:"index",align:"left",width:40},{label:O("provider1"),prop:"mark",align:"left",sortable:!1,minWidth:160,customClassName:()=>{},customFormatter:e=>e.mark?e.mark:(e.address||"").slice(0,2)+"..."+(e.address||"").slice(-4)},{label:O("ratio")+"%",prop:"percent",minWidth:100,align:"right",sortable:!1,customClassName:()=>{}},{label:(null==(e=U.value)?void 0:e.main_token_symbol)?O("amt",{n:null==(a=U.value)?void 0:a.main_token_symbol}):"",prop:"addAmt",align:"right",minWidth:140},{label:(null==(l=U.value)?void 0:l.target_token_symbol)?O("amt",{n:null==(t=U.value)?void 0:t.target_token_symbol}):"",prop:"netAmt",align:"right",minWidth:140},{label:O("value"),prop:"value1",align:"right",minWidth:100,sortable:!1,customClassName:()=>{},customFormatter:e=>`$${S(e.value1,4)}`}]}),se=A(30),ie=A([]),re=C(()=>[{label:O("amount"),prop:"amount",align:"center",sortable:!1,customClassName:()=>{},customFormatter:e=>`${S(e.amount,2)}`},{label:O("lockDate"),prop:"lockDate",align:"center",sortable:!1,customClassName:()=>{},customFormatter:e=>B(e.lockDate,"YYYY-MM-DD")},{label:O("unlockDateStart"),prop:"unlockDate",align:"center",sortable:!1,customClassName:()=>{},customFormatter:e=>B(e.unlockDate,"YYYY-MM-DD")},{label:O("unlockDateEnd"),prop:"unlockDateEnd",align:"center",sortable:!1,customClassName:()=>{},customFormatter:e=>B(e.vesting_end||e.unlockDate,"YYYY-MM-DD")}]);k(()=>{Fe(),Ne()}),F(()=>{}),g(()=>o.pairAddress,e=>{Fe()}),g(()=>o.token,e=>{Ne()});const de=e=>e.index;const Le=C(()=>{var e,a;const l=w.params.id;return l?J(l):{address:(null==(e=o.token)?void 0:e.token)||"",chain:(null==(a=o.token)?void 0:a.chain)||""}});function Fe(){o.pairAddress&&Le.value.chain&&(ae.value=!0,N(o.pairAddress+"-"+Le.value.chain,se.value).then(e=>{var a;D.value=(null==(a=null==e?void 0:e.map(e=>({...e,time:B(new Date(null==e?void 0:e.time).getTime()/1e3,"MM-DD")})))?void 0:a.reverse())||[]}).finally(()=>{ae.value=!1}).catch(e=>{D.value=[]}))}function Ne(){var e,a,l,t;const s=[];le.value=!0,(null==(e=o.token)?void 0:e.token)&&(null==(a=Le.value)?void 0:a.chain)?E(((null==(l=o.token)?void 0:l.token)||"")+"-"+(null==(t=Le.value)?void 0:t.chain)).then(e=>{if((null==e?void 0:e.holders)&&Array.isArray(null==e?void 0:e.holders)){const{holders:a,...l}=e;_.value=e.holders.map((e,a)=>({...e,index:(a+1).toString(),value1:new j(e.target_token_amount_usd).plus(e.main_token_amount_usd).toNumber()})),s.push(..._.value.filter(e=>{var a;return null==(a=null==e?void 0:e.lock)?void 0:a.length}).map(e=>e.index)),U.value=l}else _.value=[],U.value={}}).catch(e=>{_.value=[]}).finally(()=>{le.value=!1}):(_.value=[],U.value={},le.value=!1),ie.value=s}return(l,t)=>{const o=e,h=a,f=T,y=Q,g=R,k=X,w=M("tooltip"),C=H;return i(),s("div",ce,[b("div",me,[b("div",pe,[b("div",ve,m(l.$t("liquidity")),1),Y(h,{modelValue:p(se),"onUpdate:modelValue":t[0]||(t[0]=e=>I(se)?se.value=e:null),class:"m-radio-group [--el-text-color-regular:var(--d-F5F5F5-l-A9B0BC)]",size:"small",fill:"var(--tab-active-bg)","text-color":p(c)?"#F5F5F5":"#000",onChange:Fe},{default:W(()=>[Y(o,{label:"7D",value:7}),Y(o,{label:"1M",value:30})]),_:1},8,["modelValue","text-color"])]),p(D).length>0||p(ae)?(i(),$(ue,{key:0,dataList:p(D),loading:p(ae),showSeries:p(ee),showLeft:p(x)},null,8,["dataList","loading","showSeries","showLeft"])):u("",!0)]),b("div",he,[z((i(),$(k,{data:p(_),style:Z([{width:"100%"},{height:p(te)>=245?`${p(te)}px`:"245px"}]),"expand-row-keys":p(ie),"preserve-expanded-content":"",fit:"","row-key":de,size:"small"},{empty:W(()=>[p(le)?(i(),s("span",xe)):(i(),s("div",fe,["light"===p(v)?(i(),s("img",ye)):u("",!0),"dark"===p(v)?(i(),s("img",ge)):u("",!0),b("span",null,m(p(O)("emptyNoData")),1)]))]),default:W(()=>[(i(!0),s(n,null,r(p(oe),e=>(i(),$(g,{key:e.prop,label:e.label,width:e.width,prop:e.prop,"min-width":e.minWidth,align:e.align},{default:W(({row:a})=>[Y(ne,{row:a,col:e,customKeys:["mark","addAmt","netAmt","txns","percent"]},{default:W(()=>{return["mark"==e.prop?(i(),s("div",{key:0,class:"flex-start gap-2px cursor-pointer",onClick:V(e=>function(e){var a;window.open(G((null==(a=Le.value)?void 0:a.chain)||"",e.address||"","address"),"_blank")}(a),["stop"])},[(o=a,o.lock||/lock|null|(black hole)/gi.test(o.mark||"")?(i(),$(f,{key:0,color:"#B3920E",name:"material-symbols:lock"})):u("",!0)),1==a.is_contract?(i(),$(f,{key:1,name:"iconamoon:file-document-thin"})):u("",!0),1===Number(null==a?void 0:a.analysis_show_creator)?(i(),$(y,{key:2},{default:W(()=>[P(m(l.$t("contractCreator")),1)]),_:1})):u("",!0),z((i(),s("div",we,[P(m(e.customFormatter?e.customFormatter(a):a[e.prop]),1)])),[[w,(null==a?void 0:a.mark)||(null==a?void 0:a.address)]])],8,ke)):"addAmt"==e.prop?(i(),s("div",be,[b("span",null,m(("formatNumber"in l?l.formatNumber:p(S))(a.main_token_amount,1)),1)])):"netAmt"==e.prop?(i(),s("div",_e,[b("span",null,m(("formatNumber"in l?l.formatNumber:p(S))(a.target_token_amount,1)),1)])):"txns"==e.prop?(i(),s("div",Ce,[b("div",{class:d(`color-${p(q)[0]} flex-start`)},[t[1]||(t[1]=b("img",{src:"data:image/svg+xml,%3csvg%20width='12'%20height='13'%20viewBox='0%200%2012%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20opacity='0.103723'%20y='0.5'%20width='12'%20height='12'%20rx='2'%20fill='%2312B886'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M9%206.5C9%206.79224%208.76282%207.02941%208.47059%207.02941H6.52941V8.97059C6.52941%209.26282%206.29224%209.5%206%209.5C5.70776%209.5%205.47059%209.26282%205.47059%208.97059V7.02941H3.52941C3.23718%207.02941%203%206.79224%203%206.5C3%206.20776%203.23718%205.97059%203.52941%205.97059H5.47059V4.02941C5.47059%203.73718%205.70776%203.5%206%203.5C6.29224%203.5%206.52941%203.73718%206.52941%204.02941V5.97059H8.47059C8.76282%205.97059%209%206.20776%209%206.5Z'%20fill='%2312B886'/%3e%3c/svg%3e",alt:"",class:"h-12px w-12px mr-4px mt-2px"},null,-1)),P(" "+m(a.add_total),1)],2),b("div",{class:d(`color-${p(K)[0]} flex-start`)},[t[2]||(t[2]=b("img",{src:"data:image/svg+xml,%3csvg%20width='12'%20height='12'%20viewBox='0%200%2012%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20opacity='0.103723'%20width='12'%20height='12'%20rx='2'%20fill='%23F6465D'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M9%206.5C9%206.776%208.76282%207%208.47059%207H3.52941C3.23718%207%203%206.776%203%206.5C3%206.224%203.23718%206%203.52941%206H8.47059C8.76282%206%209%206.224%209%206.5Z'%20fill='%23F6465D'/%3e%3c/svg%3e",alt:"",class:"h-12px w-12px mr-4px mt-2px"},null,-1)),P(" "+m(a.remove_total),1)],2)])):"percent"==e.prop?(i(),s("div",Se,[b("div",null,m(("formatNumber"in l?l.formatNumber:p(S))(a.percent,1))+"%",1),b("div",De,[b("span",{style:Z({width:a.percent+"%"})},null,4)])])):u("",!0)];var o}),_:2},1032,["row","col"])]),_:2},1032,["label","width","prop","min-width","align"]))),128)),Y(g,{type:"expand"},{default:W(({row:e})=>[(null==e?void 0:e.lock)&&(null==e?void 0:e.lock.length)?(i(),$(k,{key:0,data:null==e?void 0:e.lock,style:{width:"100%"}},{default:W(()=>[(i(!0),s(n,null,r(p(re),e=>(i(),$(g,{key:e.prop,label:e.label,prop:e.prop,align:e.align},{default:W(({row:a})=>[Y(ne,{row:a,col:e},null,8,["row","col"])]),_:2},1032,["label","prop","align"]))),128))]),_:1},8,["data"])):u("",!0)]),_:1})]),_:1},8,["data","expand-row-keys","style"])),[[C,p(le)]])])])}}}),[["__scopeId","data-v-2e1a490a"]]);export{Le as default};

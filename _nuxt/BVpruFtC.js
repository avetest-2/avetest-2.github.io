import{n as e,av as l,a3 as a,bP as t,a2 as o,F as r,H as s,o as i,aQ as n,w as d,M as u,bS as p,J as m,bp as c,al as v,E as _,b as h,bq as g,a as f,t as x,qz as y,c as k,a5 as b,a6 as w,aT as $,T as V,d as C,fD as T,ac as j,cW as N,_ as A,ai as z,ak as F,at as B,aW as S,D as R,oR as E,c6 as H,aR as q,c8 as U,c9 as W,ca as L,cb as K,S as P,aP as D,aa as M,L as O,bY as G,aw as I,bT as Y,gC as J,c7 as X,aY as Q,aX as Z,K as ee,cc as le,bE as ae,G as te,qA as oe,cd as re,qB as se,oB as ie,bX as ne,bC as de,a7 as ue,cN as pe,aL as me,aM as ce,aq as ve,ad as _e,ax as he,I as ge,cS as fe}from"./pxHhHUe5.js";import{_ as xe}from"./C-Q6pUnz.js";import{_ as ye}from"./DfqZGjWd.js";import{_ as ke}from"./pRNFjbOD.js";import{E as be,a as we}from"./CQ3Cm5RL.js";import{b as $e,Q as Ve,_ as Ce}from"./BkbEpA73.js";import{E as Te,a as je}from"./BC28JpVo.js";import"./xG3n2otq.js";import"./uG3PizZo.js";import{S as Ne}from"./EKWuchHU.js";import{t as Ae}from"./Ca4NtERO.js";import{E as ze}from"./B3CwgMQF.js";import{u as Fe}from"./DQmdIPac.js";import"./QBsq1rEg.js";import"./Brqh9oRf.js";import"./CAY6cvuw.js";import"./3zf6s2PU.js";import"./DU6RBO19.js";import"./Ss6PgMLe.js";import"./Bd4n395U.js";import"./X1MX9tB7.js";import"./DrRY09yo.js";import"./BgFcDzLH.js";import"./D5SrGyNL.js";import"./oM4-4KJQ.js";import"./CJr2h2LL.js";import"./BwPtREp8.js";import"./b94L9vb_.js";import"./CU9NKK_R.js";import"./DaNJHyoY.js";import"./AeiRVpKC.js";import"./mY5Y9jID.js";import"./DlhmlHT6.js";import"./Cx8PcgYp.js";import"./BeXmGP7f.js";import"./Dkz-6Ico.js";import"./CthYtH4c.js";import"./B-rSTJlV.js";/* empty css        */import"./B2dydDoX.js";import"./0bIh-WbU.js";import"./DA_jZJeZ.js";const Be={class:"flex justify-between items-center w-100%"},Se={class:"font-500 text-12px lh-[120%] color-[--main-text]"},Re={class:"h-12px inline-flex items-center"},Ee=["src"],He=["src"],qe={class:"flex-between w-100%"},Ue=A(e({__name:"addFavAddressPop",props:{width:{type:String,default:"248"},formData:{type:Object,required:!1,default:()=>({group_id:0,user_chain:{label:"SOL",value:"solana",id:"solana"}})},buttonRef:{type:Object,required:!0},title:{type:String,default:""}},emits:["onConfirm","onCancel"],setup(e,{expose:A,emit:z}){const{t:F}=l(),B=e,S=z,R=r(),{addressGroups:E}=a(t()),{lang:H,token_logo_url:q}=a(o()),U=r(),W=r({...B.formData}),L=r(!1),K=r(!1),P=r(""),D=(e,l,a)=>{var t;""===l?a(new Error(F("cannotBeEmpty"))):N(l,null==(t=W.value.user_chain)?void 0:t.id)?a():a(new Error(F("pleaseEnterCorrectAddress")))},M=(e,l,a)=>{var t;W.value.address&&(null==(t=U.value)||t.validateField("address")),a()},O=_(()=>({user_chain:[{validator:M,trigger:"change"}],address:[{required:!0,message:"zh-cn"==H.value||"zh-tw"==H.value?`${F("watchAddress")}${F("cannotBeEmpty")}`:`${F("watchAddress")} ${F("cannotBeEmpty")}`,trigger:["blur"]},{validator:D,trigger:"blur"}],group:[{required:!0,message:"zh-cn"==H.value||"zh-tw"==H.value?`${F("walletGroup")}${F("cannotBeEmpty")}`:`${F("walletGroup")} ${F("cannotBeEmpty")}`,trigger:["blur","change"]}],remark:[{required:!0,message:"zh-cn"==H.value||"zh-tw"==H.value?`${F("remark")}${F("cannotBeEmpty")}`:`${F("remark")} ${F("cannotBeEmpty")}`,trigger:"blur"},{pattern:/^(?!.*[!@#$%^&*(),.?":{}|<>])(.{2,50})$/,message:F("remarkError"),trigger:["blur"]}]})),G=_(()=>T.map(e=>{const l=j(e);return{label:"solana"===e?"SOL":l.net_name.toUpperCase(),value:l.chain_id,id:l.net_name}}));function I(){K.value=!1}function Y(){var e;S("onCancel"),null==(e=U.value)||e.resetFields(),X()}function J(){L.value=!1,P.value="",W.value={...B.formData}}function X(){var e,l;null==(l=null==(e=m(R))?void 0:e.hide)||l.call(e)}return A({close:X}),(e,l)=>{const a=je,t=Te,o=g,r=$,_=V,T=c,j=n,N=p;return i(),s(j,{ref_key:"popoverRef",ref:R,width:null==B?void 0:B.width,trigger:"click",placement:"bottom","virtual-ref":B.buttonRef,"virtual-triggering":"",title:null==B?void 0:B.title,persistent:!1,"popper-style":"--el-popover-title-font-size:14px;--el-popover-title-text-color:var(--main-text)",onBeforeLeave:J},{default:d(()=>[u((i(),s(T,{ref_key:"formRef",ref:U,model:m(W),rules:m(O),onSubmit:l[4]||(l[4]=v(e=>{var l;(l=m(U))&&l.validate((e,l)=>{var a;e&&(K.value=!0,S("onConfirm",W.value,null==(a=U.value)?void 0:a.resetFields,I))})},["prevent","stop"]))},{default:d(()=>[h(o,{prop:"user_chain",required:"","label-position":"top",size:"large",class:"mb-13px!"},{default:d(()=>[f("div",Be,[f("h4",Se,x(e.$t("addWallet")),1),h(t,{modelValue:m(W).user_chain,"onUpdate:modelValue":l[0]||(l[0]=e=>m(W).user_chain=e),placeholder:m(F)("placeholderPrefix1")+m(F)("chain"),"value-key":"value",size:"small",style:{"--el-fill-color-blank":"var(--border)"},"suffix-icon":m(y),class:"w-70px!",teleported:!1,"popper-class":"w-103px",persistent:!1},{prefix:d(()=>{var e;return[f("div",Re,[f("img",{src:`${m(q)}chain/${null==(e=m(W).user_chain)?void 0:e.id}.png`,class:"rd-50%",width:"12",lazy:"",alt:""},null,8,Ee)])]}),default:d(()=>[(i(!0),k(b,null,w(m(G),e=>(i(),s(a,{key:e.value,label:e.label,value:e,class:"h-26px! flex! items-center! font-500! text-14px! lh-none!"},{default:d(()=>[f("img",{src:`${m(q)}chain/${null==e?void 0:e.id}.png`,class:"rd-50% mr-4px",width:"16",lazy:"",alt:""},null,8,He),f("span",null,x(e.label),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue","placeholder","suffix-icon"])])]),_:1}),h(o,{prop:"address",required:"","label-position":"top",size:"large",class:"mb-20px!"},{default:d(()=>[h(r,{modelValue:m(W).address,"onUpdate:modelValue":l[1]||(l[1]=e=>m(W).address=e),placeholder:m(F)("placeholderPrefix")+m(F)("walletAddress")},null,8,["modelValue","placeholder"])]),_:1}),h(o,{prop:"remark",required:"","label-position":"top",size:"large",class:"mb-20px!"},{default:d(()=>[h(r,{modelValue:m(W).remark,"onUpdate:modelValue":l[2]||(l[2]=e=>m(W).remark=e),placeholder:m(F)("placeholderPrefix")+m(F)("remark")},null,8,["modelValue","placeholder"])]),_:1}),h(o,{prop:"group_id",required:"","label-position":"top",size:"large",class:"mb-20px!"},{default:d(()=>[h(t,{modelValue:m(W).group_id,"onUpdate:modelValue":l[3]||(l[3]=e=>m(W).group_id=e),placeholder:m(F)("placeholderPrefix1")+m(F)("addrGroup"),teleported:!1,style:{"--el-fill-color-blank":"var(--border)"},persistent:!1},{default:d(()=>[(i(),s(a,{key:0,value:0,label:e.$t("defaultGroup")},null,8,["label"])),(i(!0),k(b,null,w(m(E),e=>(i(),s(a,{key:e.group_id,label:e.name,value:e.group_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1}),h(o,{class:"mb-0px!"},{default:d(()=>[f("div",qe,[h(_,{class:"flex-1",onClick:v(Y,["stop","prevent"])},{default:d(()=>[C(x(e.$t("cancel")),1)]),_:1}),h(_,{type:"primary",class:"flex-1","native-type":"submit"},{default:d(()=>[C(x(e.$t("confirm")),1)]),_:1})])]),_:1})]),_:1},8,["model","rules"])),[[N,m(K)]])]),_:1},8,["width","virtual-ref","title"])}}}),[["__scopeId","data-v-dcc9a884"]]),We={class:"flex justify-between items-center gap-8px h-54px"},Le={class:"text-12px m-table","element-loading-background":"transparent"},Ke=["onClick"],Pe=["src"],De={class:"text-12px"},Me=["onClick"],Oe={key:2,class:"overflow-hidden whitespace-nowrap max-w-0 group-hover:max-w-[100px] transition-all duration-500 ease-in-out"},Ge={key:1,class:"flex items-center mr-4px cursor-not-allowed"},Ie=A(e({__name:"walletManage",props:{scrollHeight:{type:Number,default:500},isLarge:{type:Boolean,default:!1}},setup(e){const{t:c}=l(),g=z(),y=e,{mode:$,isDark:N,token_logo_url:A}=a(o()),Q=_(()=>[{label:c("allChain"),value:"AllChains",id:"allChains"},...T.map(e=>{const l=j(e);return{label:"solana"===e?"SOL":l.net_name.toUpperCase(),value:l.net_name,id:l.net_name}})]),Z=r(!1),ee=r(),le=r(),{selectGroupId:ae,paginationParams:te,user_chain:oe,monitorList1:re}=a($e()),{currentAddress:se,showBatchAddressDetails:ie,updateNum1:ne,updateNum2:de,updateNum3:ue,addressGroups:pe}=a(t()),me=F({group:ae.value,activeTab:"7d",isMonitor:!1,user_chain:oe.value,sort:"",sort_dir:"",keyword:"",last_tx_time_max:"",last_tx_time_min:"",last_trade_time:""}),ce=B(),ve=r(!1),_e=r(!1),he=_(()=>te.value.loaded?c("loading"):te.value.finished?c("noMore"):"");function ge(e,l,a){var t;J({address:ce.evmAddress,user_chain:null==(t=null==e?void 0:e.user_chain)?void 0:t.id,user_address:e.address,remark:e.remark,group:e.group_id,is_monitored:0}).then(()=>{var e,t;null==l||l(),null==a||a(),null==(t=null==(e=le.value)?void 0:e.close)||t.call(e),te.value={...E,pageSize:50},be(),de.value++}).catch(e=>{})}S(()=>{ce.evmAddress&&(re.value.length>0||be())}),R(()=>ne.value+ue.value,()=>{te.value={...E,pageSize:50},be()});const fe=Ae(e=>{H({address:se.value,user_chain:e.chain,user_address:e.user_address}).then(()=>{q.success(c("success")),be(),de.value++}).catch(e=>{q.error(String(e))})},1e3),xe=Ae((e,l=0)=>{if(1===e.is_monitored){const{id:a,user_address:t}=e;return void(1===e.is_pause?U:W)({uid:a,address:t}).then(()=>{re.value[l].is_monitored=0===e.is_monitored?1:0,be(),de.value++,q.success(c("success"))}).catch(e=>{q.error(String(e))})}{const{user_address:a,user_chain:t}=e;L({address:a,chain:t,user_address:ce.evmAddress}).then(()=>{re.value[l].is_monitored=0===e.is_monitored?1:0,be(),q.success(c("success")),de.value++}).catch(e=>{q.error(String(e))})}},1e3);function ye(e){_e.value=e<=20,e<=20&&!te.value.loaded&&!te.value.finished&&be()}R([()=>me],()=>{te.value={...E,pageSize:50},be()},{deep:!0});const be=Ae(function(){if(1===te.value.pageNO&&(ve.value=!0),te.value.loaded)return;te.value.loaded=!0;const e=te.value.pageNO,l=te.value.pageSize;K({...me,pageNO:e,pageSize:l}).then(a=>{var t,o;const r=(null==a?void 0:a.data)||[];Array.isArray(r)&&(null==r?void 0:r.length)>0?(1===e?(re.value=r.map(e=>({...e,index:`${e.user_address}-${e.user_chain}`,group_id:me.group})),ve.value=!1):re.value=[...re.value].concat(null==(o=null==(t=r.filter)?void 0:t.call(r,e=>{var l,a;return null==(a=null==(l=re.value)?void 0:l.every)?void 0:a.call(l,l=>l.index!==`${e.user_address}-${e.user_chain}`)}))?void 0:o.map(e=>({...e,index:`${e.user_address}-${e.user_chain}`,group_id:me.group}))),te.value.finished=(null==r?void 0:r.length)<l,te.value.finished||te.value.pageNO++):(1===e&&(re.value=[]),te.value.finished=!0)}).finally(()=>{setTimeout(()=>{ve.value=!1,te.value.loaded=!1,_e.value=!1},200)})},500);const we=_(()=>[{title:c("wallet"),dataKey:"wallet",key:"wallet",align:"left",minWidth:125},{title:c("addrGroup"),dataKey:"group",key:"group",minWidth:90,align:"right"},{title:c("chain"),dataKey:"chain",key:"chain",align:"right",minWidth:55},{title:c("operate"),dataKey:"operate",key:"operate",align:"right",minWidth:40}]);return(e,l)=>{const a=je,t=Te,o=M,r=V,_=I,T=Y,N=n,z=ke,F=Ue,B=p;return i(),k("div",null,[f("div",We,[h(t,{modelValue:m(ae),"onUpdate:modelValue":l[0]||(l[0]=e=>D(ae)?ae.value=e:null),style:{"--el-fill-color-blank":"var(--dialog-list-hover)"},persistent:!1,mode:m($),onClick:l[1]||(l[1]=v(()=>{},["stop"])),onChange:l[2]||(l[2]=e=>function(e){me.group=e}(e))},{default:d(()=>[(i(),s(a,{key:0,value:0,label:e.$t("defaultGroup"),class:"[&&]:h-20px [&&]:lh-20px [&&]:text-12px"},null,8,["label"])),(i(!0),k(b,null,w(m(pe),e=>(i(),s(a,{key:e.group_id,label:e.name,value:e.group_id,class:"[&&]:h-20px [&&]:lh-20px [&&]:text-12px"},null,8,["label","value"]))),128))]),_:1},8,["modelValue","mode"]),h(r,{ref_key:"addButtonRef",ref:ee,class:"dialog-button",style:{height:"32px",padding:"8px 10px !important","font-size":"12px"}},{default:d(()=>[h(o,{name:"ic:baseline-person-add-alt-1",class:"text-12px mr-5px"}),C(" "+x(e.$t("addWallet")),1)]),_:1},512),h(r,{class:"dialog-button",style:{height:"32px",padding:"8px 10px !important","margin-left":"0px","font-size":"12px"},onClick:l[3]||(l[3]=v(e=>ie.value=!0,["stop","prevent"]))},{default:d(()=>[h(o,{name:"mingcute:new-folder-fill",class:"text-12px mr-5px"}),C(" "+x(e.$t("bulkImport")),1)]),_:1})]),u((i(),k("div",Le,[h(z,{ref:"aveTableRef",rowKey:"index",fixed:"",data:m(re),showFooter:m(_e),footText:m(he),columns:m(we),headerHeight:36,rowHeight:40,headerClass:"bg-transparent",style:O({height:y.scrollHeight-50+"px","--el-table-bg-color":"transparent",overflow:"visible",paddingBottom:m(_e)?"20px":"0px"}),"row-class":"cursor-pointer group",rowEventHandlers:{onClick:({rowData:e})=>{return l=e,void g.push({path:`/address/${l.user_address}/${l.user_chain}`});var l}},onEndReached:ye},{"header-wallet":d(()=>[f("span",null,x(e.$t("wallet")),1)]),"cell-wallet":d(({row:e})=>[(i(),s(_,{key:e.user_address+e.user_chain,class:"mr-10px",wallet_logo:e.wallet_logo,address:e.user_address,chain:e.user_chain,iconSize:"24px"},null,8,["wallet_logo","address","chain"])),f("div",null,[(i(),s(T,{key:e.user_address+e.user_chain,remark:e.remark,address:e.user_address,chain:e.user_chain,addressClass:"token-symbol ellipsis",addressStyle:"max-width: 60px;font-size: 14px;color:var(--main-text)",iconEditColor:"var(--third-text)",iconEditSize:"10px",showAddressTitle:""},null,8,["remark","address","chain"]))])]),"header-group":d(()=>[f("span",null,x(e.$t("group")),1)]),"cell-group":d(({row:o})=>[h(t,{modelValue:o.group_id,"onUpdate:modelValue":e=>o.group_id=e,size:"small","suffix-icon":Ne,persistent:!1,filterable:"","popper-class":"w-addrGroup",class:"[&&]:[--el-text-color-regular:--main-text] [&&]:[--el-fill-color-blank:--dialog-list-hover]",onClick:l[4]||(l[4]=v(()=>{},["stop"])),onChange:e=>(async(e,l)=>{te.value={...E,pageSize:50},await X({user_chain:l.user_chain,user_address:l.user_address,group:e}),de.value++,be()})(e,o)},{default:d(()=>[(i(),s(a,{key:0,value:0,label:e.$t("defaultGroup"),filterable:"",class:"[&&]:h-20px [&&]:lh-20px [&&]:text-12px"},null,8,["label"])),(i(!0),k(b,null,w(m(pe),e=>(i(),s(a,{key:e.group_id,label:e.name,value:e.group_id,class:"[&&]:h-20px [&&]:lh-20px [&&]:text-12px"},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","onChange"])]),"header-chain":d(()=>[f("span",null,x(e.$t("chain")),1),h(N,{visible:m(Z),"onUpdate:visible":l[5]||(l[5]=e=>D(Z)?Z.value=e:null),"popper-style":"width: 133px;min-width: 133px;",trigger:"click"},{reference:d(()=>[h(o,{id:"custom-filter",name:"custom:filter",style:O({color:"AllChains"!==m(me).user_chain?"var(--secondary-text)":"var(--third-text)"}),class:"text-10px cursor-pointer ml-2px"},null,8,["style"])]),default:d(()=>[f("ul",null,[(i(!0),k(b,null,w(m(Q),e=>(i(),k("li",{key:e.value,class:"rounded-2px hover:bg-[--dialog-list-hover] h-26px! flex! items-center! font-500! text-14px! lh-20px! clickable px-8px py-5px",onClick:v(l=>{m(me).user_chain=e.value,oe.value=e.value,Z.value=!1},["stop"])},["AllChains"==e.value?(i(),s(o,{key:0,name:"icon-park-outline:link-one",class:"text-15px mr-4px rd-50%"})):(i(),k("img",{key:1,src:`${m(A)}chain/${null==e?void 0:e.id}.png`,class:"rd-50% mr-4px",width:"16",lazy:"",alt:""},null,8,Pe)),f("span",null,x(e.label),1)],8,Ke))),128))])]),_:1},8,["visible"])]),"cell-chain":d(({row:l})=>[f("span",De,x(("getChainInfo"in e?e.getChainInfo:m(j))(l.user_chain).name),1)]),"header-operate":d(()=>[f("span",null,x(e.$t("operate")),1)]),"cell-operate":d(({row:a,rowIndex:t})=>[f("div",{class:"flex justify-end items-center",onClick:l[6]||(l[6]=v(()=>{},["stop"]))},[("SupportMonitorChain"in e?e.SupportMonitorChain:m(G)).includes(null==a?void 0:a.user_chain)?(i(),k("div",{key:0,class:"flex items-center mr-4px cursor-pointer color-[--third-text]",onClick:v(e=>m(xe)(a,t),["stop","prevent"])},[1===(null==a?void 0:a.is_monitored)?(i(),s(o,{key:0,name:"custom:monitor2-icon",class:"text-12px mr-2px color-[--third-text] group-hover:color-[--primary-color]"})):(i(),s(o,{key:1,name:"custom:monitor-icon",class:"text-14px mr-2px color-[--third-text] group-hover:color-[--primary-color]"})),y.isLarge?(i(),k("span",Oe,x(1===(null==a?void 0:a.is_monitored)?m(c)("pause"):m(c)("enable")),1)):P("",!0)],8,Me)):(i(),k("div",Ge,[h(o,{name:"custom:monitor-icon",class:"text-14px mr-2px color-[var(--d-666-l-CCC)]"})])),h(o,{name:"bx:bxs-trash-alt",class:"text-13px color-[--third-text]",onClick:v(e=>m(fe)(a),["stop","prevent"])},null,8,["onClick"])])]),_:1},8,["data","showFooter","footText","columns","style","rowEventHandlers"])])),[[B,m(ve)]]),m(ee)?(i(),s(F,{key:0,ref_key:"addFavAddressPopRef",ref:le,buttonRef:m(ee),onOnConfirm:ge},null,8,["buttonRef"])):P("",!0)])}}}),[["__scopeId","data-v-07f5b21c"]]),Ye=e({__name:"checkboxGroup",props:{modelValue:{type:Array,default:()=>[]},options:{type:Array,default:()=>[]},inline:{type:Boolean,default:!1},all:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const a=e,t=_({get:()=>a.modelValue,set:e=>o("update:modelValue",e)}),o=l,n=r(!1),u=r(!0),p=e=>{t.value=e?a.options.map(e=>e.value):[],u.value=!1},c=e=>{if(!a.all)return;const l=e.length;n.value=l===a.options.length,u.value=l>0&&l<a.options.length};return(e,l)=>{const o=Q,r=Z;return i(),k(b,null,[a.options.length&&a.all?(i(),s(o,{key:0,modelValue:m(n),"onUpdate:modelValue":l[0]||(l[0]=e=>D(n)?n.value=e:null),indeterminate:m(u),disabled:m(n),onChange:p},{default:d(()=>[C(x(e.$t("all")),1)]),_:1},8,["modelValue","indeterminate","disabled"])):P("",!0),h(r,{modelValue:m(t),"onUpdate:modelValue":l[1]||(l[1]=e=>D(t)?t.value=e:null),min:1,class:ee([a.inline?"flex flex-row":"flex flex-col"]),onChange:c},{default:d(()=>[(i(!0),k(b,null,w(a.options,e=>(i(),s(o,{key:e.value,label:e.label,value:e.value},{default:d(()=>[C(x(e.label),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue","class"])],64)}}}),Je=e({__name:"filterType",props:{modelValue:{type:Array,default:()=>[]},options:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(e,{emit:l}){const a=e,t=_({get:()=>a.modelValue,set:e=>o("update:modelValue",e)}),o=l;return(e,l)=>{const o=M,r=Ye,n=ze;return i(),s(n,{persistent:!1,trigger:"click","popper-class":"w-filterType"},{dropdown:d(()=>[h(r,{modelValue:m(t),"onUpdate:modelValue":l[0]||(l[0]=e=>D(t)?t.value=e:null),options:a.options},null,8,["modelValue","options"])]),default:d(()=>[h(o,{id:"custom-filter",name:"custom:filter",class:"text-12px cursor-pointer color-[--secondary-text]"})]),_:1})}}}),Xe={key:0,class:"text-12px m-table","element-loading-background":"transparent"},Qe={key:0},Ze={class:"color-#FFA622 text-12px"},el={key:2,class:"text-12px"},ll={key:0,src:"https://www.iconaves.com/signals/pump_king.png",style:{width:"12px",height:"12px"}},al={key:1,class:"text-12px m-table","element-loading-background":"transparent"},tl={class:"flex-between w-100%"},ol={class:"flex-start gap-8px"},rl={class:"flex flex-col w-100% gap-8px"},sl={class:"flex-between"},il={key:0},nl={class:"color-#FFA622 text-12px"},dl={key:2,class:"text-12px"},ul={class:"flex-between"},pl={class:"flex-start gap-4px"},ml={class:"color-[--third-text]"},cl={class:"color-[--main-text]"},vl={key:0,src:"https://www.iconaves.com/signals/pump_king.png",style:{width:"12px",height:"12px"}},_l={class:"flex-end gap-4px"},hl={class:"color-[--third-text]"},gl={class:"color-[--main-text]"},fl={class:"text-12px mt-10px"},xl={class:"text-12px mt-10px color-[--third-text]"},yl={class:"m-op flex-end gap-8px w-100% h-100%"},kl=A(e({__name:"index",props:{scrollHeight:{type:Number,default:0},isLarge:{type:Boolean,default:!1}},setup(e){const{t:n}=l(),{hasRing:c,monitorList2:g,visible:y,activeName:w,txType:$,isLeftFixed:T,isRightFixed:j}=a($e()),{updateNum3:N}=a(t()),{isDark:A,audioSettings:z}=a(o()),F=e,E=r([]),H=r(!1),q=B(),U=le(),W=r(null),L=r(!0),K=r(),G=r(),I=r(!1),X=r(),Q=ae("quickBuyValue","0.01"),Z=_(()=>[{label:n("buy"),value:0},{label:n("sell"),value:1}]),Te=_(()=>({scrollHeight:F.scrollHeight}));function je(e){1===e&&Se()}function Ne(e,l,a){var t;J({address:q.evmAddress,user_chain:null==(t=null==e?void 0:e.user_chain)?void 0:t.id,user_address:null==e?void 0:e.address,remark:null==e?void 0:e.remark,group:null==e?void 0:e.group_id,is_monitored:0}).then(()=>{var e,t;null==l||l(),null==a||a(),null==(t=null==(e=X.value)?void 0:e.close)||t.call(e),N.value++}).catch(e=>{})}S(async()=>{te(()=>{}),Re()}),Fe(()=>{q.bot_subscribe(),y.value&&0===w.value&&Se()}),R(()=>$.value,e=>{const l=[];e.includes(0)&&l.push("buy"),e.includes(1)&&l.push("sell"),oe(l).then(()=>{Ee()})}),R(()=>y.value,e=>{e&&0===w.value&&(Se(),te(()=>{!L.value&&W.value&&W.value.scrollToTop(0),L.value=!1}))});const ze=_(()=>F.isLarge?[{title:n("wallet"),dataKey:"wallet",key:"wallet",align:"left",minWidth:125},{title:n("type"),dataKey:"type",key:"type",minWidth:110,align:"right"},{title:n("value"),dataKey:"amount",key:"amount",align:"right",minWidth:80},{title:n("token"),dataKey:"symbol",key:"symbol",align:"right",minWidth:150},{title:n("mcap"),dataKey:"mc",key:"mc",align:"right",minWidth:70},{title:n("time"),dataKey:"time",key:"time",align:"right",minWidth:40},{title:"",dataKey:"operate",key:"operate",align:"right",minWidth:100}]:[{title:n("wallet"),dataKey:"wallet",key:"wallet",align:"left",minWidth:240}]);R(()=>U.wsResult[re.MONITOR],e=>{Be(e),y.value&&0===w.value&&Se()});const Be=e=>{var l,a,t,o,r;if((null==e?void 0:e.length)>0){const s=(null==g?void 0:g.value)||[],i=[...(null==(t=null==(a=null==(l=null==e?void 0:e.filter)?void 0:l.call(e,e=>!s.some(l=>l.id===e.id)))?void 0:a.map)?void 0:t.call(a,e=>({...e,...We(e)})))||[],...s];i.length>200&&(null==(o=null==i?void 0:i.splice)||o.call(i,100)),g.value.splice(0,null==(r=g.value)?void 0:r.length,...i)}},Se=Ae(function(){var e;y.value&&0===w.value&&E.value.splice(0,null==(e=E.value)?void 0:e.length,...g.value)},500);function Re(){Ee()}function Ee(){if(!q.evmAddress)return;H.value=!0;let e="";$.value.length!==Z.value.length&&(e=$.value.join(",")),se(e?{filtered_type:e}:{}).then(e=>{var l;let a=e||(null==e?void 0:e.data)||[];const t=[],o={};a=Array.isArray(a)?a:[],null==(l=null==a?void 0:a.forEach)||l.call(a,e=>{const l=JSON.parse(e.msg_content);o[l.id]||(t.push({...l,...We(l)}),o[l.id]=!0)}),g.value=t.filter(e=>$.value.includes(e.tx_type)),Se()}).catch(e=>{}).finally(()=>{H.value=!1})}function He(e){return void 0!==e.position_type?0===e.position_type||1===e.position_type:0===e.tx_type}function qe(e){if(void 0!==e.position_type){const l=[n("createPosition"),n("addPosition"),n("reducePosition"),n("closePosition")];return(null==l?void 0:l[Number(null==e?void 0:e.position_type)])||""}{const l=[n("buy"),n("sell")];return(null==l?void 0:l[Number(e.tx_type)])||""}}R(()=>q.evmAddress,e=>{e?Re():E.value=[]});const We=function(e){const l=He(e),a={...e,_marker:{maker_address:(null==e?void 0:e.maker_address)||(null==e?void 0:e.wallet_address),maker_alias:null==e?void 0:e.maker_alias,maker_logo:null==e?void 0:e.maker_logo,maker_tags:null==e?void 0:e.maker_tags,isBuy:l},_profit:"--"==(null==e?void 0:e.pnl_usd)?"--":"$"+ne(Math.abs((null==e?void 0:e.pnl_usd)||0)||0,2),_profit_ratio:"--"==(null==e?void 0:e.pnl_usd)?"--":ne(100*((null==e?void 0:e.pnl_ratio)||0)||0,2,4,4)+"%",_mc:Number(null==e?void 0:e.target_mcap)?"$"+ie((null==e?void 0:e.target_mcap)||0,{decimals:0,limit:3}):"--",_type:qe(e),_rise:"--"==(null==e?void 0:e.pnl_usd)||(null==e?void 0:e.pnl_usd)>=0};return a._main_Token={amount:ne(e[l?"from_amount":"to_amount"]||0,1),price:"$"+ne(e[l?"from_price_usd":"to_price_usd"]||0),symbol:e[l?"from_symbol":"to_symbol"],total:"$"+ne(new de(e[l?"from_amount":"to_amount"]||0).times(e[l?"from_price_usd":"to_price_usd"]||0).toFixed(0)||0,2,4,4),address:e[l?"from_address":"to_address"],tags:e[l?"from_tags":"to_tags"],signals:e[l?"from_signals":"to_signals"]},a._target_Token={amount:ne(e[l?"to_amount":"from_amount"]||0,1),price:"$"+ne(e[l?"to_price_usd":"from_price_usd"]||0),total:"",symbol:e[l?"to_symbol":"from_symbol"],address:e[l?"to_address":"from_address"],tags:e[l?"to_tags":"from_tags"],signals:e[l?"to_signals":"from_signals"],logo_url:e[l?"to_logo":"from_logo"]},a};function Le(e,l){var a;l&&l.stopPropagation();const t=(null==e?void 0:e.chain)||"eth",o=(null==(a=null==e?void 0:e._marker)?void 0:a.maker_address)||(null==e?void 0:e.wallet_address);o&&fe(`/address/${o}/${t}`)}function Ke({e:e,rowData:l}){var a;e&&e.stopPropagation();const t=(null==(a=null==l?void 0:l._target_Token)?void 0:a.address)+"-"+l.chain;fe(`/token/${t}`,{replace:!0})}return(l,a)=>{const t=M,o=Y,r=xe,n=ce,c=pe,_=ye,g=ke,N=V,B=he,S=be,R=we,U=Ce,L=Ue,J=ue("tooltip"),le=p;return i(),k("div",{class:ee(["w-monitor bg-[--secondary-bg] w-100% h-100% pl-12px pr-6px relative overflow-hidden",{"pr-10px!":m(T),"pl-10px!":m(j)}])},[h(t,{name:"custom:drag2",class:"absolute top-3px left-50% ml--6px text-6px bg-[--dialog-list-hover] drag-handle"}),h(R,{modelValue:m(w),"onUpdate:modelValue":a[10]||(a[10]=e=>D(w)?w.value=e:null),style:{},class:"m-tabs",onTabChange:je},{default:d(()=>[h(S,{label:l.$t("insidersActivity"),name:0,lazy:""},{default:d(()=>[m(q).evmAddress?(i(),k(b,{key:0},[F.isLarge?u((i(),k("div",Xe,[h(g,{ref_key:"aveTableRef",ref:W,rowKey:"id",data:m(E),columns:m(ze),fixed:"",style:O({height:F.scrollHeight+"px"}),"row-class":"cursor-pointer",rowEventHandlers:{onClick:e=>Ke(e)}},{"header-wallet":d(()=>[f("span",null,x(l.$t("wallet")),1)]),"cell-wallet":d(({row:e})=>[(i(),s(o,{key:e._marker.maker_address,address:e._marker.maker_address,chain:e.chain,remark:e.maker_alias||"",showIcon:!0,teleported:!0,wallet_logo:e.maker_logo?{logo:e.maker_logo,vip_logo:"https://www.iconaves.com/address_portrait/KOL_V.png"}:{},iconSize:"24px",formatAddress:e=>(null==e?void 0:e.slice(0,4))+"..."+(null==e?void 0:e.slice(-4)),onUpdateRemark:Ee,onClick:l=>Le(e,l)},null,8,["address","chain","remark","wallet_logo","formatAddress","onClick"]))]),"header-type":d(()=>[f("span",null,x(l.$t("type")),1)]),"cell-type":d(({row:e})=>[h(r,{type:e._marker.isBuy?"success":"danger"},{default:d(()=>[C(x(qe(e)),1)]),_:2},1032,["type"])]),"header-amount":d(()=>[f("span",null,x(l.$t("value")),1)]),"cell-amount":d(({row:e})=>{var l,a;return[f("span",{class:ee(He(e)?"color-[--up-color]":"color-[--down-color]}")},x(m(I)?null==e?void 0:e._main_Token.total:(null==(l=null==e?void 0:e._main_Token)?void 0:l.amount)+(null==(a=null==e?void 0:e._main_Token)?void 0:a.symbol)),3)]}),"header-mc":d(()=>[f("span",null,x(m(I)?l.$t("price"):l.$t("mcap")),1)]),"cell-mc":d(({row:e})=>{var l;return[f("span",null,x(m(I)?null==(l=null==e?void 0:e._target_Token)?void 0:l.price:null==e?void 0:e._mc),1)]}),"header-time":d(()=>[f("span",null,x(l.$t("time")),1)]),"cell-time":d(({row:e})=>[u((i(),k("div",{class:"time",style:O({color:Number(("formatTimeFromNow"in l?l.formatTimeFromNow:m(me))((null==e?void 0:e.created_at)||(null==e?void 0:e.time),!0))<=600?"#FFA622":"#12B886"})},[(null==e?void 0:e.created_at)||(null==e?void 0:e.time)?(e.created_at||(null==e?void 0:e.time))&&Number(("formatTimeFromNow"in l?l.formatTimeFromNow:m(me))(e.created_at||(null==e?void 0:e.time),!0))<60?(i(),s(n,{key:`${e.created_at||(null==e?void 0:e.time)}`,timestamp:Math.min(+(e.created_at||(null==e?void 0:e.time)),m(ve)().unix()-1),"end-time":60},{default:d(({seconds:a})=>[f("span",Ze,[a<60?(i(),k(b,{key:0},[C(x(a)+"s ",1)],64)):(i(),k(b,{key:1},[C(x(("formatTimeFromNow"in l?l.formatTimeFromNow:m(me))(e.created_at||(null==e?void 0:e.time))),1)],64))])]),_:2},1032,["timestamp"])):(i(),k("span",el,x(("formatTimeFromNow"in l?l.formatTimeFromNow:m(me))(e.created_at||(null==e?void 0:e.time))),1)):(i(),k("span",Qe,"-"))],4)),[[J,("formatDate"in l?l.formatDate:m(_e))((null==e?void 0:e.created_at)||(null==e?void 0:e.time))]])]),"header-symbol":d(()=>[f("span",null,x(l.$t("token")),1)]),"cell-symbol":d(({row:e})=>{var l,a;return[h(c,{row:{logo_url:null==(l=null==e?void 0:e._target_Token)?void 0:l.logo_url,chain:""},"token-class":"w-16px h-16px [&&]:mr-4px"},null,8,["row"]),f("span",null,x(null==(a=null==e?void 0:e._target_Token)?void 0:a.symbol),1),"pump"==(null==e?void 0:e.amm)?(i(),k("img",ll)):P("",!0)]}),"header-operate":d(()=>[...a[11]||(a[11]=[f("span",null,null,-1)])]),"cell-operate":d(({row:e})=>{var l;return[h(_,{quickBuyValue:m(Q),row:{...e,target_token:null==e?void 0:e.target_address,token0_address:null==e?void 0:e.from_address,token1_address:null==e?void 0:e.to_address,symbol:null==(l=null==e?void 0:e._target_Token)?void 0:l.symbol},classNames:"min-w-70px h-24px! w-quickSwap",mainNameVisible:""},null,8,["quickBuyValue","row"])]}),_:1},8,["data","columns","style","rowEventHandlers"])])),[[le,m(H)]]):u((i(),k("div",al,[h(g,{ref_key:"aveTableRef",ref:W,rowKey:"id",fixed:"",data:m(E),columns:m(ze),headerHeight:54,rowHeight:70,headerClass:"bg-transparent",style:O({height:F.scrollHeight+"px","--el-table-border":"1px solid transparent"}),"row-class":"cursor-pointer group",rowEventHandlers:{onClick:e=>Ke(e)}},{"header-wallet":d(()=>[f("div",tl,[f("div",ol,[h(Je,{modelValue:m($),"onUpdate:modelValue":a[0]||(a[0]=e=>D($)?$.value=e:null),options:m(Z)},null,8,["modelValue","options"]),h(t,{ref_key:"audioButtonRef",ref:G,name:m(z).audio.monitor?"custom:ad":"custom:admute",class:"cursor-pointer text-16px color-[--secondary-text]"},null,8,["name"]),h(r,{size:"small",class:"cursor-pointer w-55px",onClick:a[1]||(a[1]=e=>I.value=!m(I))},{default:d(()=>[C(x(m(I)?"C/MC":"U/Pri"),1),h(t,{name:"lsicon:switch-filled",class:"ml-4px text-12px"})]),_:1})]),h(Ve,{modelValue:m(Q),"onUpdate:modelValue":a[2]||(a[2]=e=>D(Q)?Q.value=e:null),size:"small"},null,8,["modelValue"])])]),"cell-wallet":d(({row:e})=>{var a,t,r,p,v,g;return[f("div",rl,[f("div",sl,[(i(),s(o,{key:e._marker.maker_address,address:e._marker.maker_address,chain:e.chain,remark:e.maker_alias||"",showIcon:!0,teleported:!0,wallet_logo:e.maker_logo?{logo:e.maker_logo,vip_logo:"https://www.iconaves.com/address_portrait/KOL_V.png"}:{},iconSize:"24px",formatAddress:e=>(null==e?void 0:e.slice(0,4))+"..."+(null==e?void 0:e.slice(-4)),onUpdateRemark:Ee,onClick:l=>Le(e,l)},null,8,["address","chain","remark","wallet_logo","formatAddress","onClick"])),h(_,{quickBuyValue:m(Q),row:{...e,target_token:null==e?void 0:e.target_address,token0_address:null==e?void 0:e.from_address,token1_address:null==e?void 0:e.to_address,symbol:null==(a=null==e?void 0:e._target_Token)?void 0:a.symbol},classNames:"min-w-70px h-24px!  hidden! group-hover:block! w-quickSwap",mainNameVisible:""},null,8,["quickBuyValue","row"]),u((i(),k("div",{class:"time",className:"group-hover:hidden!",style:O({color:Number(("formatTimeFromNow"in l?l.formatTimeFromNow:m(me))((null==e?void 0:e.created_at)||(null==e?void 0:e.time),!0))<=600?"#FFA622":"#12B886"})},[(null==e?void 0:e.created_at)||(null==e?void 0:e.time)?(e.created_at||(null==e?void 0:e.time))&&Number(("formatTimeFromNow"in l?l.formatTimeFromNow:m(me))(e.created_at||(null==e?void 0:e.time),!0))<60?(i(),s(n,{key:`${e.created_at||(null==e?void 0:e.time)}`,timestamp:Math.min(+(e.created_at||(null==e?void 0:e.time)),m(ve)().unix()-1),"end-time":60},{default:d(({seconds:a})=>[f("span",nl,[a<60?(i(),k(b,{key:0},[C(x(a)+"s ",1)],64)):(i(),k(b,{key:1},[C(x(("formatTimeFromNow"in l?l.formatTimeFromNow:m(me))(e.created_at||(null==e?void 0:e.time))),1)],64))])]),_:2},1032,["timestamp"])):u((i(),k("span",dl,[C(x(("formatTimeFromNow"in l?l.formatTimeFromNow:m(me))(e.created_at||(null==e?void 0:e.time))),1)])),[[J,("formatDate"in l?l.formatDate:m(_e))(e.created_at||(null==e?void 0:e.time),"YYYY-MM-DD HH:mm:ss")]]):(i(),k("span",il,"-"))],4)),[[J,("formatDate"in l?l.formatDate:m(_e))((null==e?void 0:e.created_at)||(null==e?void 0:e.time))]])]),f("div",ul,[f("div",pl,[f("div",ml,x(qe(e)),1),f("span",{class:ee(He(e)?"color-[--up-color]":"color-[--down-color]")},x(m(I)?null==e?void 0:e._main_Token.total:(null==(t=null==e?void 0:e._main_Token)?void 0:t.amount)+(null==(r=null==e?void 0:e._main_Token)?void 0:r.symbol)),3),h(c,{row:{logo_url:null==(p=null==e?void 0:e._target_Token)?void 0:p.logo_url,chain:""},"token-class":"w-16px h-16px [&&]:mr-4px"},null,8,["row"]),f("span",cl,x(null==(v=null==e?void 0:e._target_Token)?void 0:v.symbol),1),"pump"==(null==e?void 0:e.amm)?(i(),k("img",vl)):P("",!0)]),f("div",_l,[f("span",hl,x(m(I)?l.$t("price"):l.$t("mcap")),1),f("span",gl,x(m(I)?null==(g=null==e?void 0:e._target_Token)?void 0:g.price:null==e?void 0:e._mc),1)])])])]}),_:1},8,["data","columns","style","rowEventHandlers"])])),[[le,m(H)]])],64)):(i(),s(B,{key:1,style:O({height:F.scrollHeight-50+"px"}),class:"overflow-hidden"},{default:d(()=>[f("span",fl,x(l.$t("noBotWalletTip")),1),h(N,{class:"mt-10px",onClick:a[3]||(a[3]=e=>m(q).$patch({connectVisible:!0}))},{default:d(()=>[C(x(l.$t("connectWallet")),1)]),_:1})]),_:1},8,["style"]))]),_:1},8,["label"]),h(S,{label:l.$t("manage"),name:1,lazy:""},{default:d(()=>[m(q).evmAddress?(i(),s(Ie,ge({key:0},m(Te),{isLarge:F.isLarge}),null,16,["isLarge"])):(i(),s(B,{key:1,style:O({height:F.scrollHeight-50+"px"}),class:"overflow-hidden"},{default:d(()=>[f("span",xl,x(l.$t("noBotWalletTip")),1),h(N,{type:"primary",class:"mt-10px",onClick:a[4]||(a[4]=e=>m(q).$patch({connectVisible:!0}))},{default:d(()=>[C(x(l.$t("connectWallet")),1)]),_:1})]),_:1},8,["style"]))]),_:1},8,["label"]),h(S,{disabled:""},{label:d(()=>[...a[12]||(a[12]=[f("div",{class:"cursor-move w-100% h-100% drag-handle"},null,-1)])]),_:1}),h(S,{disabled:""},{label:d(()=>[f("div",yl,[0===m(w)&&F.isLarge?(i(),k(b,{key:0},[h(Je,{modelValue:m($),"onUpdate:modelValue":a[5]||(a[5]=e=>D($)?$.value=e:null),options:m(Z)},null,8,["modelValue","options"]),h(t,{ref_key:"audioButtonRef",ref:G,name:m(z).audio.monitor?"custom:ad":"custom:admute",class:"cursor-pointer color-[--secondary-text]"},null,8,["name"]),h(r,{size:"small",class:"cursor-pointer w-55px",onClick:a[6]||(a[6]=e=>I.value=!m(I))},{default:d(()=>[C(x(m(I)?"C/MC":"U/Pri"),1),h(t,{name:"lsicon:switch-filled",class:"ml-4px text-12px"})]),_:1})],64)):P("",!0),0===m(w)&&m(q).evmAddress?(i(),s(N,{key:1,ref:e=>K.value=e,size:"small",style:{height:"20px"},class:"dialog-button",dark:m(A)},{default:d(()=>[h(t,{name:"ic:baseline-person-add-alt-1",class:"text-12px mr-5px"}),C(" "+x(l.$t("addWallet")),1)]),_:1},8,["dark"])):P("",!0),0===m(w)&&e.isLarge?(i(),s(Ve,{key:2,modelValue:m(Q),"onUpdate:modelValue":a[7]||(a[7]=e=>D(Q)?Q.value=e:null),size:"small"},null,8,["modelValue"])):P("",!0),h(t,{class:"text-14px color-[--secondary-text] hover:color-[--main-text] cursor-pointer",name:"custom:pump-setting",onClick:a[8]||(a[8]=v(e=>m(z).active="notice",["stop","prevent"]))}),h(t,{name:"custom:close",class:"text-14px shrink-0 cursor-pointer color-[--main-text]",onClick:a[9]||(a[9]=v(e=>y.value=!1,["self"]))})])]),_:1})]),_:1},8,["modelValue"]),m(G)?(i(),s(U,{key:0,buttonRef:m(G),type:"monitor"},null,8,["buttonRef"])):P("",!0),m(K)?(i(),s(L,{key:1,ref_key:"addFavAddressPopRef",ref:X,buttonRef:m(K),onOnConfirm:Ne},null,8,["buttonRef"])):P("",!0)],2)}}}),[["__scopeId","data-v-2ea5fa6c"]]);export{kl as default};

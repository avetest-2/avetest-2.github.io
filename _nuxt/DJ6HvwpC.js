import{n as a,au as e,go as l,av as t,D as r,F as i,ay as s,a7 as o,M as n,fm as d,c,o as m,b as p,a as f,w as u,J as b,t as g,E as h,d as v,a8 as x,K as y,aa as N,aq as w,H as _,ax as D,S as I,qt as P}from"./pxHhHUe5.js";import{E as S,a as F}from"./DlhmlHT6.js";import"./xG3n2otq.js";import"./uG3PizZo.js";import"./DU6RBO19.js";const j=["infinite-scroll-disabled"],E={class:"text-12px"},L={key:1},T={class:"text-14px"},Y={class:"flex items-center justify-end gap-4px"},k={class:"mt-[2px] mb-[5px] py-[10px] text-[12px] text-center color-[--third-text]"},z={key:0},A=a({__name:"orderDetail",props:{searchParams:{}},setup(a){const A=e(),H=l(),{t:M}=t(),O=a,U=s([]),q=i({loading:!1,finished:!1,error:!1}),B=i(""),C=h(()=>{var a,e,l;const t=(null==(l=null==(e=null==(a=H.metadata)?void 0:a.contractList)?void 0:e.reduce)?void 0:l.call(e,(a,e)=>(a[e.contractId]=e.contractName,a),{}))||{};return t.ALL=M("all"),t}),G=async()=>{if(q.value.loading||q.value.finished)return;const a={filterStatusList:"CANCELING,OPEN,PENDING",...O.searchParams};B.value&&(a.offsetData=B.value);try{q.value.loading=!0;const e=await P(a);let l=e.dataList||[];B.value&&(l=U.value.concat(l)),e.nextPageOffsetData||(q.value.finished=!0),B.value=e.nextPageOffsetData,U.value=l}catch(e){q.value.error=!0}finally{q.value.loading=!1}};return A.address&&G(),r(()=>[O.searchParams,A.address],()=>{B.value="",U.value=[],q.value.finished=!1,q.value.error=!1,q.value.loading=!1,G()}),(a,e)=>{const l=D,t=S,r=N,i=F,s=o("copy"),h=d;return n((m(),c("div",{class:"relative min-h-400px bg-[--secondary-bg]","infinite-scroll-delay":200,"infinite-scroll-disabled":b(q).loading||b(q).finished||b(q).error,"infinite-scroll-immediate":!1,"infinite-scroll-distance":300},[p(i,{fit:"",data:b(U),"header-row-class-name":"text-12px sticky top-0 z-10 font-500","cell-class-name":"color-[--main-text] text-12px"},{empty:u(()=>{var e;return[b(q).loading||0!==(null==(e=b(U))?void 0:e.length)?(m(),c("span",L)):(m(),_(l,{key:0,class:"pt-[40px]"},{default:u(()=>[f("span",E,g(a.$t("emptyNoData")),1)]),_:1}))]}),default:u(()=>[p(t,{label:b(M)("markets1"),prop:"contractId"},{default:u(({row:a})=>[f("span",T,g(b(C)[a.contractId]),1)]),_:1},8,["label"]),p(t,{width:100,label:b(M)("filledQty"),prop:"fillSize"},{default:u(({row:e})=>[v(g(("formatNumber"in a?a.formatNumber:b(x))(e.fillSize))+" "+g(b(C)[e.contractId].replace("USD","")),1)]),_:1},8,["label"]),p(t,{width:100,align:"right",label:b(M)("filledPrice"),prop:"fillPrice"},{default:u(({row:e})=>[v(g(("formatNumber"in a?a.formatNumber:b(x))(e.fillPrice,{decimals:2,limit:20})),1)]),_:1},8,["label"]),p(t,{align:"right",label:b(M)("role"),prop:"direction"},null,8,["label"]),p(t,{align:"right",label:b(M)("fee"),prop:"fillFee"},{default:u(({row:e})=>[v(g(("formatNumber"in a?a.formatNumber:b(x))(e.fillFee,{decimals:3,limit:20})),1)]),_:1},8,["label"]),p(t,{align:"right",label:b(M)("tradeType"),prop:"orderSide"},{default:u(({row:a})=>[f("span",{class:y("BUY"===a.orderSide?"color-[--up-color]":"color-[--down-color]")},g("BUY"===a.orderSide?b(M)("buy"):b(M)("sell")),3)]),_:1},8,["label"]),p(t,{align:"right",label:b(M)("filledType"),prop:"tradeType2"},{default:u(({row:a})=>[v(g(b(M)("trades")),1)]),_:1},8,["label"]),p(t,{align:"right",label:b(M)("tradeNo"),prop:"matchFillId"},{default:u(({row:a})=>[f("div",Y,[v(g(a.matchFillId.slice(0,4))+"..."+g(a.matchFillId.slice(-4)),1),n(p(r,{name:"bxs:copy",class:"color-[#5A5E64]"},null,512),[[s,a.matchFillId]])])]),_:1},8,["label"]),p(t,{align:"right",label:b(M)("tradeTime"),prop:"matchTime"},{default:u(({row:a})=>[v(g(b(w)(Number(a.matchTime)).format("YYYY-MM-DD HH:mm:ss")),1)]),_:1},8,["label"])]),_:1},8,["data"]),f("div",k,[b(q).loading&&b(B)?(m(),c("span",z,g(b(M)("loading")),1)):I("",!0)])],8,j)),[[h,G]])}}});export{A as default};

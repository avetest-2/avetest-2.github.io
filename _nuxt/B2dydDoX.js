import{n as e,av as l,a3 as t,a2 as a,ak as r,D as o,H as p,o as s,aQ as i,F as n,w as u,b as d,bp as f,al as c,J as m,E as v,bq as b,aT as g,a as y,T as h,d as x,t as _,_ as F}from"./pxHhHUe5.js";const w={class:"flex-between w-100%"},q=F(e({__name:"proPopover",props:{width:{type:String,default:"248"},required:{type:Boolean,default:!0},label:{type:String,default:""},prop:{type:String,default:""},placeholder:{type:String,default:""},modelValue:{type:String,default:""},rule:{type:Function,default:()=>{}},buttonRef:{type:Object,required:!0},maxlength:{type:Number,default:50},title:{type:String,default:""}},emits:["update:visible","update:modelValue","onConfirm","onCancel"],setup(e,{expose:F,emit:q}){const{t:k}=l(),{lang:S}=t(a()),V=e,C=q,{isDark:R}=t(a()),z=n(),D=v(()=>V.placeholder??k("placeholderPrefix")+V.label),E=v(()=>({[V.prop]:[{required:V.required,message:V.label+(S.value.indexOf("zh")>-1?"":"&nbsp;")+k("cannotBeEmpty"),trigger:"blur"}]})),j=n(),B=r({[V.prop]:V.modelValue});function O(){var e;null==(e=j.value)||e.resetFields(),P()}function P(){var e,l;null==(l=null==(e=m(z))?void 0:e.hide)||l.call(e)}return o(()=>B[V.prop],e=>{C("update:modelValue",e)}),F({close:P}),(e,l)=>{const t=g,a=b,r=h,o=f,n=i;return s(),p(n,{ref_key:"popoverRef",ref:z,width:null==V?void 0:V.width,trigger:"click",placement:"bottom","virtual-ref":V.buttonRef,"virtual-triggering":"",title:null==V?void 0:V.title,persistent:!1,teleported:!0,"popper-class":"","popper-style":"--el-popover-title-font-size:14px;--el-popover-title-text-color:var(--main-text)"},{default:u(()=>[d(o,{ref_key:"formRef",ref:j,model:m(B),rules:m(E),onSubmit:l[1]||(l[1]=c(e=>{var l;(l=m(j))&&l.validate((e,l)=>{var t;e&&(C("onConfirm",B[V.prop]),null==(t=j.value)||t.resetFields())})},["prevent","stop"]))},{default:u(()=>[d(a,{prop:V.prop,required:V.required,"label-position":"top",size:"large",class:"mb-20px!"},{default:u(()=>[d(t,{modelValue:m(B)[V.prop],"onUpdate:modelValue":l[0]||(l[0]=e=>m(B)[V.prop]=e),class:"[&&]:[--el-fill-color-blank:var(--d-666-l-F2F2F2)] [%%]:[el-input__count-inner:transparent]",placeholder:m(D),maxlength:V.maxlength,"show-word-limit":"",clearable:""},null,8,["modelValue","placeholder","maxlength"])]),_:1},8,["prop","required"]),d(a,{class:"mb-0px!"},{default:u(()=>[y("div",w,[d(r,{class:"flex-1",color:m(R)?"#1F242C":"#D9E8FF",onClick:c(O,["stop","prevent"])},{default:u(()=>[x(_(e.$t("cancel")),1)]),_:1},8,["color"]),d(r,{type:"primary",class:"flex-1","native-type":"submit",color:"#3F80F7"},{default:u(()=>[x(_(e.$t("confirm")),1)]),_:1})])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["width","virtual-ref","title"])}}}),[["__scopeId","data-v-32a5b704"]]);export{q as default};

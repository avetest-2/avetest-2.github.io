import{E as e,a as t}from"./DlhmlHT6.js";import{n as a,av as l,by as o,bE as r,aA as s,D as i,F as n,E as d,dw as c,dr as m,aE as p,a7 as u,c as x,o as v,M as f,a as h,fm as b,J as _,b as g,w,d as y,t as k,aL as N,aq as T,a8 as $,H as j,S as M,ax as H,aa as Y,a9 as D,_ as C}from"./pxHhHUe5.js";import{E}from"./DGdCcJ75.js";import"./xG3n2otq.js";import"./uG3PizZo.js";import{_ as F,a as S,b as A}from"./DKFFV1b8.js";import{a as I}from"./C4ZtUdxm.js";import"./DU6RBO19.js";import"./liJ_O3Tw.js";import"./BwPtREp8.js";const Z={class:"flex mt--12px relative"},q=["infinite-scroll-disabled"],O={class:"text-12px mt-10px color-[--third-text]"},z={key:0,src:S,alt:""},J={key:1,src:A,alt:""},K={class:"text-12px text-center color-[--third-text] pb-10px"},L={key:0},R={key:1},W={class:"border-l-1px border-l-solid border-l-[--main-divider] p-20px box-border w-298px responsive"},B={class:"text-16px color-[--secondary-text] lh-16px mb-16px"},G={class:"flex items-center gap-6px color-[--secondary-text] text-12px mb-8px"},P={class:"color-[--third-text] text-12px"},Q={class:"justify-between flex"},U={class:"color-[--secondary-text] text-12px mb-8px mr-6px"},V={class:"color-[--third-text] text-12px"},X={class:"flex gap-4px color-[--secondary-text] text-12px mb-8px"},ee={class:"color-[--third-text] text-12px"},te={class:"flex gap-4px color-[--secondary-text] text-12px"},ae={class:"color-[--third-text] text-12px"},le={class:"font-bold text-24px lh-30px color-[--main-text] mb-4px"},oe={class:"color-[--third-text] text-12px"},re={class:"text-16px lh-16px color-[--secondary-text] mb-8px"},se={class:"flex gap-4px color-[--secondary-text] text-12px mb-8px"},ie={class:"color-[--third-text] text-12px"},ne={class:"flex gap-4px color-[--secondary-text] text-12px mb-8px"},de={class:"color-[--third-text] text-12px"},ce=C(a({__name:"index",setup(a){const{t:C}=l(),S=o(),A=d(()=>S.token),ce=n({}),me=n([]),pe=n(1),ue=n(20),xe=n(!1),ve=n(!1),fe=n(!1),he=r("conditions_dev_tokens",{sort:"created_at",sort_dir:"desc"}),be=n({});let _e=null;const ge=s(),we=d(()=>ge.params.id),ye=d(()=>Math.max(S.commonHeight-260,450)),ke=()=>{me.value=[],pe.value=1,ue.value=5,xe.value=!1,ve.value=!1,fe.value=!1};i(()=>ge.params.id,e=>{e&&(ke(),_e&&clearTimeout(_e),Te())});const Ne=({prop:e,order:t})=>{var a;ke();const l=null==(a=null==t?void 0:t.replace)?void 0:a.call(t,"ending","");he.value.sort=e,he.value.sort_dir=l,Te()};async function Te(){var e;if(!xe.value){xe.value=!0;try{const t={token_id:we.value,pageNO:pe.value,pageSize:ue.value},a=await I(t),{dev_address:l,total_migrated:o,total_non_migrated:r,total_tokens:s}=a;1===pe.value&&(me.value=[],async function(e){var t;const a=null==(t=S.token)?void 0:t.chain,l=await c({chain:a,walletAddress:e,tokens:[m(a)]});be.value=l[0]||{balance:0}}(l)),ce.value={dev_address:l,total_migrated:o,total_non_migrated:r,total_tokens:s};const i=(null==(e=null==a?void 0:a.infos)?void 0:e.map(e=>{var t;return{...e,chain:null==(t=A.value)?void 0:t.chain,createdAt:"1970-01-01T00:00:00Z"!==(null==e?void 0:e.created_at)&&"0001-01-01T00:00:00Z"!==(null==e?void 0:e.created_at)?new Date(e.created_at).getTime()/1e3:0}}))||[];me.value.push(...i),i.length<ue.value?(ve.value=!0,fe.value=!0,_e&&clearTimeout(_e),_e=setTimeout(()=>{fe.value=!1},3e3)):pe.value++}catch(t){me.value=[],ve.value=!0}finally{xe.value=!1}}}function $e(){window.open(`https://x.com/search?q=${ce.value.dev_address}`)}function je(){var e;window.open(D(null==(e=A.value)?void 0:e.chain,ce.value.dev_address||"","address"))}return Te(),p(()=>{_e&&clearTimeout(_e)}),(a,l)=>{var o,r,s,i,n,d,c;const m=e,p=t,D=Y,I=E,_e=u("tooltip"),ge=b,we=u("copy");return v(),x("div",Z,[f((v(),x("div",{class:"pt-12px flex-1 min-w-0","infinite-scroll-disabled":_(xe)||_(ve),"infinite-scroll-distance":20,"infinite-scroll-delay":200,"infinite-scroll-immediate":!1},[g(p,{ref:"table_ref",height:_(ye),data:_(me),"default-sort":{prop:_(he).sort,order:_(he).sort_dir?_(he).sort_dir+"ending":null},fit:"","header-row-class-name":"text-12px","row-class-name":"cursor-pointer color-[--secondary-text] text-12px",onSortChange:Ne},{empty:w(()=>[_(xe)?M("",!0):(v(),j(H,{key:0,class:"table-empty"},{default:w(()=>[h("span",O,k(a.$t("emptyNoData")),1)]),_:1}))]),default:w(()=>[g(F,{subImgKey:"issue_platform","column-props":{label:a.$t("walletToken"),width:"170",fixed:"left"}},null,8,["column-props"]),g(m,{align:"right",width:100,sortable:"custom","sort-orders":["descending","ascending",null],label:a.$t("time"),prop:"created_at"},{default:w(({row:e})=>[f((v(),x("span",null,[y(k(("formatTimeFromNow"in a?a.formatTimeFromNow:_(N))(_(T)(e.created_at).unix())),1)])),[[_e,_(T)(e.created_at).format("YYYY-MM-DD HH:mm:ss")]])]),_:1},8,["label"]),g(m,{width:80,align:"right",label:a.$t("migrated1")},{default:w(({row:e})=>[e.migrated?(v(),x("img",z)):(v(),x("img",J))]),_:1},8,["label"]),g(m,{align:"right",sortable:"custom","sort-orders":["descending","ascending",null],label:a.$t("walletMarketCap"),prop:"market_cap"},{default:w(({row:e})=>[y(" $"+k(("formatNumber"in a?a.formatNumber:_($))(e.market_cap,2)),1)]),_:1},8,["label"]),g(m,{align:"right",sortable:"custom","sort-orders":["descending","ascending",null],label:a.$t("allTimeHigh"),prop:"all_time_high"},{default:w(({row:e})=>[y(" $"+k(("formatNumber"in a?a.formatNumber:_($))(e.all_time_high,2)),1)]),_:1},8,["label"]),g(m,{align:"right",label:a.$t("holders")},{default:w(({row:e})=>[y(k(("formatNumber"in a?a.formatNumber:_($))(e.holders||0,2)),1)]),_:1},8,["label"]),g(m,{align:"right",label:a.$t("volumeOneHour")},{default:w(({row:e})=>[y(k(("formatNumber"in a?a.formatNumber:_($))(e.volume_u_1h||0,2)),1)]),_:1},8,["label"])]),_:1},8,["height","data","default-sort"]),h("div",K,[_(xe)&&_(pe)>1?(v(),x("span",L,k(a.$t("loading")),1)):M("",!0),_(fe)&&_(pe)>1&&(null==(o=_(me))?void 0:o.length)>_(ue)?(v(),x("span",R,k(a.$t("noMore")),1)):M("",!0)])],8,q)),[[ge,Te]]),h("div",W,[h("div",B,k(_(C)("tokenStatistics")),1),h("div",G,[h("span",P,k(_(C)("dev3"))+":",1),y(" "+k(_(ce).dev_address?_(ce).dev_address.slice(0,4)+"..."+_(ce).dev_address.slice(-4):"--")+"("+k(("formatNumber"in a?a.formatNumber:_($))(_(be).balance,4))+k(_(be).name)+") ",1),f(g(D,{name:"bxs:copy",class:"text-12px ml-2px cursor-pointer color-[--secondary-text]"},null,512),[[we,_(ce).dev_address]]),g(D,{name:"custom:search",class:"text-[--third-text] text-16px cursor-pointer hover:text-[--main-text]",onClick:$e}),g(D,{name:"solana"===(null==(r=_(A))?void 0:r.chain)?"custom:sol":"custom:evm",class:"text-[--third-text] text-16px cursor-pointer hover:text-[--main-text]",onClick:je},null,8,["name"])]),h("div",Q,[h("div",null,[h("div",U,[h("span",V,k(_(C)("totalTokens"))+":",1),y(" "+k(_(ce).total_tokens??0),1)]),h("div",X,[l[0]||(l[0]=h("span",{class:"w-12px h-12px rounded-2px bg-[--up-color]"},null,-1)),h("span",ee,k(_(C)("migrated"))+":",1),y(" "+k(_(ce).total_migrated??0),1)]),h("div",te,[l[1]||(l[1]=h("span",{class:"w-12px h-12px rounded-2px bg-[--down-color]"},null,-1)),h("span",ae,k(_(C)("notMigrated"))+":",1),y(" "+k(_(ce).total_non_migrated??0),1)])]),g(I,{width:120,style:{"--el-fill-color-light":"var(--down-color)"},color:"var(--up-color)","stroke-width":10,type:"circle",percentage:Number(((null==(s=_(ce))?void 0:s.total_migrated)||0)/((null==(i=_(ce))?void 0:i.total_tokens)||1)*100)||0},{default:w(({percentage:e})=>[h("div",le,k(("formatNumber"in a?a.formatNumber:_($))(e,1))+"%",1),h("div",oe,k(_(C)("migrated")),1)]),_:1},8,["percentage"])]),h("div",re,k(_(C)("highestRecord")),1),h("div",se,[h("span",ie,k(_(C)("historyHighestMarketCap"))+":",1),y(" $"+k(("formatNumber"in a?a.formatNumber:_($))((null==(n=_(S).bestToken)?void 0:n.all_time_high)||0,2)),1)]),h("div",ne,[h("span",de,k(_(C)("latestToken"))+":",1),f((v(),x("span",null,[y(k(("formatTimeFromNow"in a?a.formatTimeFromNow:_(N))(null==(d=_(S).bestToken)?void 0:d.created_at))+" "+k(_(C)("ago")),1)])),[[_e,_(T)(null==(c=_(S).bestToken)?void 0:c.created_at).format("YYYY-MM-DD HH:mm:ss")]])])])])}}}),[["__scopeId","data-v-1070b49f"]]);export{ce as default};

import{E as e,gF as t,J as l,D as o,F as a,cC as r,B as n,ay as s,gE as i,G as c,h5 as d,cB as u,gf as h,hf as m,gI as f,q as w,ht as p,gD as g,k as y,g as x,hs as v,n as b,aW as R,ge as S,i8 as T,a4 as H,i as C,I,a5 as E,gi as M,gO as O,dE as K,gK as L,b as D,g_ as W,bQ as A,a0 as z,am as F,N as k,i2 as j,gY as V,i9 as G,ia as N,p as $,h2 as P,cg as B,a1 as q,av as Y,h3 as U,ib as X,cF as _,bF as Z,ic as J,H as Q,o as ee,w as te,bt as le,a6 as oe,an as ae,ao as re,c as ne,S as se,bZ as ie,b_ as ce,t as de,a as ue,K as he,_ as me}from"./pxHhHUe5.js";import{v as fe,f as we,g as pe,h as ge,i as ye,j as xe,S as ve,k as be,E as Re}from"./CAY6cvuw.js";import{c as Se,r as Te}from"./DU6RBO19.js";import{I as He,S as Ce,F as Ie,A as Ee,R as Me,a as Oe,b as Ke,B as Le,c as De,D as We,C as Ae,E as ze,d as Fe,e as ke}from"./3zf6s2PU.js";import"./uG3PizZo.js";var je=(e=>(e.ASC="asc",e.DESC="desc",e))(je||{}),Ve=(e=>(e.LEFT="left",e.CENTER="center",e.RIGHT="right",e))(Ve||{}),Ge=(e=>(e.LEFT="left",e.RIGHT="right",e))(Ge||{});const Ne={asc:"desc",desc:"asc"},$e=Symbol("placeholder");const Pe=(t,{mainTableRef:o,leftTableRef:d,rightTableRef:u,tableInstance:h,ns:m,isScrolling:f})=>{const w=r(),{emit:p}=w,g=s(!1),y=a(t.defaultExpandedRowKeys||[]),x=a(-1),v=s(null),b=a({}),R=a({}),S=s({}),T=s({}),H=s({}),C=e(()=>i(t.estimatedRowHeight));function I({hovered:e,rowKey:t}){if(f.value)return;h.vnode.el.querySelectorAll(`[rowkey="${String(t)}"]`).forEach(t=>{e?t.classList.add(m.is("hovered")):t.classList.remove(m.is("hovered"))})}const E=n(()=>{var e,t,a,r;g.value=!0,b.value={...l(b),...l(R)},M(l(v),!1),R.value={},v.value=null,null==(e=o.value)||e.forceUpdate(),null==(t=d.value)||t.forceUpdate(),null==(a=u.value)||a.forceUpdate(),null==(r=w.proxy)||r.$forceUpdate(),g.value=!1},0);function M(e,t=!1){l(C)&&[o,d,u].forEach(o=>{const a=l(o);a&&a.resetAfterRowIndex(e,t)})}return{expandedRowKeys:y,lastRenderedRowIndex:x,isDynamic:C,isResetting:g,rowHeights:b,resetAfterIndex:M,onRowExpanded:function({expanded:e,rowData:o,rowIndex:a,rowKey:r}){var n,s;const i=[...l(y)],d=i.indexOf(r);e?-1===d&&i.push(r):d>-1&&i.splice(d,1),y.value=i,p("update:expandedRowKeys",i),null==(n=t.onRowExpand)||n.call(t,{expanded:e,rowData:o,rowIndex:a,rowKey:r}),null==(s=t.onExpandedRowsChange)||s.call(t,i),h.vnode.el.querySelector(`.${m.is("hovered")}[rowkey="${String(r)}"]`)&&c(()=>I({hovered:!0,rowKey:r}))},onRowHovered:I,onRowsRendered:function(e){var o;null==(o=t.onRowsRendered)||o.call(t,e),e.rowCacheEnd>l(x)&&(x.value=e.rowCacheEnd)},onRowHeightChange:function({rowKey:e,height:t,rowIndex:o},a){a?a===Ge.RIGHT?H.value[e]=t:S.value[e]=t:T.value[e]=t;const r=Math.max(...[S,H,T].map(t=>t.value[e]||0));l(b)[e]!==r&&(!function(e,t,o){const a=l(v);(null===a||a>o)&&(v.value=o),R.value[e]=t}(e,r,o),E())}}},Be=(e,t)=>e+t,qe=e=>d(e)?e.reduce(Be,0):e,Ye=(e,t,l={})=>f(e)?e(t):null!=e?e:l,Ue=e=>(["width","maxWidth","minWidth","height"].forEach(t=>{e[t]=h(e[t])}),e),Xe=e=>m(e)?t=>u(e,t):e;function _e(n){const c=a(),u=a(),m=a(),{columns:f,columnsStyles:g,columnsTotalWidth:y,fixedColumnsOnLeft:x,fixedColumnsOnRight:v,hasFixedColumns:b,mainColumns:R,onColumnSorted:S}=function(o,a,r){const n=e(()=>l(a).map((e,t)=>{var l,o;return{...e,key:null!=(o=null!=(l=e.key)?l:e.dataKey)?o:t}})),s=e(()=>l(n).filter(e=>!e.hidden)),i=e(()=>l(s).filter(e=>"left"===e.fixed||!0===e.fixed)),c=e(()=>l(s).filter(e=>"right"===e.fixed)),d=e(()=>l(s).filter(e=>!e.fixed)),u=e(()=>{const e=[];return l(i).forEach(t=>{e.push({...t,placeholderSign:$e})}),l(d).forEach(t=>{e.push(t)}),l(c).forEach(t=>{e.push({...t,placeholderSign:$e})}),e}),h=e(()=>l(i).length||l(c).length),m=e(()=>l(n).reduce((e,t)=>(e[t.key]=((e,t,l)=>{var o,a,r;const n={flexGrow:0,flexShrink:0,...l?{}:{flexGrow:null!=(o=e.flexGrow)?o:0,flexShrink:null!=(a=e.flexShrink)?a:1}},s={...null!=(r=e.style)?r:{},...n,flexBasis:"auto",width:e.width};return t||(e.maxWidth&&(s.maxWidth=e.maxWidth),e.minWidth&&(s.minWidth=e.minWidth)),s})(t,l(r),o.fixed),e),{})),f=e(()=>l(s).reduce((e,t)=>e+t.width,0)),w=e=>l(n).find(t=>t.key===e);return{columns:n,columnsStyles:m,columnsTotalWidth:f,fixedColumnsOnLeft:i,fixedColumnsOnRight:c,hasFixedColumns:h,mainColumns:u,normalColumns:d,visibleColumns:s,getColumn:w,getColumnStyle:e=>l(m)[e],updateColumnWidth:(e,t)=>{e.width=t},onColumnSorted:function(e){var l;const{key:a}=e.currentTarget.dataset;if(!a)return;const{sortState:r,sortBy:n}=o;let s=je.ASC;s=t(r)?Ne[r[a]]:Ne[n.order],null==(l=o.onColumnSort)||l.call(o,{column:w(a),key:a,order:s})}}}(n,p(n,"columns"),p(n,"fixed")),{scrollTo:T,scrollToLeft:H,scrollToTop:C,scrollToRow:I,onScroll:E,onVerticalScroll:M,scrollPos:O}=((e,{mainTableRef:t,leftTableRef:r,rightTableRef:n,onMaybeEndReached:s})=>{const i=a({scrollLeft:0,scrollTop:0});function c(e){var l,o,a;const{scrollTop:s}=e;null==(l=t.value)||l.scrollTo(e),null==(o=r.value)||o.scrollToTop(s),null==(a=n.value)||a.scrollToTop(s)}function d(e){i.value=e,c(e)}function u(e){i.value.scrollTop=e,c(l(i))}return o(()=>l(i).scrollTop,(e,t)=>{e>t&&s()}),{scrollPos:i,scrollTo:d,scrollToLeft:function(e){var o,a;i.value.scrollLeft=e,null==(a=null==(o=t.value)?void 0:o.scrollTo)||a.call(o,l(i))},scrollToTop:u,scrollToRow:function(e,l="auto"){var o;null==(o=t.value)||o.scrollToRow(e,l)},onScroll:function(t){var l;d(t),null==(l=e.onScroll)||l.call(e,t)},onVerticalScroll:function({scrollTop:e}){const{scrollTop:t}=l(i);e!==t&&u(e)}}})(n,{mainTableRef:c,leftTableRef:u,rightTableRef:m,onMaybeEndReached:function(){const{onEndReached:e}=n;if(!e)return;const{scrollTop:t}=l(O),o=l(q),a=l(J),r=o-(t+a)+n.hScrollbarSize;!re.value&&l(A)>=0&&o<=t+l(X)-l(le)?(re.value=!0,e(r)):re.value=!1}}),K=w("table-v2"),L=r(),D=s(!1),{expandedRowKeys:W,lastRenderedRowIndex:A,isDynamic:z,isResetting:F,rowHeights:k,resetAfterIndex:j,onRowExpanded:V,onRowHeightChange:G,onRowHovered:N,onRowsRendered:$}=Pe(n,{mainTableRef:c,leftTableRef:u,rightTableRef:m,tableInstance:L,ns:K,isScrolling:D}),{data:P,depthMap:B}=((t,{expandedRowKeys:r,lastRenderedRowIndex:n,resetAfterIndex:s})=>{const i=a({}),c=e(()=>{const e={},{data:o,rowKey:a}=t,n=l(r);if(!n||!n.length)return o;const s=[],c=new Set;n.forEach(e=>c.add(e));let u=o.slice();for(u.forEach(t=>e[t[a]]=0);u.length>0;){const t=u.shift();s.push(t),c.has(t[a])&&d(t.children)&&t.children.length>0&&(u=[...t.children,...u],t.children.forEach(l=>e[l[a]]=e[t[a]]+1))}return i.value=e,s}),u=e(()=>{const{data:e,expandColumnKey:o}=t;return o?l(c):e});return o(u,(e,t)=>{e!==t&&(n.value=-1,s(0,!0))}),{data:u,depthMap:i}})(n,{expandedRowKeys:W,lastRenderedRowIndex:A,resetAfterIndex:j}),q=e(()=>{const{estimatedRowHeight:e,rowHeight:t}=n,o=l(P);return i(e)?Object.values(l(k)).reduce((e,t)=>e+t,0):o.length*t}),{bodyWidth:Y,fixedTableHeight:U,mainTableHeight:X,leftTableWidth:_,rightTableWidth:Z,windowHeight:J,footerHeight:Q,emptyStyle:ee,rootStyle:te,headerHeight:le}=((t,{columnsTotalWidth:o,rowsHeight:a,fixedColumnsOnLeft:r,fixedColumnsOnRight:n})=>{const s=e(()=>{const{fixed:e,width:a,vScrollbarSize:r}=t,n=a-r;return e?Math.max(Math.round(l(o)),n):n}),c=e(()=>{const{height:e=0,maxHeight:o=0,footerHeight:r,hScrollbarSize:n}=t;if(o>0){const e=l(p),t=l(a),s=l(w)+e+t+n;return Math.min(s,o-r)}return e-r}),d=e(()=>{const{maxHeight:e}=t,o=l(c);if(i(e)&&e>0)return o;const r=l(a)+l(w)+l(p);return Math.min(o,r)}),u=e=>e.width,m=e(()=>qe(l(r).map(u))),f=e(()=>qe(l(n).map(u))),w=e(()=>qe(t.headerHeight)),p=e(()=>{var e;return((null==(e=t.fixedData)?void 0:e.length)||0)*t.rowHeight}),g=e(()=>l(c)-l(w)-l(p)),y=e(()=>{const{style:e={},height:l,width:o}=t;return Ue({...e,height:l,width:o})}),x=e(()=>Ue({height:t.footerHeight})),v=e(()=>({top:h(l(w)),bottom:h(t.footerHeight),width:h(t.width)}));return{bodyWidth:s,fixedTableHeight:d,mainTableHeight:c,leftTableWidth:m,rightTableWidth:f,windowHeight:g,footerHeight:x,emptyStyle:v,rootStyle:y,headerHeight:w}})(n,{columnsTotalWidth:y,fixedColumnsOnLeft:x,fixedColumnsOnRight:v,rowsHeight:q}),oe=a(),ae=e(()=>{const e=0===l(P).length;return d(n.fixedData)?0===n.fixedData.length&&e:e});const re=a(!1);return o(()=>l(q),()=>re.value=!1),o(()=>n.expandedRowKeys,e=>W.value=e,{deep:!0}),{columns:f,containerRef:oe,mainTableRef:c,leftTableRef:u,rightTableRef:m,isDynamic:z,isResetting:F,isScrolling:D,hasFixedColumns:b,columnsStyles:g,columnsTotalWidth:y,data:P,expandedRowKeys:W,depthMap:B,fixedColumnsOnLeft:x,fixedColumnsOnRight:v,mainColumns:R,bodyWidth:Y,emptyStyle:ee,rootStyle:te,footerHeight:Q,mainTableHeight:X,fixedTableHeight:U,leftTableWidth:_,rightTableWidth:Z,showEmpty:ae,getRowHeight:function(e){const{estimatedRowHeight:t,rowHeight:o,rowKey:a}=n;return t?l(k)[l(P)[e][a]]||t:o},onColumnSorted:S,onRowHovered:N,onRowExpanded:V,onRowsRendered:$,onRowHeightChange:G,scrollTo:T,scrollToLeft:H,scrollToTop:C,scrollToRow:I,onScroll:E,onVerticalScroll:M}}const Ze=Symbol("tableV2"),Je="tableV2GridScrollLeft",Qe=String,et={type:y(Array),required:!0},tt={type:y(Array)},lt={...tt,required:!0},ot=String,at={type:y(Array),default:()=>g([])},rt={type:Number,required:!0},nt={type:y([String,Number,Symbol]),default:"id"},st={type:y(Object)},it=x({class:String,columns:et,columnsStyles:{type:y(Object),required:!0},depth:Number,expandColumnKey:ot,estimatedRowHeight:{...fe.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:y(Function)},onRowHover:{type:y(Function)},onRowHeightChange:{type:y(Function)},rowData:{type:y(Object),required:!0},rowEventHandlers:{type:y(Object)},rowIndex:{type:Number,required:!0},rowKey:nt,style:{type:y(Object)}}),ct={type:Number,required:!0},dt=x({class:String,columns:et,fixedHeaderData:{type:y(Array)},headerData:{type:y(Array),required:!0},headerHeight:{type:y([Number,Array]),default:50},rowWidth:ct,rowHeight:{type:Number,default:50},height:ct,width:ct}),ut=x({columns:et,data:lt,fixedData:tt,estimatedRowHeight:it.estimatedRowHeight,width:rt,height:rt,headerWidth:rt,headerHeight:dt.headerHeight,bodyWidth:rt,rowHeight:rt,cache:we.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:fe.scrollbarAlwaysOn,scrollbarStartGap:fe.scrollbarStartGap,scrollbarEndGap:fe.scrollbarEndGap,class:Qe,style:st,containerStyle:st,getRowHeight:{type:y(Function),required:!0},rowKey:it.rowKey,onRowsRendered:{type:y(Function)},onScroll:{type:y(Function)}}),ht=x({cache:ut.cache,estimatedRowHeight:it.estimatedRowHeight,rowKey:nt,headerClass:{type:y([String,Function])},headerProps:{type:y([Object,Function])},headerCellProps:{type:y([Object,Function])},headerHeight:dt.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:y([String,Function])},rowProps:{type:y([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:y([Object,Function])},columns:et,data:lt,dataGetter:{type:y(Function)},fixedData:tt,expandColumnKey:it.expandColumnKey,expandedRowKeys:at,defaultExpandedRowKeys:at,class:Qe,fixed:Boolean,style:{type:y(Object)},width:rt,height:rt,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:fe.hScrollbarSize,vScrollbarSize:fe.vScrollbarSize,scrollbarAlwaysOn:pe.alwaysOn,sortBy:{type:y(Object),default:()=>({})},sortState:{type:y(Object),default:void 0},onColumnSort:{type:y(Function)},onExpandedRowsChange:{type:y(Function)},onEndReached:{type:y(Function)},onRowExpand:it.onRowExpand,onScroll:ut.onScroll,onRowsRendered:ut.onRowsRendered,rowEventHandlers:it.rowEventHandlers}),mt=({name:t,clearCache:o,getColumnPosition:n,getColumnStartIndexForOffset:s,getColumnStopIndexForStartIndex:d,getEstimatedTotalHeight:h,getEstimatedTotalWidth:m,getColumnOffset:f,getRowOffset:p,getRowPosition:g,getRowStartIndexForOffset:y,getRowStopIndexForStartIndex:x,initCache:O,injectToInstance:K,validateProps:L})=>b({name:null!=t?t:"ElVirtualList",props:fe,emits:[He,Ce],setup(t,{emit:b,expose:D,slots:W}){const A=w("vl");L(t);const z=r(),F=a(O(t,z));null==K||K(z,F);const k=a(),j=a(),V=a(),G=a(),N=a({isScrolling:!1,scrollLeft:i(t.initScrollLeft)?t.initScrollLeft:0,scrollTop:i(t.initScrollTop)?t.initScrollTop:0,updateRequested:!1,xAxisScrollDir:Ie,yAxisScrollDir:Ie}),$=ge(),P=e(()=>Number.parseInt(`${t.height}`,10)),B=e(()=>Number.parseInt(`${t.width}`,10)),q=e(()=>{const{totalColumn:e,totalRow:o,columnCache:a}=t,{isScrolling:r,xAxisScrollDir:n,scrollLeft:i}=l(N);if(0===e||0===o)return[0,0,0,0];const c=s(t,i,l(F)),u=d(t,c,i,l(F)),h=r&&n!==Le?1:Math.max(1,a),m=r&&n!==Ie?1:Math.max(1,a);return[Math.max(0,c-h),Math.max(0,Math.min(e-1,u+m)),c,u]}),Y=e(()=>{const{totalColumn:e,totalRow:o,rowCache:a}=t,{isScrolling:r,yAxisScrollDir:n,scrollTop:s}=l(N);if(0===e||0===o)return[0,0,0,0];const i=y(t,s,l(F)),c=x(t,i,s,l(F)),d=r&&n!==Le?1:Math.max(1,a),u=r&&n!==Ie?1:Math.max(1,a);return[Math.max(0,i-d),Math.max(0,Math.min(o-1,c+u)),i,c]}),U=e(()=>h(t,l(F))),X=e(()=>m(t,l(F))),_=e(()=>{var e;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:t.direction,height:i(t.height)?`${t.height}px`:t.height,width:i(t.width)?`${t.width}px`:t.width},null!=(e=t.style)?e:{}]}),Z=e(()=>{const e=`${l(X)}px`;return{height:`${l(U)}px`,pointerEvents:l(N).isScrolling?"none":void 0,width:e,margin:0,boxSizing:"border-box"}}),J=()=>{const{totalColumn:e,totalRow:o}=t;if(e>0&&o>0){const[e,t,o,a]=l(q),[r,n,s,i]=l(Y);b(He,{columnCacheStart:e,columnCacheEnd:t,rowCacheStart:r,rowCacheEnd:n,columnVisibleStart:o,columnVisibleEnd:a,rowVisibleStart:s,rowVisibleEnd:i})}const{scrollLeft:a,scrollTop:r,updateRequested:n,xAxisScrollDir:s,yAxisScrollDir:i}=l(N);b(Ce,{xAxisScrollDir:s,scrollLeft:a,yAxisScrollDir:i,scrollTop:r,updateRequested:n})},Q=e=>{const{clientHeight:o,clientWidth:a,scrollHeight:r,scrollLeft:n,scrollTop:s,scrollWidth:i}=e.currentTarget,d=l(N);if(d.scrollTop===s&&d.scrollLeft===n)return;let u=n;if(be(t.direction))switch(xe()){case Ke:u=-n;break;case De:u=i-a-n}N.value={...d,isScrolling:!0,scrollLeft:u,scrollTop:Math.max(0,Math.min(s,r-o)),updateRequested:!0,xAxisScrollDir:ye(d.scrollLeft,u),yAxisScrollDir:ye(d.scrollTop,s)},c(()=>ce()),de(),J()},ee=(e,t)=>{const o=l(P),a=(U.value-o)/t*e;oe({scrollTop:Math.min(U.value-o,a)})},te=(e,t)=>{const o=l(B),a=(X.value-o)/t*e;oe({scrollLeft:Math.min(X.value-o,a)})},{onWheel:le}=(({atXEndEdge:e,atXStartEdge:t,atYEndEdge:l,atYStartEdge:o},a)=>{let r=null,n=0,s=0;const i=(a,r)=>{const n=a<0&&t.value||a>0&&e.value,s=r<0&&o.value||r>0&&l.value;return n||s};return{hasReachedEdge:i,onWheel:e=>{Se(r);let t=e.deltaX,l=e.deltaY;Math.abs(t)>Math.abs(l)?l=0:t=0,e.shiftKey&&0!==l&&(t=l,l=0),i(t,l)||(n+=t,s+=l,e.preventDefault(),r=Te(()=>{a(n,s),n=0,s=0}))}}})({atXStartEdge:e(()=>N.value.scrollLeft<=0),atXEndEdge:e(()=>N.value.scrollLeft>=X.value-l(B)),atYStartEdge:e(()=>N.value.scrollTop<=0),atYEndEdge:e(()=>N.value.scrollTop>=U.value-l(P))},(e,t)=>{var o,a,r,n;null==(a=null==(o=j.value)?void 0:o.onMouseUp)||a.call(o),null==(n=null==(r=V.value)?void 0:r.onMouseUp)||n.call(r);const s=l(B),i=l(P);oe({scrollLeft:Math.min(N.value.scrollLeft+e,X.value-s),scrollTop:Math.min(N.value.scrollTop+t,U.value-i)})});v(k,"wheel",le,{passive:!1});const oe=({scrollLeft:e=N.value.scrollLeft,scrollTop:t=N.value.scrollTop})=>{e=Math.max(e,0),t=Math.max(t,0);const o=l(N);t===o.scrollTop&&e===o.scrollLeft||(N.value={...o,xAxisScrollDir:ye(o.scrollLeft,e),yAxisScrollDir:ye(o.scrollTop,t),scrollLeft:e,scrollTop:t,updateRequested:!0},c(()=>ce()),de(),J())},{touchStartX:ae,touchStartY:re,handleTouchStart:ne,handleTouchMove:se}=((e,t,o,r,n,s,i)=>{const c=a(0),d=a(0);let u,h=0,m=0;const f=e=>{Se(u),c.value=e.touches[0].clientX,d.value=e.touches[0].clientY,h=0,m=0},w=e=>{e.preventDefault(),Se(u),h+=c.value-e.touches[0].clientX,m+=d.value-e.touches[0].clientY,c.value=e.touches[0].clientX,d.value=e.touches[0].clientY,u=Te(()=>{const e=r.value-l(s),a=n.value-l(i),c=Math.min(t.value.scrollLeft+h,e),d=Math.min(t.value.scrollTop+m,a);o({scrollLeft:c,scrollTop:d}),h=0,m=0})};return v(e,"touchstart",f,{passive:!0}),v(e,"touchmove",w,{passive:!1}),{touchStartX:c,touchStartY:d,handleTouchStart:f,handleTouchMove:w}})(k,N,oe,X,U,B,P),ie=(e,a)=>{const{columnWidth:r,direction:s,rowHeight:i}=t,c=$.value(o&&r,o&&i,o&&s),d=`${e},${a}`;if(M(c,d))return c[d];{const[,o]=n(t,a,l(F)),r=l(F),i=be(s),[u,h]=g(t,e,r),[m]=n(t,a,r);return c[d]={position:"absolute",left:i?void 0:`${o}px`,right:i?`${o}px`:void 0,top:`${h}px`,height:`${u}px`,width:`${m}px`},c[d]}},ce=()=>{N.value.isScrolling=!1,c(()=>{$.value(-1,null,null)})};R(()=>{if(!S)return;const{initScrollLeft:e,initScrollTop:o}=t,a=l(k);a&&(i(e)&&(a.scrollLeft=e),i(o)&&(a.scrollTop=o)),J()});const de=()=>{const{direction:e}=t,{scrollLeft:o,scrollTop:a,updateRequested:r}=l(N),n=l(k);if(r&&n){if(e===Me)switch(xe()){case Ke:n.scrollLeft=-o;break;case Oe:n.scrollLeft=o;break;default:{const{clientWidth:e,scrollWidth:t}=n;n.scrollLeft=t-e-o;break}}else n.scrollLeft=Math.max(0,o);n.scrollTop=Math.max(0,a)}},{resetAfterColumnIndex:ue,resetAfterRowIndex:he,resetAfter:me}=z.proxy;D({windowRef:k,innerRef:G,getItemStyleCache:$,touchStartX:ae,touchStartY:re,handleTouchStart:ne,handleTouchMove:se,scrollTo:oe,scrollToItem:(e=0,o=0,a=Ee)=>{const r=l(N);o=Math.max(0,Math.min(o,t.totalColumn-1)),e=Math.max(0,Math.min(e,t.totalRow-1));const n=T(A.namespace.value),s=l(F),i=h(t,s),c=m(t,s);oe({scrollLeft:f(t,o,a,r.scrollLeft,s,c>t.width?n:0),scrollTop:p(t,e,a,r.scrollTop,s,i>t.height?n:0)})},states:N,resetAfterColumnIndex:ue,resetAfterRowIndex:he,resetAfter:me});const fe=()=>{const e=H(t.innerElement),o=(()=>{var e;const[o,a]=l(q),[r,n]=l(Y),{data:s,totalColumn:i,totalRow:c,useIsScrolling:d,itemKey:h}=t,m=[];if(c>0&&i>0)for(let t=r;t<=n;t++)for(let r=o;r<=a;r++){const o=h({columnIndex:r,data:s,rowIndex:t});m.push(u(E,{key:o},null==(e=W.default)?void 0:e.call(W,{columnIndex:r,data:s,isScrolling:d?l(N).isScrolling:void 0,style:ie(t,r),rowIndex:t})))}return m})();return[u(e,I(t.innerProps,{style:l(Z),ref:G}),C(e)?o:{default:()=>o})]};return()=>{const e=H(t.containerElement),{horizontalScrollbar:o,verticalScrollbar:a}=(()=>{const{scrollbarAlwaysOn:e,scrollbarStartGap:o,scrollbarEndGap:a,totalColumn:r,totalRow:n}=t,s=l(B),i=l(P),c=l(X),d=l(U),{scrollLeft:h,scrollTop:m}=l(N);return{horizontalScrollbar:u(ve,{ref:j,alwaysOn:e,startGap:o,endGap:a,class:A.e("horizontal"),clientSize:s,layout:"horizontal",onScroll:te,ratio:100*s/c,scrollFrom:h/(c-s),total:n,visible:!0}),verticalScrollbar:u(ve,{ref:V,alwaysOn:e,startGap:o,endGap:a,class:A.e("vertical"),clientSize:i,layout:"vertical",onScroll:ee,ratio:100*i/d,scrollFrom:m/(d-i),total:r,visible:!0})}})(),r=fe();return u("div",{key:0,class:A.e("wrapper"),role:t.role},[u(e,{class:t.className,style:l(_),onScroll:Q,ref:k},C(e)?r:{default:()=>r}),o,a])}}}),{max:ft,min:wt,floor:pt}=Math,gt={column:"columnWidth",row:"rowHeight"},yt={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},xt=(e,t,l,o)=>{const[a,r,n]=[l[o],e[gt[o]],l[yt[o]]];if(t>n){let e=0;if(n>=0){const t=a[n];e=t.offset+t.size}for(let l=n+1;l<=t;l++){const t=r(l);a[l]={offset:e,size:t},e+=t}l[yt[o]]=t}return a[t]},vt=(e,t,l,o,a,r)=>{for(;l<=o;){const n=l+pt((o-l)/2),s=xt(e,n,t,r).offset;if(s===a)return n;s<a?l=n+1:o=n-1}return ft(0,l-1)},bt=(e,t,l,o)=>{const[a,r]=[t[o],t[yt[o]]];return(r>0?a[r].offset:0)>=l?vt(e,t,0,r,l,o):((e,t,l,o,a)=>{const r="column"===a?e.totalColumn:e.totalRow;let n=1;for(;l<r&&xt(e,l,t,a).offset<o;)l+=n,n*=2;return vt(e,t,pt(l/2),wt(l,r-1),o,a)})(e,t,ft(0,r),l,o)},Rt=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:l,row:o})=>{let a=0;if(l>=e&&(l=e-1),l>=0){const e=o[l];a=e.offset+e.size}return a+(e-l-1)*t},St=({totalColumn:e},{column:t,estimatedColumnWidth:l,lastVisitedColumnIndex:o})=>{let a=0;if(o>e&&(o=e-1),o>=0){const e=t[o];a=e.offset+e.size}return a+(e-o-1)*l},Tt={column:St,row:Rt},Ht=(e,t,l,o,a,r,n)=>{const[s,i]=["row"===r?e.height:e.width,Tt[r]],c=xt(e,t,a,r),d=i(e,a),u=ft(0,wt(d-s,c.offset)),h=ft(0,c.offset-s+n+c.size);switch(l===ke&&(l=o>=h-s&&o<=u+s?Ee:Ae),l){case Fe:return u;case ze:return h;case Ae:return Math.round(h+(u-h)/2);default:return o>=h&&o<=u?o:h>u||o<h?h:u}},Ct=mt({name:"ElDynamicSizeGrid",getColumnPosition:(e,t,l)=>{const o=xt(e,t,l,"column");return[o.size,o.offset]},getRowPosition:(e,t,l)=>{const o=xt(e,t,l,"row");return[o.size,o.offset]},getColumnOffset:(e,t,l,o,a,r)=>Ht(e,t,l,o,a,"column",r),getRowOffset:(e,t,l,o,a,r)=>Ht(e,t,l,o,a,"row",r),getColumnStartIndexForOffset:(e,t,l)=>bt(e,l,t,"column"),getColumnStopIndexForStartIndex:(e,t,l,o)=>{const a=xt(e,t,o,"column"),r=l+e.width;let n=a.offset+a.size,s=t;for(;s<e.totalColumn-1&&n<r;)s++,n+=xt(e,t,o,"column").size;return s},getEstimatedTotalHeight:Rt,getEstimatedTotalWidth:St,getRowStartIndexForOffset:(e,t,l)=>bt(e,l,t,"row"),getRowStopIndexForStartIndex:(e,t,l,o)=>{const{totalRow:a,height:r}=e,n=xt(e,t,o,"row"),s=l+r;let i=n.size+n.offset,c=t;for(;c<a-1&&i<s;)c++,i+=xt(e,c,o,"row").size;return c},injectToInstance:(e,t)=>{const l=({columnIndex:l,rowIndex:o},a)=>{var r,n;a=!!O(a)||a,i(l)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,l-1)),i(o)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,o-1)),null==(r=e.exposed)||r.getItemStyleCache.value(-1,null,null),a&&(null==(n=e.proxy)||n.$forceUpdate())};Object.assign(e.proxy,{resetAfterColumnIndex:(e,t)=>{l({columnIndex:e},t)},resetAfterRowIndex:(e,t)=>{l({rowIndex:e},t)},resetAfter:l})},initCache:({estimatedColumnWidth:e=We,estimatedRowHeight:t=We})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{}}),It=mt({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:l},o,a,r,n,s)=>{l=Number(l);const i=Math.max(0,e*t-l),c=Math.min(i,o*t),d=Math.max(0,o*t-l+s+t);switch("smart"===a&&(a=r>=d-l&&r<=c+l?Ee:Ae),a){case Fe:return c;case ze:return d;case Ae:{const e=Math.round(d+(c-d)/2);return e<Math.ceil(l/2)?0:e>i+Math.floor(l/2)?i:e}default:return r>=d&&r<=c?r:d>c||r<d?d:c}},getRowOffset:({rowHeight:e,height:t,totalRow:l},o,a,r,n,s)=>{t=Number(t);const i=Math.max(0,l*e-t),c=Math.min(i,o*e),d=Math.max(0,o*e-t+s+e);switch(a===ke&&(a=r>=d-t&&r<=c+t?Ee:Ae),a){case Fe:return c;case ze:return d;case Ae:{const e=Math.round(d+(c-d)/2);return e<Math.ceil(t/2)?0:e>i+Math.floor(t/2)?i:e}default:return r>=d&&r<=c?r:d>c||r<d?d:c}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},l)=>Math.max(0,Math.min(t-1,Math.floor(l/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:l},o,a)=>{const r=o*e,n=Math.ceil((l+a-r)/e);return Math.max(0,Math.min(t-1,o+n-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},l)=>Math.max(0,Math.min(t-1,Math.floor(l/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:l},o,a)=>{const r=o*e,n=Math.ceil((l+a-r)/e);return Math.max(0,Math.min(t-1,o+n-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}}),Et=b({name:"ElTableV2Header",props:dt,setup(t,{slots:o,expose:r}){const n=w("table-v2"),s=K(Je),i=a(),d=e(()=>Ue({width:t.width,height:t.height})),u=e(()=>Ue({width:t.rowWidth,height:t.height})),h=e(()=>W(l(t.headerHeight))),m=e=>{const t=l(i);c(()=>{(null==t?void 0:t.scroll)&&t.scroll({left:e})})},f=()=>{const e=n.e("fixed-header-row"),{columns:l,fixedHeaderData:a,rowHeight:r}=t;return null==a?void 0:a.map((t,a)=>{var n;const s=Ue({height:r,width:"100%"});return null==(n=o.fixed)?void 0:n.call(o,{class:e,columns:l,rowData:t,rowIndex:-(a+1),style:s})})},p=()=>{const e=n.e("dynamic-header-row"),{columns:a}=t;return l(h).map((t,l)=>{var r;const n=Ue({width:"100%",height:t});return null==(r=o.dynamic)?void 0:r.call(o,{class:e,columns:a,headerIndex:l,style:n})})};return L(()=>{(null==s?void 0:s.value)&&m(s.value)}),r({scrollToLeft:m}),()=>{if(!(t.height<=0))return D("div",{ref:i,class:t.class,style:l(d),role:"rowgroup"},[D("div",{style:l(u),class:n.e("header")},[p(),f()])])}}}),Mt=b({name:"ElTableV2Grid",props:ut,setup(r,{slots:n,expose:s}){const{ns:d}=K(Ze),{bodyRef:u,fixedRowHeight:h,gridHeight:m,hasHeader:f,headerRef:w,headerHeight:p,totalHeight:g,forceUpdate:y,itemKey:x,onItemRendered:v,resetAfterRowIndex:b,scrollTo:R,scrollToTop:S,scrollToRow:T,scrollLeft:H}=(r=>{const n=a(),s=a(),c=a(0),d=e(()=>{const{data:e,rowHeight:t,estimatedRowHeight:l}=r;if(!l)return e.length*t}),u=e(()=>{const{fixedData:e,rowHeight:t}=r;return((null==e?void 0:e.length)||0)*t}),h=e(()=>qe(r.headerHeight)),m=e(()=>{const{height:e}=r;return Math.max(0,e-l(h)-l(u))}),f=e(()=>l(h)+l(u)>0);function w(e,o){const a=l(n),r=l(s);t(e)?(null==a||a.scrollToLeft(e.scrollLeft),c.value=e.scrollLeft,null==r||r.scrollTo(e)):(null==a||a.scrollToLeft(e),c.value=e,null==r||r.scrollTo({scrollLeft:e,scrollTop:o}))}return o(()=>r.bodyWidth,()=>{var e;i(r.estimatedRowHeight)&&(null==(e=s.value)||e.resetAfter({columnIndex:0},!1))}),{bodyRef:s,forceUpdate:function(){var e,t;null==(e=l(s))||e.$forceUpdate(),null==(t=l(n))||t.$forceUpdate()},fixedRowHeight:u,gridHeight:m,hasHeader:f,headerHeight:h,headerRef:n,totalHeight:d,itemKey:({data:e,rowIndex:t})=>e[t][r.rowKey],onItemRendered:function({rowCacheStart:e,rowCacheEnd:t,rowVisibleStart:l,rowVisibleEnd:o}){var a;null==(a=r.onRowsRendered)||a.call(r,{rowCacheStart:e,rowCacheEnd:t,rowVisibleStart:l,rowVisibleEnd:o})},resetAfterRowIndex:function(e,t){var l;null==(l=s.value)||l.resetAfterRowIndex(e,t)},scrollTo:w,scrollToTop:function(e){var t;null==(t=l(s))||t.scrollTo({scrollTop:e})},scrollToRow:function(e,t){const o=l(s);if(!o)return;const a=c.value;o.scrollToItem(e,0,t),a&&w({scrollLeft:a})},scrollLeft:c}})(r);z(Je,H),A(async()=>{var e;await c();const t=null==(e=u.value)?void 0:e.states.scrollTop;t&&S(Math.round(t)+1)}),s({forceUpdate:y,totalHeight:g,scrollTo:R,scrollToTop:S,scrollToRow:T,resetAfterRowIndex:b});const C=()=>r.bodyWidth;return()=>{const{cache:e,columns:t,data:o,fixedData:a,useIsScrolling:s,scrollbarAlwaysOn:c,scrollbarEndGap:g,scrollbarStartGap:y,style:b,rowHeight:R,bodyWidth:S,estimatedRowHeight:T,headerWidth:H,height:I,width:E,getRowHeight:M,onScroll:O}=r,K=i(T),L=K?Ct:It,W=l(p);return D("div",{role:"table",class:[d.e("table"),r.class],style:b},[D(L,{ref:u,data:o,useIsScrolling:s,itemKey:x,columnCache:0,columnWidth:K?C:S,totalColumn:1,totalRow:o.length,rowCache:e,rowHeight:K?M:R,width:E,height:l(m),class:d.e("body"),role:"rowgroup",scrollbarStartGap:y,scrollbarEndGap:g,scrollbarAlwaysOn:c,onScroll:O,onItemRendered:v,perfMode:!1},{default:e=>{var l;const a=o[e.rowIndex];return null==(l=n.row)?void 0:l.call(n,{...e,columns:t,rowData:a})}}),l(f)&&D(Et,{ref:w,class:d.e("header-wrapper"),columns:t,headerData:o,headerHeight:r.headerHeight,fixedHeaderData:a,rowWidth:H,rowHeight:R,width:E,height:Math.min(W+l(h),I)},{dynamic:n.header,fixed:n.row})])}}});const Ot=(e,{slots:t})=>{const{mainTableRef:l,...o}=e;return D(Mt,I({ref:l},o),"function"==typeof(a=t)||"[object Object]"===Object.prototype.toString.call(a)&&!m(a)?t:{default:()=>[t]});var a};const Kt=(e,{slots:t})=>{if(!e.columns.length)return;const{leftTableRef:l,...o}=e;return D(Mt,I({ref:l},o),"function"==typeof(a=t)||"[object Object]"===Object.prototype.toString.call(a)&&!m(a)?t:{default:()=>[t]});var a};const Lt=(e,{slots:t})=>{if(!e.columns.length)return;const{rightTableRef:l,...o}=e;return D(Mt,I({ref:l},o),"function"==typeof(a=t)||"[object Object]"===Object.prototype.toString.call(a)&&!m(a)?t:{default:()=>[t]});var a},Dt=t=>{const{isScrolling:o}=K(Ze),r=a(!1),n=a(),s=e(()=>i(t.estimatedRowHeight)&&t.rowIndex>=0),d=e(()=>{const{rowData:e,rowIndex:l,rowKey:o,onRowHover:a}=t,r=t.rowEventHandlers||{},n={};return Object.entries(r).forEach(([t,a])=>{f(a)&&(n[t]=t=>{a({event:t,rowData:e,rowIndex:l,rowKey:o})})}),a&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:t,hovered:r})=>{const s=n[t];n[t]=t=>{a({event:t,hovered:r,rowData:e,rowIndex:l,rowKey:o}),null==s||s(t)}}),n});return R(()=>{l(s)&&((e=!1)=>{const o=l(n);if(!o)return;const{columns:a,onRowHeightChange:s,rowKey:i,rowIndex:d,style:u}=t,{height:h}=o.getBoundingClientRect();r.value=!0,c(()=>{if(e||h!==Number.parseInt(u.height)){const e=a[0],t=(null==e?void 0:e.placeholderSign)===$e;null==s||s({rowKey:i,height:h,rowIndex:d},e&&!t&&e.fixed)}})})(!0)}),{isScrolling:o,measurable:s,measured:r,rowRef:n,eventHandlers:d,onExpand:e=>{const{onRowExpand:l,rowData:o,rowIndex:a,rowKey:r}=t;null==l||l({expanded:e,rowData:o,rowIndex:a,rowKey:r})}}},Wt=b({name:"ElTableV2TableRow",props:it,setup(e,{expose:t,slots:o,attrs:a}){const{eventHandlers:r,isScrolling:n,measurable:s,measured:i,rowRef:c,onExpand:u}=Dt(e);return t({onExpand:u}),()=>{const{columns:t,columnsStyles:h,expandColumnKey:m,depth:f,rowData:w,rowIndex:p,style:g}=e;let y=t.map((e,a)=>{const r=d(w.children)&&w.children.length>0&&e.key===m;return o.cell({column:e,columns:t,columnIndex:a,depth:f,style:h[e.key],rowData:w,rowIndex:p,isScrolling:l(n),expandIconProps:r?{rowData:w,rowIndex:p,onExpand:u}:void 0})});if(o.row&&(y=o.row({cells:y.map(e=>d(e)&&1===e.length?e[0]:e),style:g,columns:t,depth:f,rowData:w,rowIndex:p,isScrolling:l(n)})),l(s)){const{height:t,...o}=g||{},n=l(i);return D("div",I({ref:c,class:e.class,style:n?g:o,role:"row"},a,l(r)),[y])}return D("div",I(a,{ref:c,class:e.class,style:g,role:"row"},l(r)),[y])}}});const At=(e,{slots:t})=>{const{columns:l,columnsStyles:o,depthMap:a,expandColumnKey:r,expandedRowKeys:n,estimatedRowHeight:s,hasFixedColumns:i,rowData:c,rowIndex:d,style:u,isScrolling:h,rowProps:f,rowClass:w,rowKey:p,rowEventHandlers:g,ns:y,onRowHovered:x,onRowExpanded:v}=e,b=Ye(w,{columns:l,rowData:c,rowIndex:d},""),R=Ye(f,{columns:l,rowData:c,rowIndex:d}),S=c[p],T=a[S]||0,H=Boolean(r),C=d<0,E=[y.e("row"),b,y.is("expanded",H&&n.includes(S)),y.is("fixed",!T&&C),y.is("customized",Boolean(t.row)),{[y.e(`row-depth-${T}`)]:H&&d>=0}],M=i?x:void 0,O={...R,columns:l,columnsStyles:o,class:E,depth:T,expandColumnKey:r,estimatedRowHeight:C?void 0:s,isScrolling:h,rowIndex:d,rowData:c,rowKey:S,rowEventHandlers:g,style:u};return D(Wt,I(O,{onRowExpand:v,onMouseenter:e=>{null==M||M({hovered:!0,rowKey:S,event:e,rowData:c,rowIndex:d})},onMouseleave:e=>{null==M||M({hovered:!1,rowKey:S,event:e,rowData:c,rowIndex:d})},rowkey:S}),"function"==typeof(K=t)||"[object Object]"===Object.prototype.toString.call(K)&&!m(K)?t:{default:()=>[t]});var K},zt=(e,{slots:t})=>{var l;const{cellData:o,style:a}=e,r=(null==(l=null==o?void 0:o.toString)?void 0:l.call(o))||"",n=F(t,"default",e,()=>[r]);return D("div",{class:e.class,title:r,style:a},[n])};zt.displayName="ElTableV2Cell",zt.inheritAttrs=!1;const Ft=e=>{const{expanded:t,expandable:l,onExpand:o,style:a,size:r,ariaLabel:n}=e,s={onClick:l?()=>o(!t):void 0,ariaLabel:n,ariaExpanded:t,class:e.class};return D("button",I(s,{type:"button"}),[D(k,{size:r,style:a},{default:()=>[D(j,null,null)]})])};Ft.inheritAttrs=!1;const kt=({columns:e,column:l,columnIndex:o,depth:a,expandIconProps:r,isScrolling:n,rowData:s,rowIndex:i,style:c,expandedRowKeys:d,ns:u,t:h,cellProps:m,expandColumnKey:w,indentSize:p,iconSize:g,rowKey:y},{slots:x})=>{const v=Ue(c);if(l.placeholderSign===$e)return D("div",{class:u.em("row-cell","placeholder"),style:v},null);const{cellRenderer:b,dataKey:R,dataGetter:S}=l,T=f(S)?S({columns:e,column:l,columnIndex:o,rowData:s,rowIndex:i}):V(s,null!=R?R:""),H=Ye(m,{cellData:T,columns:e,column:l,columnIndex:o,rowIndex:i,rowData:s}),C={class:u.e("cell-text"),columns:e,column:l,columnIndex:o,cellData:T,isScrolling:n,rowData:s,rowIndex:i},E=Xe(b),M=E?E(C):F(x,"default",C,()=>[D(zt,C,null)]),O=[u.e("row-cell"),l.class,l.align===Ve.CENTER&&u.is("align-center"),l.align===Ve.RIGHT&&u.is("align-right")],K=i>=0&&w&&l.key===w,L=i>=0&&d.includes(s[y]);let W;const A=`margin-inline-start: ${a*p}px;`;return K&&(W=t(r)?D(Ft,I(r,{class:[u.e("expand-icon"),u.is("expanded",L)],size:g,expanded:L,ariaLabel:h(L?"el.table.collapseRowLabel":"el.table.expandRowLabel"),style:A,expandable:!0}),null):D("div",{style:[A,`width: ${g}px; height: ${g}px;`].join(" ")},null)),D("div",I({class:O,style:v},H,{role:"cell"}),[W,M])};kt.inheritAttrs=!1;const jt=x({class:String,columns:et,columnsStyles:{type:y(Object),required:!0},headerIndex:Number,style:{type:y(Object)}}),Vt=b({name:"ElTableV2HeaderRow",props:jt,setup:(e,{slots:t})=>()=>{const{columns:l,columnsStyles:o,headerIndex:a,style:r}=e;let n=l.map((e,r)=>t.cell({columns:l,column:e,columnIndex:r,headerIndex:a,style:o[e.key]}));return t.header&&(n=t.header({cells:n.map(e=>d(e)&&1===e.length?e[0]:e),columns:l,headerIndex:a})),D("div",{class:e.class,style:r,role:"row"},[n])}});const Gt=({columns:e,columnsStyles:t,headerIndex:l,style:o,headerClass:a,headerProps:r,ns:n},{slots:s})=>{const i={columns:e,headerIndex:l},c=[n.e("header-row"),Ye(a,i,""),n.is("customized",Boolean(s.header))],d={...Ye(r,i),columnsStyles:t,class:c,columns:e,headerIndex:l,style:o};return D(Vt,d,"function"==typeof(u=s)||"[object Object]"===Object.prototype.toString.call(u)&&!m(u)?s:{default:()=>[s]});var u},Nt=(e,{slots:t})=>F(t,"default",e,()=>{var t,l;return[D("div",{class:e.class,title:null==(t=e.column)?void 0:t.title},[null==(l=e.column)?void 0:l.title])]});Nt.displayName="ElTableV2HeaderCell",Nt.inheritAttrs=!1;const $t=e=>{const{sortOrder:t}=e;return D("button",{type:"button","aria-label":e.ariaLabel,class:e.class},[D(k,{size:14},{default:()=>[t===je.ASC?D(G,null,null):D(N,null,null)]})])},Pt=(e,{slots:t})=>{const{column:l,ns:o,t:a,style:r,onColumnSorted:n}=e,s=Ue(r);if(l.placeholderSign===$e)return D("div",{class:o.em("header-row-cell","placeholder"),style:s},null);const{headerCellRenderer:i,headerClass:c,sortable:d}=l,u={...e,class:o.e("header-cell-text")},h=Xe(i),m=h?h(u):F(t,"default",u,()=>[D(Nt,u,null)]),{sortBy:f,sortState:w,headerCellProps:p}=e;let g,y,x;if(w){const e=w[l.key];g=Boolean(Ne[e]),y=g?e:je.ASC}else g=l.key===f.key,y=g?f.order:je.ASC;x=y===je.ASC?"ascending":y===je.DESC?"descending":void 0;const v=[o.e("header-cell"),Ye(c,e,""),l.align===Ve.CENTER&&o.is("align-center"),l.align===Ve.RIGHT&&o.is("align-right"),d&&o.is("sortable")],b={...Ye(p,e),onClick:l.sortable?n:void 0,ariaSort:d?x:void 0,class:v,style:s,"data-key":l.key};return D("div",I(b,{role:"columnheader"}),[m,d&&D($t,{class:[o.e("sort-icon"),g&&o.is("sorting")],sortOrder:y,ariaLabel:a("el.table.sortLabel",{column:l.title||""})},null)])},Bt=(e,{slots:t})=>{var l;return D("div",{class:e.class,style:e.style},[null==(l=t.default)?void 0:l.call(t)])};Bt.displayName="ElTableV2Footer";const qt=(e,{slots:t})=>{const l=F(t,"default",{},()=>[D(Re,null,null)]);return D("div",{class:e.class,style:e.style},[l])};qt.displayName="ElTableV2Empty";const Yt=(e,{slots:t})=>{var l;return D("div",{class:e.class,style:e.style},[null==(l=t.default)?void 0:l.call(t)])};function Ut(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!m(e)}Yt.displayName="ElTableV2Overlay";const Xt=b({name:"ElTableV2",props:ht,setup(e,{slots:t,expose:o}){const a=w("table-v2"),{t:r}=$(),{columnsStyles:n,fixedColumnsOnLeft:s,fixedColumnsOnRight:i,mainColumns:c,mainTableHeight:d,fixedTableHeight:u,leftTableWidth:h,rightTableWidth:m,data:f,depthMap:p,expandedRowKeys:g,hasFixedColumns:y,mainTableRef:x,leftTableRef:v,rightTableRef:b,isDynamic:R,isResetting:S,isScrolling:T,bodyWidth:H,emptyStyle:C,rootStyle:E,footerHeight:M,showEmpty:O,scrollTo:K,scrollToLeft:L,scrollToTop:W,scrollToRow:A,getRowHeight:F,onColumnSorted:k,onRowHeightChange:j,onRowHovered:V,onRowExpanded:G,onRowsRendered:N,onScroll:P,onVerticalScroll:B}=_e(e);return o({scrollTo:K,scrollToLeft:L,scrollToTop:W,scrollToRow:A}),z(Ze,{ns:a,isResetting:S,isScrolling:T}),()=>{const{cache:o,cellProps:w,estimatedRowHeight:S,expandColumnKey:T,fixedData:K,headerHeight:L,headerClass:W,headerProps:A,headerCellProps:z,sortBy:$,sortState:q,rowHeight:Y,rowClass:U,rowEventHandlers:X,rowKey:_,rowProps:Z,scrollbarAlwaysOn:J,indentSize:Q,iconSize:ee,useIsScrolling:te,vScrollbarSize:le,width:oe}=e,ae=l(f),re={cache:o,class:a.e("main"),columns:l(c),data:ae,fixedData:K,estimatedRowHeight:S,bodyWidth:l(H),headerHeight:L,headerWidth:l(H),height:l(d),mainTableRef:x,rowKey:_,rowHeight:Y,scrollbarAlwaysOn:J,scrollbarStartGap:2,scrollbarEndGap:le,useIsScrolling:te,width:oe,getRowHeight:F,onRowsRendered:N,onScroll:P},ne=l(h),se=l(u),ie={cache:o,class:a.e("left"),columns:l(s),data:ae,fixedData:K,estimatedRowHeight:S,leftTableRef:v,rowHeight:Y,bodyWidth:ne,headerWidth:ne,headerHeight:L,height:se,rowKey:_,scrollbarAlwaysOn:J,scrollbarStartGap:2,scrollbarEndGap:le,useIsScrolling:te,width:ne,getRowHeight:F,onScroll:B},ce=l(m),de={cache:o,class:a.e("right"),columns:l(i),data:ae,fixedData:K,estimatedRowHeight:S,rightTableRef:b,rowHeight:Y,bodyWidth:ce,headerWidth:ce,headerHeight:L,height:se,rowKey:_,scrollbarAlwaysOn:J,scrollbarStartGap:2,scrollbarEndGap:le,width:ce,style:`${a.cssVarName("table-scrollbar-size")}: ${le}px`,useIsScrolling:te,getRowHeight:F,onScroll:B},ue=l(n),he={ns:a,depthMap:l(p),columnsStyles:ue,expandColumnKey:T,expandedRowKeys:l(g),estimatedRowHeight:S,hasFixedColumns:l(y),rowProps:Z,rowClass:U,rowKey:_,rowEventHandlers:X,onRowHovered:V,onRowExpanded:G,onRowHeightChange:j},me={cellProps:w,expandColumnKey:T,indentSize:Q,iconSize:ee,rowKey:_,expandedRowKeys:l(g),ns:a,t:r},fe={ns:a,headerClass:W,headerProps:A,columnsStyles:ue},we={ns:a,t:r,sortBy:$,sortState:q,headerCellProps:z,onColumnSorted:k},pe={row:e=>D(At,I(e,he),{row:t.row,cell:e=>{let l;return t.cell?D(kt,I(e,me,{style:ue[e.column.key]}),Ut(l=t.cell(e))?l:{default:()=>[l]}):D(kt,I(e,me,{style:ue[e.column.key]}),null)}}),header:e=>D(Gt,I(e,fe),{header:t.header,cell:e=>{let l;return t["header-cell"]?D(Pt,I(e,we,{style:ue[e.column.key]}),Ut(l=t["header-cell"](e))?l:{default:()=>[l]}):D(Pt,I(e,we,{style:ue[e.column.key]}),null)}})},ge=[e.class,a.b(),a.e("root"),a.is("dynamic",l(R))],ye={class:a.e("footer"),style:l(M)};return D("div",{class:ge,style:l(E)},[D(Ot,re,Ut(pe)?pe:{default:()=>[pe]}),D(Kt,ie,Ut(pe)?pe:{default:()=>[pe]}),D(Lt,de,Ut(pe)?pe:{default:()=>[pe]}),t.footer&&D(Bt,ye,{default:t.footer}),l(O)&&D(qt,{class:a.e("empty"),style:l(C)},{default:t.empty}),t.overlay&&D(Yt,{class:a.e("overlay")},{default:t.overlay})])}}}),_t=x({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:y(Function)}}),Zt=b({name:"ElAutoResizer",props:_t,setup(e,{slots:t}){const l=w("auto-resizer"),{height:r,width:n,sizer:s}=(e=>{const t=a(),l=a(0),r=a(0);let n;return R(()=>{n=P(t,([e])=>{const{width:t,height:o}=e.contentRect,{paddingLeft:a,paddingRight:n,paddingTop:s,paddingBottom:i}=getComputedStyle(e.target),c=Number.parseInt(a)||0,d=Number.parseInt(n)||0,u=Number.parseInt(s)||0,h=Number.parseInt(i)||0;l.value=t-c-d,r.value=o-u-h}).stop}),B(()=>{null==n||n()}),o([l,r],([t,l])=>{var o;null==(o=e.onResize)||o.call(e,{width:t,height:l})}),{sizer:t,width:l,height:r}})(e),i={width:"100%",height:"100%"};return()=>{var e;return D("div",{ref:s,class:l.b(),style:i},[null==(e=t.default)?void 0:e.call(t,{height:r.value,width:n.value})])}}}),Jt=q(Xt),Qt=q(Zt),el={key:0,class:"h-full flex flex-col items-center justify-center pt-100px"},tl={key:0,src:ie,alt:""},ll={key:1,src:ce,alt:""},ol={key:2,class:"mt-10px"},al={key:1},rl=me(b({__name:"index",props:{columns:{},data:{},showEmptyText:{type:Boolean},emptyText:{default:""},showFooter:{type:Boolean,default:!1},footText:{default:""},rowHeight:{default:50},headerHeight:{default:32},headerClass:{default:""},footerHeight:{default:0},loading:{type:Boolean},fixed:{type:Boolean},rowKey:{default:"id"},rowClass:{default:""}},emits:["endReached"],setup(t,{expose:o,emit:a}){const{t:r}=Y(),n=t,s=a,i=U(),c=X(),d=_(),u=Z("tableRef");o({scrollTo:(...e)=>{var t,l;null==(l=null==(t=u.value)?void 0:t.scrollTo)||l.call(t,...e)},scrollToLeft:(...e)=>{var t,l;null==(l=null==(t=u.value)?void 0:t.scrollToLeft)||l.call(t,...e)},scrollToTop:(...e)=>{var t,l;null==(l=null==(t=u.value)?void 0:t.scrollToTop)||l.call(t,...e)},scrollToRow:(...e)=>{var t,l;null==(l=null==(t=u.value)?void 0:t.scrollToRow)||l.call(t,...e)}});const{width:h}=J(u),m=["empty","footer","overlay","row","cell","header-cell"],f=e(()=>{const e={};for(const t of m)i[t]&&(e[t]=i[t]);return e}),w=e(()=>{const e=function(){const e=n.columns.reduce((e,t)=>e+t.minWidth,0);if(e>=h.value)return n.columns.map(e=>e.minWidth);const t=(h.value-6-e)/n.columns.length;return n.columns.map(e=>e.minWidth+t)}();return n.columns.map((t,l)=>{const o=i[`cell-${t.key}`]||i[`cell-${t.dataKey}`],a=i[`header-${t.key}`]||i[`header-${t.dataKey}`];return{...t,cellRenderer:o?({rowData:e,column:t,rowIndex:l,columnIndex:a})=>o({row:e,column:t,rowIndex:l,columnIndex:a}):t.cellRenderer,headerCellRenderer:a?({column:e})=>a({column:e}):t.headerCellRenderer,width:e[l]}})});return(e,o)=>{const a=Jt,n=Qt;return ee(),Q(n,null,{default:te(({height:n,width:i})=>[D(a,I({ref_key:"tableRef",ref:u,rowKey:t.rowKey,class:"el-table",style:{"--el-table-border":"0","--el-bg-color":"transparent","font-size":"12px"},"header-class":`bg-[--main-list-header-bg] ${t.headerClass}`,"header-height":t.headerHeight,columns:l(w),data:t.data,height:n,width:i,"footer-height":t.footerHeight},l(c),{fixed:t.fixed,"row-height":t.rowHeight,"row-class":t.rowClass,onEndReached:o[0]||(o[0]=e=>s("endReached",e))}),le({_:2},[oe(l(f),(t,l)=>({name:l,fn:te(t=>[F(e.$slots,l,ae(re(t)),void 0,!0)])})),l(f).empty?void 0:{name:"empty",fn:te(()=>[t.loading?(ee(),ne("span",al)):(ee(),ne("div",el,["light"===l(d).theme?(ee(),ne("img",tl)):(ee(),ne("img",ll)),t.showEmptyText?(ee(),ne("span",ol,de(t.emptyText||l(r)("emptyNoData")),1)):se("",!0)]))]),key:"0"},t.data.length>0&&t.showFooter?{name:"footer",fn:te(()=>[ue("div",{class:he(["text-center px-0 pt-15px pb-10px text-12px text-[--third-text] absolute w-100%",`top-${t.rowHeight}px`])},de(t.footText||l(r)("loading")),3)]),key:"1"}:void 0]),1040,["rowKey","header-class","header-height","columns","data","height","width","footer-height","fixed","row-height","row-class"])]),_:3})}}}),[["__scopeId","data-v-1c78b276"]]);export{rl as _};

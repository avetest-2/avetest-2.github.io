import{av as e,dE as t,bF as s,qG as a,a7 as i,c as r,o,b as l,a as p,aa as n,d as m,t as d,J as c,S as x,F as u,aw as v,M as j,L as b,E as g,a5 as f,a6 as w,K as h,ay as _,bN as y,bJ as k}from"./pxHhHUe5.js";import{u as E,_ as S,a as C}from"./C0-F8uRa.js";import{g as F,a as M}from"./D1QVY1FE.js";import{u as q}from"./BkbEpA73.js";import"./X1MX9tB7.js";import"./DlhmlHT6.js";import"./uG3PizZo.js";import"./xG3n2otq.js";import"./DU6RBO19.js";import"./Dg9iiSr_.js";import"./Bd4n395U.js";import"./DrRY09yo.js";import"./BgFcDzLH.js";import"./B3CwgMQF.js";import"./3zf6s2PU.js";import"./D5SrGyNL.js";import"./oM4-4KJQ.js";import"./CJr2h2LL.js";import"./BwPtREp8.js";import"./BC28JpVo.js";import"./Ss6PgMLe.js";import"./CAY6cvuw.js";import"./b94L9vb_.js";import"./CU9NKK_R.js";import"./DaNJHyoY.js";import"./AeiRVpKC.js";import"./Ca4NtERO.js";import"./mY5Y9jID.js";import"./Cx8PcgYp.js";import"./BeXmGP7f.js";import"./Dkz-6Ico.js";import"./DfqZGjWd.js";import"./QBsq1rEg.js";import"./Brqh9oRf.js";import"./CthYtH4c.js";import"./DQmdIPac.js";import"./B-rSTJlV.js";/* empty css        */import"./EKWuchHU.js";import"./B2dydDoX.js";import"./0bIh-WbU.js";import"./DA_jZJeZ.js";const z={class:"flex items-center pb-14px border-b-1px border-b-solid border-b-[--border] mb-12px"},I={class:"flex justify-between items-center gap-16px mb-16px"},Y={class:"flex items-center gap-12px"},$={class:"flex justify-between items-center"},J={class:"min-w-0 flex-1 flex items-center gap-7px"},K={class:"flex-1 min-w-0"},L={class:"gap-8px flex items-center min-w-0"},T={key:0,width:12,src:S,alt:""},A={class:"text-12px color-[--secondary-text]"},G={key:0,class:"text-14px lh-20px color-[--main-text] mt-16px"},H={ref:"parent",class:"overflow-y-auto scrollbar-hide",style:{height:"calc(100% - 120px)"}},N=["data-index"],P={key:0,class:"border-1px border-solid border-[--dialog-divider] rounded-8px px-12px pt-16px ml-40px mb-16px"},R={__name:"authorIndex",setup(S){const{t:R}=e(),V=q(),W=t("twitter_author_id"),X=u({}),Z=u({loading:!1,finished:!1,page_token:""}),B=_([]),D=s("parent"),O=E(g(()=>({count:B.value.length,getScrollElement:()=>D.value,estimateSize:()=>200,overscan:5,gap:16}))),Q=g(()=>O.value.getVirtualItems()),U=g(()=>O.value.getTotalSize());a(D,k(()=>{te()},100),{distance:100});const ee=e=>B.value[e.index]||{};!async function(){const e=await F(W.value);X.value=e}();const te=async()=>{if(!Z.value.loading&&!Z.value.finished){Z.value.loading=!0;try{const e=await M(W.value,Z.value.page_token);Z.value.page_token=e.page_token||"";const t=e.list||[];Z.value.finished=!e.page_token,Z.value.page_token||Z.value.finished?B.value=[...B.value,...t]:B.value=t,y(B)}catch(e){}finally{Z.value.loading=!1}}};te();return(e,t)=>{const s=n,a=v,u=i("tooltip");return o(),r("div",{class:h(["w-full h-full bg-[--secondary-bg] p-12px",{"pr-16px":c(V).isLeftFixed,"pl-16px":c(V).isRightFixed}])},[l(s,{name:"custom:drag2",class:"absolute top-4px left-50% ml--6px text-6px bg-[--dialog-list-hover] drag-handle"}),p("div",z,[p("div",I,[l(s,{name:"material-symbols:arrow-back-ios-new-rounded",class:"cursor-pointer",onClick:t[0]||(t[0]=e=>W.value="")}),m(d(c(R)("home")),1)]),t[6]||(t[6]=p("div",{class:"flex-1 drag-handle h-20px"},null,-1)),p("div",Y,[l(s,{name:"custom:close",class:"text-14px shrink-0 cursor-pointer color-[--main-text]",onClick:t[1]||(t[1]=e=>c(V).visible=!1)})])]),p("div",null,[p("div",$,[p("div",J,[l(a,{"icon-size":"48px",class:"cursor-pointer",wallet_logo:{logo:c(X).profile_pic,name:c(X).name}},null,8,["wallet_logo"]),p("div",K,[p("div",L,[j((o(),r("span",{class:"color-[--main-text] text-16px lh-20px min-w-0 max-w-[calc(100%-80px)] truncate cursor-pointer",onClick:t[2]||(t[2]=t=>e.clickAvatar(c(X).author_id))},[m(d(c(X).name),1)])),[[u,c(X).name]]),c(X).blue_verified?(o(),r("img",T)):x("",!0)]),p("div",A,"@"+d(c(X).username),1)])]),p("div",{class:"w-24px h-24px rounded-4px bg-[--main-list-hover] flex items-center justify-center cursor-pointer",onClick:t[3]||(t[3]=e=>{return t=c(X).twitter_url,window.open(t);var t})},[l(s,{name:"custom:twitter"})])]),c(X).bio?(o(),r("div",G,d(c(X).bio),1)):x("",!0)]),t[7]||(t[7]=p("div",{class:"my-16px h-1px bg-[--dialog-divider]"},null,-1)),p("div",H,[p("div",{style:b({height:`${c(U)}px`,width:"100%",position:"relative"})},[(o(!0),r(f,null,w(c(Q),s=>(o(),r("div",{key:String(s.key),style:b({position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${s.start}px)`})},[p("div",{ref_for:!0,ref:e=>c(O).measureElement(e),"data-index":s.index,class:"border-b-1px border-b-solid border-b-[--border]"},[l(C,{item:ee(s),index:s.index,onMeasureElement:t[4]||(t[4]=t=>c(O).measureElement(e.el))},null,8,["item","index"]),["2","3","4"].includes(ee(s).type)&&(ee(s).retweeted_tweet||ee(s).quoted_tweet||ee(s).replied_tweet)?(o(),r("div",P,[l(C,{item:ee(s).retweeted_tweet||ee(s).quoted_tweet||ee(s).replied_tweet,index:-1,onMeasureElement:t[5]||(t[5]=t=>c(O).measureElement(e.el))},null,8,["item"])])):x("",!0)],8,N)],4))),128))],4)],512)],2)}}};export{R as default};

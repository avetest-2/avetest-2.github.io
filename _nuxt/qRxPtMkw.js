import{n as e,aA as r,a2 as t,D as a,E as s,F as n,bP as l,aW as i,ay as o,qf as u,c as d,o as c,b as m,J as p,q4 as v,by as f,av as b,qg as _,a as A,M as h,t as j,bS as y,H as k,w as T,S as g,a5 as N,a6 as x,al as $,d as w,aa as C,bT as S,a8 as F,L,bV as R,bW as O,ax as U,aP as q,ae as H,c6 as V,aR as K,_ as M,fD as P}from"./pxHhHUe5.js";import{L as W,_ as D}from"./D19t1Ttk.js";import{E}from"./uG3PizZo.js";import"./D6xloY0K.js";import"./Bd4n395U.js";import"./-qzEQscJ.js";import"./Dcx-nvpN.js";import"./BC28JpVo.js";import"./xG3n2otq.js";import"./Ss6PgMLe.js";import"./DGdCcJ75.js";import"./CAY6cvuw.js";import"./3zf6s2PU.js";import"./DU6RBO19.js";import"./DAl9lCvA.js";import"./CJr2h2LL.js";import"./BwPtREp8.js";import"./D5SrGyNL.js";import"./coL0Kds6.js";import"./BRadLzUn.js";import"./Bd5vYUcI.js";import"./DQmdIPac.js";import"./C4ZtUdxm.js";import"./liJ_O3Tw.js";import"./CQ3Cm5RL.js";import"./B3CwgMQF.js";import"./B-rSTJlV.js";import"./8RBFgnO2.js";import"./Brqh9oRf.js";import"./b94L9vb_.js";import"./DlhmlHT6.js";import"./DaNJHyoY.js";import"./B-cUoYio.js";import"./pRNFjbOD.js";import"./BgFcDzLH.js";import"./CthYtH4c.js";import"./akGpTOBp.js";const I=e({__name:"index",props:{currentActiveTab:{type:String,default:"Transactions"}},setup(e){const f=e,b=r(),_=o(!1),A=o(!0),h=n([]),j=o({sort_by:"",order:""}),y=o(""),k=o(""),T=o(""),g=n([]),N=t(),x=s(()=>{var e;return null==(e=b.params)?void 0:e.id}),$=s(()=>{const e=T.value?g.value||[]:h.value||[];return y.value?"sol"==k.value?(null==e?void 0:e.filter(e=>e.sol_first_transfer_in_from==y.value))||[]:(null==e?void 0:e.filter(e=>e.token_first_transfer_in_from==y.value))||[]:e||[]});function w(e){if(!l().currentAddress)return;const r={sort_by:null==e?void 0:e.sort_by,order:null==e?void 0:e.order},t={token_id:x.value,self_address:l().currentAddress,...r};j.value=r,_.value=!0,u(t).then(e=>{const r=(null==e?void 0:e.holderStats)||[];h.value=r||[]}).catch(()=>{h.value=[]}).finally(()=>{_.value=!1})}function C(e){var r;w({sort_by:e.prop,order:null==(r=e.order)?void 0:r.replace("ending","")})}function S(e){if(T.value=e||"",!T.value)return void w(j.value);const r={token_id:x.value,self_address:l().currentAddress,keyword:T.value};_.value=!0,v(r).then(e=>{g.value=Array.isArray(e)?e:[]}).catch(()=>{g.value=[]}).finally(()=>{_.value=!1})}function F(e){y.value?(y.value="",k.value=""):(y.value=e.address||"",k.value=e.type||"")}return a(()=>N.headFollowsNum.all,()=>{"Attention"==f.currentActiveTab&&w()}),a(x,()=>{"Attention"==f.currentActiveTab&&w()}),a(()=>l().currentAddress,e=>{e?"Attention"==f.currentActiveTab&&w():h.value=[]}),i(()=>{"Attention"==f.currentActiveTab&&w()}),(e,r)=>(c(),d("div",null,[m(W,{ref:"holdersRef",tableList:p($),loading:p(_),searchOriginKeyword:p(y),searchOriginType:p(k),isAttention:p(A),onHandleSortChange:C,onFilterAddress:S,onFilterOriginAddress:F},null,8,["tableList","loading","searchOriginKeyword","searchOriginType","isAttention"])]))}}),J={class:"histrory"},Y={class:"top"},Z={key:0,class:"content"},z=["onClick"],B=M(e({__name:"index",props:{currentActiveTab:{type:String,default:"Transactions"}},setup(e){const u=e,v=f(),{t:M}=b(),P=r(),W=o(!1),I=n([]),B=s(()=>{var e;return null==(e=P.params)?void 0:e.id}),G=t(),Q=o(!1),X=n(),ee=s(()=>v.token),re=s(()=>{var e;const r=H(P.params.id);return(null==r?void 0:r.chain)||(null==(e=ee.value)?void 0:e.chain)||""}),te=s(()=>Math.max(v.commonHeight-150,450));function ae(){if(!l().currentAddress)return;const e={token_id:B.value,address:l().currentAddress};W.value=!0,_(e).then(e=>{I.value=e||[]}).finally(()=>{W.value=!1})}return a(()=>G.headFollowsNum.all,()=>{"Attention"==u.currentActiveTab&&ae()}),a(B,()=>{"Attention"==u.currentActiveTab&&ae()}),a(()=>l().currentAddress,e=>{e?"Attention"==u.currentActiveTab&&ae():I.value=[]}),i(()=>{"Attention"==u.currentActiveTab&&ae()}),(e,r)=>{const t=C,a=S,s=U,n=E,i=y;return c(),d("div",J,[A("div",Y,[A("span",null,j(e.$t("address")),1),A("span",null,j(e.$t("remark")),1),A("span",null,j(e.$t("buy")),1),A("span",null,j(e.$t("sell")),1),A("span",null,j(e.$t("Txs"))+" ("+j(e.$t("buy1"))+")",1),A("span",null,j(e.$t("Txs"))+" ("+j(e.$t("sell1"))+")",1),A("span",null,j(e.$t("currentPosition")),1),A("span",null,j(e.$t("balance")),1),A("span",null,j(e.$t("profit")),1)]),h((c(),k(n,{height:p(te)},{default:T(()=>{var n;return[p(I).length>0?(c(),d("ul",Z,[(c(!0),d(N,null,x(p(I),(s,n)=>{var i;return c(),d("li",{key:n,class:"flex",onClick:$(e=>function(e){var r;Q.value=!0,null==(r=X.value)||r.getUserTxs(e.address)}({address:s.user_address}),["stop"])},[A("span",null,[m(t,{ref_for:!0,ref:"attentionTriggerRef",name:"custom:attention",class:"h-16px w-16px clickable shrink-0 color-[#F45469] align-middle",onClick:$(e=>function(e,r){const t={address:l().currentAddress,user_address:e.user_address,user_chain:re.value};V(t).then(()=>{var e;G.getFollowsNum(),K.success(M("attention1Canceled")),null==(e=I.value)||e.splice(r,1)}).catch(e=>{}).finally(()=>{})}(s,n),["stop","prevent"])},null,8,["onClick"]),w(" *"+j(null==(i=s.user_address)?void 0:i.slice(-6)),1)]),A("div",{class:"flex-end",onClick:r[0]||(r[0]=$(()=>{},["stop","prevent"]))},[m(a,{addressClass:"token-symbol ellipsis",addressStyle:"max-width: 70px",showAddressTitle:"",address:s.user_address,chain:p(re),remark:s.remark,onUpdateRemark:({remark:e})=>s.remark=e},null,8,["address","chain","remark","onUpdateRemark"])]),A("div",null,j(("formatNumber"in e?e.formatNumber:p(F))(s.bug_amount||0,2)),1),A("div",null,j(("formatNumber"in e?e.formatNumber:p(F))(s.sell_amount||0,2)),1),A("span",null,j(("formatNumber"in e?e.formatNumber:p(F))(s.bug_count||0,0)),1),A("span",null,j(("formatNumber"in e?e.formatNumber:p(F))(s.sell_count||0,0)),1),A("span",null,j(("formatNumber"in e?e.formatNumber:p(F))(s.current_position||0,2)),1),A("span",null,"$"+j(("formatNumber"in e?e.formatNumber:p(F))(s.position_value||0,2)),1),A("div",null,[A("span",{class:"value",style:L({color:s.profit>=0?p(R)[0]:p(O)[0]})}," $"+j(("formatNumber"in e?e.formatNumber:p(F))(s.profit||0,2)),5)])],8,z)}),128))])):g("",!0),p(I)&&0!==(null==(n=p(I))?void 0:n.length)||p(W)?g("",!0):(c(),k(s,{key:1,class:"mt-200px"}))]}),_:1},8,["height"])),[[i,p(W)]]),m(D,{ref_key:"profitLossRef1",ref:X,modelValue:p(Q),"onUpdate:modelValue":r[1]||(r[1]=e=>q(Q)?Q.value=e:null)},null,8,["modelValue"])])}}}),[["__scopeId","data-v-444be805"]]),G=e({__name:"index",props:{currentActiveTab:{type:String,default:"Transactions"}},setup(e){const t=e,a=r(),n=f(),l=s(()=>{var e;const r=H(a.params.id);return(null==r?void 0:r.chain)||(null==(e=n.token)?void 0:e.chain)||""});return(e,r)=>p(P).includes(p(l))?(c(),k(I,{key:0,currentActiveTab:t.currentActiveTab},null,8,["currentActiveTab"])):(c(),k(B,{key:1,currentActiveTab:t.currentActiveTab},null,8,["currentActiveTab"]))}});export{G as default};

import{n as e,av as t,bm as l,a2 as a,bF as s,bE as o,ai as n,D as r,ay as i,F as c,bQ as u,p_ as p,bG as m,a7 as d,H as x,o as v,w as f,c as h,S as b,J as g,a5 as k,a6 as y,a as w,aG as _,b as C,W as I,aH as D,aI as S,t as j,a8 as q,d as V,aa as $,aq as A,al as B,M as E,ax as H,E as L,_ as T}from"./pxHhHUe5.js";import{g as M,c as F,a as G,_ as z}from"./Dcx-nvpN.js";import{_ as J}from"./DfqZGjWd.js";import{E as N}from"./uG3PizZo.js";import"./QBsq1rEg.js";import"./Brqh9oRf.js";const Q={key:0,class:"pumplive"},R=["onClick"],U={class:"relative w-full pump-live-bg clickable flex items-center justify-center"},W={key:1,class:"rounded-8px bg-[--main-input-button-bg] border border-solid-1px border-[--main-input-button-bg]",src:F,width:"100%",height:"100",alt:"",srcset:""},X={key:2,class:"bg-[--pump-green] color-#000 rounded-4px py-2px px-8px text-14px font-500 absolute bottom-8px left-8px"},Z={class:"flex-between mt-12px"},K=["src"],O=["src"],P=["src"],Y=["src"],ee={class:"ml-6px text-14px font-500 color-[--main-text]"},te={class:"text-12px color-[--third-text]"},le={class:"color-[--pump-green] ml-5px"},ae={class:"color-[--third-text] text-12px mt-15px break-words desc",style:{"line-height":"1.4"}},se={class:"color-[--third-text] text-12px mt-15px flex-start"},oe={class:"flex-between mt-12px items-center"},ne=["href"],re={key:0,class:"flex items-center gap-10px color-[--third-text]"},ie=["href"],ce={key:1},ue=["href"],pe={key:0,class:"text-center py-4 text-12px color-[--third-text]"},me={key:1,class:"text-center py-4 text-12px color-[--third-text]"},de=T(e({__name:"index",setup(e){const{t:T}=t(),F=c([]),de=i(!1),xe=c(!1);l();const ve=a(),fe=i(1),he=i(20),be=s("scrollbar"),ge=o("rankChain","AllChains"),ke=n(),ye=L(()=>990);function we(){if(de.value||xe.value)return;de.value=!0;const e={chain:"AllChains"==ge.value?"":ge.value,category:"pumplive",page_no:fe.value,page_size:he.value,sort:ve.pumpLiveSort.sort,sort_dir:ve.pumpLiveSort.sort_dir};M(e).then(e=>{var t;const l=Array.isArray(e)?null==e?void 0:e.map(e=>({...e,medias:_e(e)})):[];l.length>0&&(fe.value++,F.value=null==(t=F.value)?void 0:t.concat(l)),l.length<he.value&&(xe.value=!0)}).catch(e=>{F.value=[]}).finally(()=>{de.value=!1})}function _e(e){const t=[];return(null==e?void 0:e.twitter)&&t.push({name:"Twitter",icon:"twitter",url:p(e.twitter)}),(null==e?void 0:e.website)&&t.push({name:T("website"),icon:"web",url:p(e.website)}),(null==e?void 0:e.btok)&&t.push({name:"Btok",icon:"btok",url:p(e.btok)}),(null==e?void 0:e.telegram)&&t.push({name:"Telegram",icon:"tg",url:p(e.telegram)}),t}r(()=>ve.pumpLiveSort,()=>{fe.value=1,F.value=[],we()},{deep:!0}),u(()=>{fe.value=1,F.value=[],we()});const Ce=m(({scrollTop:e})=>{var t;const l=null==(t=be.value)?void 0:t.wrapRef;if(!l||de.value||xe.value)return;l.scrollTop+l.clientHeight>=l.scrollHeight-2&&we()},1e3,!0,!1);return(e,t)=>{const l=_,a=I,s=$,o=G,n=J,r=H,i=N,c=d("tooltip");return v(),x(i,{ref_key:"scrollbar",ref:be,height:g(ye),class:"hidden-scrollbar px-15px",onScroll:g(Ce)},{default:f(()=>{var i,u;return[(null==(i=g(F))?void 0:i.length)>0?(v(),h("div",Q,[(v(!0),h(k,null,y(g(F),(r,i)=>{var u,p,m,d,_;return v(),h("div",{class:"item rounded-8px cursor-pointer",key:i,onClick:e=>function(e){const t=ke.resolve({name:"token-id",params:{id:e.token+"-"+e.chain}});window.open(t.href,"_blank")}(r)},[w("div",U,[(null==r?void 0:r.thumbnail)?(v(),x(l,{key:0,fit:"contain",class:"w-100% h-168px rounded-8px bg-[--main-input-button-bg] border border-solid-1px border-[--main-input-button-bg]",src:r.thumbnail,alt:"",srcset:""},null,8,["src"])):(v(),h("img",W)),r.is_currently_live?(v(),h("span",X,"LIVE")):b("",!0)]),w("div",Z,[C(a,{"popper-class":"tooltip-pd-0",placement:"bottom-start","show-arrow":!1,persistent:!1},{default:f(()=>[C(l,{fit:"cover",class:"rd-50% w-24px h-24px",src:("getSymbolDefaultIcon"in e?e.getSymbolDefaultIcon:g(D))(r),alt:"",srcset:""},{placeholder:f(()=>[w("img",{src:("getChainDefaultIcon"in e?e.getChainDefaultIcon:g(S))(r.chain,r.symbol),class:"token-icon w-24px text-16px color-#fff"},null,8,K)]),error:f(()=>[w("img",{src:("getChainDefaultIcon"in e?e.getChainDefaultIcon:g(S))(r.chain,r.symbol),class:"token-icon w-24px text-16px color-#fff"},null,8,O)]),_:2},1032,["src"])]),content:f(()=>[C(l,{fit:"cover",class:"rd-8px w-240px h-240px",src:("getSymbolDefaultIcon"in e?e.getSymbolDefaultIcon:g(D))(r),alt:"",srcset:""},{placeholder:f(()=>[w("img",{src:("getChainDefaultIcon"in e?e.getChainDefaultIcon:g(S))(r.chain,r.symbol),class:"token-icon w-228px text-16px color-#fff"},null,8,P)]),error:f(()=>[w("img",{src:("getChainDefaultIcon"in e?e.getChainDefaultIcon:g(S))(r.chain,r.symbol),class:"token-icon w-228px text-16px color-#fff"},null,8,Y)]),_:2},1032,["src"])]),_:2},1024),w("span",ee,j(r.symbol),1),t[4]||(t[4]=w("span",{class:"flex-1"},null,-1)),w("div",te,[t[3]||(t[3]=w("span",{class:"color"},"MC",-1)),w("span",le,"$"+j(g(q)(r.usd_market_cap||0,2)),1)])]),w("div",ae,j(r.description),1),w("div",se,[C(s,{class:"mr-5px text-16px",name:"custom:reply"}),V(" "+j(g(q)(r.reply_count||0,0))+" ",1),C(s,{class:"ml-16px mr-5px text-16px",name:"custom:time-line"}),V(" "+j(g(A)(r.created_timestamp).locale("en").fromNow()),1)]),w("div",oe,[w("a",{class:"mr-10px hover:opacity-70 leading-16px",href:r.detail_url,target:"_blank",onClick:t[0]||(t[0]=B(()=>{},["stop"]))},[C(s,{class:"color-[--pump-green] text-16px",name:"custom:link"})],8,ne),(null==(u=null==r?void 0:r.medias)?void 0:u.length)>0?(v(),h("div",re,[(v(!0),h(k,null,y(null==r?void 0:r.medias,(e,l)=>(v(),h(k,{key:l},["twitter"===e.icon?(v(),x(o,{key:0,tokenId:r.token+"-"+r.chain,type:r.twitter_type},{default:f(()=>[w("a",{class:"flex items-center",href:e.url,target:"_blank",onClick:t[1]||(t[1]=B(()=>{},["stop"]))},[[1,2,3].includes(r.twitter_type)?(v(),x(z,{key:0,type:r.twitter_type},null,8,["type"])):(v(),x(s,{key:1,name:`custom:${e.icon}`},null,8,["name"]))],8,ie)]),_:2},1032,["tokenId","type"])):e.url?E((v(),h("div",ce,[w("a",{class:"flex items-center",href:e.url,target:"_blank",onClick:t[2]||(t[2]=B(()=>{},["stop"]))},[C(s,{name:`custom:${e.icon}`},null,8,["name"])],8,ue)])),[[c,e.url]]):b("",!0)],64))),128))])):b("",!0),t[5]||(t[5]=w("span",{class:"flex-1"},null,-1)),(null==(m=null==(p=g(ve))?void 0:p.rankCommon)?void 0:m.quickVisible)?(v(),x(n,{key:1,quickBuyValue:null==(_=null==(d=g(ve))?void 0:d.rankCommon)?void 0:_.quickBuyValue,row:r},null,8,["quickBuyValue","row"])):b("",!0)])],8,R)}),128))])):b("",!0),g(F)&&0!==(null==(u=g(F))?void 0:u.length)||g(de)?(v(),h(k,{key:2},[g(de)?(v(),h("div",pe,j(e.$t("loading")),1)):g(xe)?(v(),h("div",me,j(e.$t("noMore")),1)):b("",!0)],64)):(v(),x(r,{key:1,class:"mt-200px"}))]}),_:1},8,["height","onScroll"])}}}),[["__scopeId","data-v-3b1fd539"]]);export{de as default};
